{
  "version": 3,
  "sources": ["../../echarts/lib/util/clazz.js", "../../echarts/lib/model/mixin/makeStyleMapper.js", "../../echarts/lib/model/mixin/areaStyle.js", "../../echarts/lib/util/number.js", "../../echarts/lib/util/log.js", "../../echarts/lib/util/model.js", "../../echarts/lib/util/innerStore.js", "../../echarts/lib/util/states.js", "../../echarts/lib/util/graphic.js", "../../zrender/lib/tool/transformPath.js", "../../zrender/lib/tool/path.js", "../../zrender/lib/graphic/Group.js", "../../zrender/lib/graphic/shape/Circle.js", "../../zrender/lib/graphic/shape/Ellipse.js", "../../zrender/lib/graphic/helper/roundSector.js", "../../zrender/lib/graphic/shape/Sector.js", "../../zrender/lib/graphic/shape/Ring.js", "../../zrender/lib/graphic/helper/smoothBezier.js", "../../zrender/lib/graphic/helper/poly.js", "../../zrender/lib/graphic/shape/Polygon.js", "../../zrender/lib/graphic/shape/Polyline.js", "../../zrender/lib/graphic/shape/Line.js", "../../zrender/lib/graphic/shape/BezierCurve.js", "../../zrender/lib/graphic/shape/Arc.js", "../../zrender/lib/graphic/Gradient.js", "../../zrender/lib/graphic/LinearGradient.js", "../../zrender/lib/graphic/RadialGradient.js", "../../zrender/lib/core/OrientedBoundingRect.js", "../../zrender/lib/graphic/IncrementalDisplayable.js", "../../echarts/lib/animation/basicTransition.js", "../../echarts/lib/label/labelStyle.js", "../../echarts/lib/model/mixin/textStyle.js", "../../echarts/lib/model/mixin/lineStyle.js", "../../echarts/lib/model/mixin/itemStyle.js", "../../echarts/lib/model/Model.js", "../../echarts/lib/i18n/langEN.js", "../../echarts/lib/i18n/langZH.js", "../../echarts/lib/core/locale.js", "../../echarts/lib/util/component.js", "../../echarts/lib/util/time.js", "../../echarts/lib/legacy/getTextRect.js", "../../echarts/lib/util/format.js", "../../echarts/lib/util/layout.js", "../../echarts/lib/model/Component.js", "../../echarts/lib/model/mixin/palette.js", "../../echarts/lib/util/types.js", "../../echarts/lib/data/helper/sourceHelper.js", "../../echarts/lib/data/Source.js", "../../echarts/lib/data/helper/dataProvider.js", "../../echarts/lib/model/mixin/dataFormat.js", "../../echarts/lib/core/task.js", "../../echarts/lib/data/helper/dataValueHelper.js", "../../echarts/lib/data/helper/transform.js", "../../echarts/lib/data/DataStore.js", "../../echarts/lib/data/helper/sourceManager.js", "../../echarts/lib/component/tooltip/tooltipMarkup.js", "../../echarts/lib/component/tooltip/seriesFormatTooltip.js", "../../echarts/lib/model/Series.js", "../../echarts/lib/data/DataDiffer.js", "../../echarts/lib/label/labelLayoutHelper.js"],
  "sourcesContent": ["\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nvar TYPE_DELIMITER = '.';\r\nvar IS_CONTAINER = '___EC__COMPONENT__CONTAINER___';\r\nvar IS_EXTENDED_CLASS = '___EC__EXTENDED_CLASS___';\r\n/**\r\n * Notice, parseClassType('') should returns {main: '', sub: ''}\r\n * @public\r\n */\r\n\r\nexport function parseClassType(componentType) {\r\n  var ret = {\r\n    main: '',\r\n    sub: ''\r\n  };\r\n\r\n  if (componentType) {\r\n    var typeArr = componentType.split(TYPE_DELIMITER);\r\n    ret.main = typeArr[0] || '';\r\n    ret.sub = typeArr[1] || '';\r\n  }\r\n\r\n  return ret;\r\n}\r\n/**\r\n * @public\r\n */\r\n\r\nfunction checkClassType(componentType) {\r\n  zrUtil.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(componentType), 'componentType \"' + componentType + '\" illegal');\r\n}\r\n\r\nexport function isExtendedClass(clz) {\r\n  return !!(clz && clz[IS_EXTENDED_CLASS]);\r\n}\r\n/**\r\n * Implements `ExtendableConstructor` for `rootClz`.\r\n *\r\n * @usage\r\n * ```ts\r\n * class Xxx {}\r\n * type XxxConstructor = typeof Xxx & ExtendableConstructor\r\n * enableClassExtend(Xxx as XxxConstructor);\r\n * ```\r\n */\r\n\r\nexport function enableClassExtend(rootClz, mandatoryMethods) {\r\n  rootClz.$constructor = rootClz; // FIXME: not necessary?\r\n\r\n  rootClz.extend = function (proto) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      zrUtil.each(mandatoryMethods, function (method) {\r\n        if (!proto[method]) {\r\n          console.warn('Method `' + method + '` should be implemented' + (proto.type ? ' in ' + proto.type : '') + '.');\r\n        }\r\n      });\r\n    }\r\n\r\n    var superClass = this;\r\n    var ExtendedClass;\r\n\r\n    if (isESClass(superClass)) {\r\n      ExtendedClass =\r\n      /** @class */\r\n      function (_super) {\r\n        __extends(class_1, _super);\r\n\r\n        function class_1() {\r\n          return _super.apply(this, arguments) || this;\r\n        }\r\n\r\n        return class_1;\r\n      }(superClass);\r\n    } else {\r\n      // For backward compat, we both support ts class inheritance and this\r\n      // \"extend\" approach.\r\n      // The constructor should keep the same behavior as ts class inheritance:\r\n      // If this constructor/$constructor is not declared, auto invoke the super\r\n      // constructor.\r\n      // If this constructor/$constructor is declared, it is responsible for\r\n      // calling the super constructor.\r\n      ExtendedClass = function () {\r\n        (proto.$constructor || superClass).apply(this, arguments);\r\n      };\r\n\r\n      zrUtil.inherits(ExtendedClass, this);\r\n    }\r\n\r\n    zrUtil.extend(ExtendedClass.prototype, proto);\r\n    ExtendedClass[IS_EXTENDED_CLASS] = true;\r\n    ExtendedClass.extend = this.extend;\r\n    ExtendedClass.superCall = superCall;\r\n    ExtendedClass.superApply = superApply;\r\n    ExtendedClass.superClass = superClass;\r\n    return ExtendedClass;\r\n  };\r\n}\r\n\r\nfunction isESClass(fn) {\r\n  return zrUtil.isFunction(fn) && /^class\\s/.test(Function.prototype.toString.call(fn));\r\n}\r\n/**\r\n * A work around to both support ts extend and this extend mechanism.\r\n * on sub-class.\r\n * @usage\r\n * ```ts\r\n * class Component { ... }\r\n * classUtil.enableClassExtend(Component);\r\n * classUtil.enableClassManagement(Component, {registerWhenExtend: true});\r\n *\r\n * class Series extends Component { ... }\r\n * // Without calling `markExtend`, `registerWhenExtend` will not work.\r\n * Component.markExtend(Series);\r\n * ```\r\n */\r\n\r\n\r\nexport function mountExtend(SubClz, SupperClz) {\r\n  SubClz.extend = SupperClz.extend;\r\n} // A random offset.\r\n\r\nvar classBase = Math.round(Math.random() * 10);\r\n/**\r\n * Implements `CheckableConstructor` for `target`.\r\n * Can not use instanceof, consider different scope by\r\n * cross domain or es module import in ec extensions.\r\n * Mount a method \"isInstance()\" to Clz.\r\n *\r\n * @usage\r\n * ```ts\r\n * class Xxx {}\r\n * type XxxConstructor = typeof Xxx & CheckableConstructor;\r\n * enableClassCheck(Xxx as XxxConstructor)\r\n * ```\r\n */\r\n\r\nexport function enableClassCheck(target) {\r\n  var classAttr = ['__\\0is_clz', classBase++].join('_');\r\n  target.prototype[classAttr] = true;\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    zrUtil.assert(!target.isInstance, 'The method \"is\" can not be defined.');\r\n  }\r\n\r\n  target.isInstance = function (obj) {\r\n    return !!(obj && obj[classAttr]);\r\n  };\r\n} // superCall should have class info, which can not be fetched from 'this'.\r\n// Consider this case:\r\n// class A has method f,\r\n// class B inherits class A, overrides method f, f call superApply('f'),\r\n// class C inherits class B, does not override method f,\r\n// then when method of class C is called, dead loop occurred.\r\n\r\nfunction superCall(context, methodName) {\r\n  var args = [];\r\n\r\n  for (var _i = 2; _i < arguments.length; _i++) {\r\n    args[_i - 2] = arguments[_i];\r\n  }\r\n\r\n  return this.superClass.prototype[methodName].apply(context, args);\r\n}\r\n\r\nfunction superApply(context, methodName, args) {\r\n  return this.superClass.prototype[methodName].apply(context, args);\r\n}\r\n/**\r\n * Implements `ClassManager` for `target`\r\n *\r\n * @usage\r\n * ```ts\r\n * class Xxx {}\r\n * type XxxConstructor = typeof Xxx & ClassManager\r\n * enableClassManagement(Xxx as XxxConstructor);\r\n * ```\r\n */\r\n\r\n\r\nexport function enableClassManagement(target) {\r\n  /**\r\n   * Component model classes\r\n   * key: componentType,\r\n   * value:\r\n   *     componentClass, when componentType is 'a'\r\n   *     or Object.<subKey, componentClass>, when componentType is 'a.b'\r\n   */\r\n  var storage = {};\r\n\r\n  target.registerClass = function (clz) {\r\n    // `type` should not be a \"instance member\".\r\n    // If using TS class, should better declared as `static type = 'series.pie'`.\r\n    // otherwise users have to mount `type` on prototype manually.\r\n    // For backward compat and enable instance visit type via `this.type`,\r\n    // we still support fetch `type` from prototype.\r\n    var componentFullType = clz.type || clz.prototype.type;\r\n\r\n    if (componentFullType) {\r\n      checkClassType(componentFullType); // If only static type declared, we assign it to prototype mandatorily.\r\n\r\n      clz.prototype.type = componentFullType;\r\n      var componentTypeInfo = parseClassType(componentFullType);\r\n\r\n      if (!componentTypeInfo.sub) {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n          if (storage[componentTypeInfo.main]) {\r\n            console.warn(componentTypeInfo.main + ' exists.');\r\n          }\r\n        }\r\n\r\n        storage[componentTypeInfo.main] = clz;\r\n      } else if (componentTypeInfo.sub !== IS_CONTAINER) {\r\n        var container = makeContainer(componentTypeInfo);\r\n        container[componentTypeInfo.sub] = clz;\r\n      }\r\n    }\r\n\r\n    return clz;\r\n  };\r\n\r\n  target.getClass = function (mainType, subType, throwWhenNotFound) {\r\n    var clz = storage[mainType];\r\n\r\n    if (clz && clz[IS_CONTAINER]) {\r\n      clz = subType ? clz[subType] : null;\r\n    }\r\n\r\n    if (throwWhenNotFound && !clz) {\r\n      throw new Error(!subType ? mainType + '.' + 'type should be specified.' : 'Component ' + mainType + '.' + (subType || '') + ' is used but not imported.');\r\n    }\r\n\r\n    return clz;\r\n  };\r\n\r\n  target.getClassesByMainType = function (componentType) {\r\n    var componentTypeInfo = parseClassType(componentType);\r\n    var result = [];\r\n    var obj = storage[componentTypeInfo.main];\r\n\r\n    if (obj && obj[IS_CONTAINER]) {\r\n      zrUtil.each(obj, function (o, type) {\r\n        type !== IS_CONTAINER && result.push(o);\r\n      });\r\n    } else {\r\n      result.push(obj);\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  target.hasClass = function (componentType) {\r\n    // Just consider componentType.main.\r\n    var componentTypeInfo = parseClassType(componentType);\r\n    return !!storage[componentTypeInfo.main];\r\n  };\r\n  /**\r\n   * @return Like ['aa', 'bb'], but can not be ['aa.xx']\r\n   */\r\n\r\n\r\n  target.getAllClassMainTypes = function () {\r\n    var types = [];\r\n    zrUtil.each(storage, function (obj, type) {\r\n      types.push(type);\r\n    });\r\n    return types;\r\n  };\r\n  /**\r\n   * If a main type is container and has sub types\r\n   */\r\n\r\n\r\n  target.hasSubTypes = function (componentType) {\r\n    var componentTypeInfo = parseClassType(componentType);\r\n    var obj = storage[componentTypeInfo.main];\r\n    return obj && obj[IS_CONTAINER];\r\n  };\r\n\r\n  function makeContainer(componentTypeInfo) {\r\n    var container = storage[componentTypeInfo.main];\r\n\r\n    if (!container || !container[IS_CONTAINER]) {\r\n      container = storage[componentTypeInfo.main] = {};\r\n      container[IS_CONTAINER] = true;\r\n    }\r\n\r\n    return container;\r\n  }\r\n} // /**\r\n//  * @param {string|Array.<string>} properties\r\n//  */\r\n// export function setReadOnly(obj, properties) {\r\n// FIXME It seems broken in IE8 simulation of IE11\r\n// if (!zrUtil.isArray(properties)) {\r\n//     properties = properties != null ? [properties] : [];\r\n// }\r\n// zrUtil.each(properties, function (prop) {\r\n//     let value = obj[prop];\r\n//     Object.defineProperty\r\n//         && Object.defineProperty(obj, prop, {\r\n//             value: value, writable: false\r\n//         });\r\n//     zrUtil.isArray(obj[prop])\r\n//         && Object.freeze\r\n//         && Object.freeze(obj[prop]);\r\n// });\r\n// }", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n// TODO Parse shadow style\r\n// TODO Only shallow path support\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nexport default function makeStyleMapper(properties, ignoreParent) {\r\n  // Normalize\r\n  for (var i = 0; i < properties.length; i++) {\r\n    if (!properties[i][1]) {\r\n      properties[i][1] = properties[i][0];\r\n    }\r\n  }\r\n\r\n  ignoreParent = ignoreParent || false;\r\n  return function (model, excludes, includes) {\r\n    var style = {};\r\n\r\n    for (var i = 0; i < properties.length; i++) {\r\n      var propName = properties[i][1];\r\n\r\n      if (excludes && zrUtil.indexOf(excludes, propName) >= 0 || includes && zrUtil.indexOf(includes, propName) < 0) {\r\n        continue;\r\n      }\r\n\r\n      var val = model.getShallow(propName, ignoreParent);\r\n\r\n      if (val != null) {\r\n        style[properties[i][0]] = val;\r\n      }\r\n    } // TODO Text or image?\r\n\r\n\r\n    return style;\r\n  };\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport makeStyleMapper from './makeStyleMapper.js';\r\nexport var AREA_STYLE_KEY_MAP = [['fill', 'color'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['opacity'], ['shadowColor'] // Option decal is in `DecalObject` but style.decal is in `PatternObject`.\r\n// So do not transfer decal directly.\r\n];\r\nvar getAreaStyle = makeStyleMapper(AREA_STYLE_KEY_MAP);\r\n\r\nvar AreaStyleMixin =\r\n/** @class */\r\nfunction () {\r\n  function AreaStyleMixin() {}\r\n\r\n  AreaStyleMixin.prototype.getAreaStyle = function (excludes, includes) {\r\n    return getAreaStyle(this, excludes, includes);\r\n  };\r\n\r\n  return AreaStyleMixin;\r\n}();\r\n\r\n;\r\nexport { AreaStyleMixin };", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n/*\r\n* A third-party license is embedded for some of the code in this file:\r\n* The method \"quantile\" was copied from \"d3.js\".\r\n* (See more details in the comment of the method below.)\r\n* The use of the source code of this file is also subject to the terms\r\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\r\n* </licenses/LICENSE-d3>).\r\n*/\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nvar RADIAN_EPSILON = 1e-4; // Although chrome already enlarge this number to 100 for `toFixed`, but\r\n// we sill follow the spec for compatibility.\r\n\r\nvar ROUND_SUPPORTED_PRECISION_MAX = 20;\r\n\r\nfunction _trim(str) {\r\n  return str.replace(/^\\s+|\\s+$/g, '');\r\n}\r\n/**\r\n * Linear mapping a value from domain to range\r\n * @param  val\r\n * @param  domain Domain extent domain[0] can be bigger than domain[1]\r\n * @param  range  Range extent range[0] can be bigger than range[1]\r\n * @param  clamp Default to be false\r\n */\r\n\r\n\r\nexport function linearMap(val, domain, range, clamp) {\r\n  var d0 = domain[0];\r\n  var d1 = domain[1];\r\n  var r0 = range[0];\r\n  var r1 = range[1];\r\n  var subDomain = d1 - d0;\r\n  var subRange = r1 - r0;\r\n\r\n  if (subDomain === 0) {\r\n    return subRange === 0 ? r0 : (r0 + r1) / 2;\r\n  } // Avoid accuracy problem in edge, such as\r\n  // 146.39 - 62.83 === 83.55999999999999.\r\n  // See echarts/test/ut/spec/util/number.js#linearMap#accuracyError\r\n  // It is a little verbose for efficiency considering this method\r\n  // is a hotspot.\r\n\r\n\r\n  if (clamp) {\r\n    if (subDomain > 0) {\r\n      if (val <= d0) {\r\n        return r0;\r\n      } else if (val >= d1) {\r\n        return r1;\r\n      }\r\n    } else {\r\n      if (val >= d0) {\r\n        return r0;\r\n      } else if (val <= d1) {\r\n        return r1;\r\n      }\r\n    }\r\n  } else {\r\n    if (val === d0) {\r\n      return r0;\r\n    }\r\n\r\n    if (val === d1) {\r\n      return r1;\r\n    }\r\n  }\r\n\r\n  return (val - d0) / subDomain * subRange + r0;\r\n}\r\n/**\r\n * Convert a percent string to absolute number.\r\n * Returns NaN if percent is not a valid string or number\r\n */\r\n\r\nexport function parsePercent(percent, all) {\r\n  switch (percent) {\r\n    case 'center':\r\n    case 'middle':\r\n      percent = '50%';\r\n      break;\r\n\r\n    case 'left':\r\n    case 'top':\r\n      percent = '0%';\r\n      break;\r\n\r\n    case 'right':\r\n    case 'bottom':\r\n      percent = '100%';\r\n      break;\r\n  }\r\n\r\n  if (zrUtil.isString(percent)) {\r\n    if (_trim(percent).match(/%$/)) {\r\n      return parseFloat(percent) / 100 * all;\r\n    }\r\n\r\n    return parseFloat(percent);\r\n  }\r\n\r\n  return percent == null ? NaN : +percent;\r\n}\r\nexport function round(x, precision, returnStr) {\r\n  if (precision == null) {\r\n    precision = 10;\r\n  } // Avoid range error\r\n\r\n\r\n  precision = Math.min(Math.max(0, precision), ROUND_SUPPORTED_PRECISION_MAX); // PENDING: 1.005.toFixed(2) is '1.00' rather than '1.01'\r\n\r\n  x = (+x).toFixed(precision);\r\n  return returnStr ? x : +x;\r\n}\r\n/**\r\n * Inplacd asc sort arr.\r\n * The input arr will be modified.\r\n */\r\n\r\nexport function asc(arr) {\r\n  arr.sort(function (a, b) {\r\n    return a - b;\r\n  });\r\n  return arr;\r\n}\r\n/**\r\n * Get precision.\r\n */\r\n\r\nexport function getPrecision(val) {\r\n  val = +val;\r\n\r\n  if (isNaN(val)) {\r\n    return 0;\r\n  } // It is much faster than methods converting number to string as follows\r\n  //      let tmp = val.toString();\r\n  //      return tmp.length - 1 - tmp.indexOf('.');\r\n  // especially when precision is low\r\n  // Notice:\r\n  // (1) If the loop count is over about 20, it is slower than `getPrecisionSafe`.\r\n  //     (see https://jsbench.me/2vkpcekkvw/1)\r\n  // (2) If the val is less than for example 1e-15, the result may be incorrect.\r\n  //     (see test/ut/spec/util/number.test.ts `getPrecision_equal_random`)\r\n\r\n\r\n  if (val > 1e-14) {\r\n    var e = 1;\r\n\r\n    for (var i = 0; i < 15; i++, e *= 10) {\r\n      if (Math.round(val * e) / e === val) {\r\n        return i;\r\n      }\r\n    }\r\n  }\r\n\r\n  return getPrecisionSafe(val);\r\n}\r\n/**\r\n * Get precision with slow but safe method\r\n */\r\n\r\nexport function getPrecisionSafe(val) {\r\n  // toLowerCase for: '3.4E-12'\r\n  var str = val.toString().toLowerCase(); // Consider scientific notation: '3.4e-12' '3.4e+12'\r\n\r\n  var eIndex = str.indexOf('e');\r\n  var exp = eIndex > 0 ? +str.slice(eIndex + 1) : 0;\r\n  var significandPartLen = eIndex > 0 ? eIndex : str.length;\r\n  var dotIndex = str.indexOf('.');\r\n  var decimalPartLen = dotIndex < 0 ? 0 : significandPartLen - 1 - dotIndex;\r\n  return Math.max(0, decimalPartLen - exp);\r\n}\r\n/**\r\n * Minimal dicernible data precisioin according to a single pixel.\r\n */\r\n\r\nexport function getPixelPrecision(dataExtent, pixelExtent) {\r\n  var log = Math.log;\r\n  var LN10 = Math.LN10;\r\n  var dataQuantity = Math.floor(log(dataExtent[1] - dataExtent[0]) / LN10);\r\n  var sizeQuantity = Math.round(log(Math.abs(pixelExtent[1] - pixelExtent[0])) / LN10); // toFixed() digits argument must be between 0 and 20.\r\n\r\n  var precision = Math.min(Math.max(-dataQuantity + sizeQuantity, 0), 20);\r\n  return !isFinite(precision) ? 20 : precision;\r\n}\r\n/**\r\n * Get a data of given precision, assuring the sum of percentages\r\n * in valueList is 1.\r\n * The largest remainder method is used.\r\n * https://en.wikipedia.org/wiki/Largest_remainder_method\r\n *\r\n * @param valueList a list of all data\r\n * @param idx index of the data to be processed in valueList\r\n * @param precision integer number showing digits of precision\r\n * @return percent ranging from 0 to 100\r\n */\r\n\r\nexport function getPercentWithPrecision(valueList, idx, precision) {\r\n  if (!valueList[idx]) {\r\n    return 0;\r\n  }\r\n\r\n  var seats = getPercentSeats(valueList, precision);\r\n  return seats[idx] || 0;\r\n}\r\n/**\r\n * Get a data of given precision, assuring the sum of percentages\r\n * in valueList is 1.\r\n * The largest remainder method is used.\r\n * https://en.wikipedia.org/wiki/Largest_remainder_method\r\n *\r\n * @param valueList a list of all data\r\n * @param precision integer number showing digits of precision\r\n * @return {Array<number>}\r\n */\r\n\r\nexport function getPercentSeats(valueList, precision) {\r\n  var sum = zrUtil.reduce(valueList, function (acc, val) {\r\n    return acc + (isNaN(val) ? 0 : val);\r\n  }, 0);\r\n\r\n  if (sum === 0) {\r\n    return [];\r\n  }\r\n\r\n  var digits = Math.pow(10, precision);\r\n  var votesPerQuota = zrUtil.map(valueList, function (val) {\r\n    return (isNaN(val) ? 0 : val) / sum * digits * 100;\r\n  });\r\n  var targetSeats = digits * 100;\r\n  var seats = zrUtil.map(votesPerQuota, function (votes) {\r\n    // Assign automatic seats.\r\n    return Math.floor(votes);\r\n  });\r\n  var currentSum = zrUtil.reduce(seats, function (acc, val) {\r\n    return acc + val;\r\n  }, 0);\r\n  var remainder = zrUtil.map(votesPerQuota, function (votes, idx) {\r\n    return votes - seats[idx];\r\n  }); // Has remainding votes.\r\n\r\n  while (currentSum < targetSeats) {\r\n    // Find next largest remainder.\r\n    var max = Number.NEGATIVE_INFINITY;\r\n    var maxId = null;\r\n\r\n    for (var i = 0, len = remainder.length; i < len; ++i) {\r\n      if (remainder[i] > max) {\r\n        max = remainder[i];\r\n        maxId = i;\r\n      }\r\n    } // Add a vote to max remainder.\r\n\r\n\r\n    ++seats[maxId];\r\n    remainder[maxId] = 0;\r\n    ++currentSum;\r\n  }\r\n\r\n  return zrUtil.map(seats, function (seat) {\r\n    return seat / digits;\r\n  });\r\n}\r\n/**\r\n * Solve the floating point adding problem like 0.1 + 0.2 === 0.30000000000000004\r\n * See <http://0.30000000000000004.com/>\r\n */\r\n\r\nexport function addSafe(val0, val1) {\r\n  var maxPrecision = Math.max(getPrecision(val0), getPrecision(val1)); // const multiplier = Math.pow(10, maxPrecision);\r\n  // return (Math.round(val0 * multiplier) + Math.round(val1 * multiplier)) / multiplier;\r\n\r\n  var sum = val0 + val1; // // PENDING: support more?\r\n\r\n  return maxPrecision > ROUND_SUPPORTED_PRECISION_MAX ? sum : round(sum, maxPrecision);\r\n} // Number.MAX_SAFE_INTEGER, ie do not support.\r\n\r\nexport var MAX_SAFE_INTEGER = 9007199254740991;\r\n/**\r\n * To 0 - 2 * PI, considering negative radian.\r\n */\r\n\r\nexport function remRadian(radian) {\r\n  var pi2 = Math.PI * 2;\r\n  return (radian % pi2 + pi2) % pi2;\r\n}\r\n/**\r\n * @param {type} radian\r\n * @return {boolean}\r\n */\r\n\r\nexport function isRadianAroundZero(val) {\r\n  return val > -RADIAN_EPSILON && val < RADIAN_EPSILON;\r\n} // eslint-disable-next-line\r\n\r\nvar TIME_REG = /^(?:(\\d{4})(?:[-\\/](\\d{1,2})(?:[-\\/](\\d{1,2})(?:[T ](\\d{1,2})(?::(\\d{1,2})(?::(\\d{1,2})(?:[.,](\\d+))?)?)?(Z|[\\+\\-]\\d\\d:?\\d\\d)?)?)?)?)?$/; // jshint ignore:line\r\n\r\n/**\r\n * @param value valid type: number | string | Date, otherwise return `new Date(NaN)`\r\n *   These values can be accepted:\r\n *   + An instance of Date, represent a time in its own time zone.\r\n *   + Or string in a subset of ISO 8601, only including:\r\n *     + only year, month, date: '2012-03', '2012-03-01', '2012-03-01 05', '2012-03-01 05:06',\r\n *     + separated with T or space: '2012-03-01T12:22:33.123', '2012-03-01 12:22:33.123',\r\n *     + time zone: '2012-03-01T12:22:33Z', '2012-03-01T12:22:33+8000', '2012-03-01T12:22:33-05:00',\r\n *     all of which will be treated as local time if time zone is not specified\r\n *     (see <https://momentjs.com/>).\r\n *   + Or other string format, including (all of which will be treated as local time):\r\n *     '2012', '2012-3-1', '2012/3/1', '2012/03/01',\r\n *     '2009/6/12 2:00', '2009/6/12 2:05:08', '2009/6/12 2:05:08.123'\r\n *   + a timestamp, which represent a time in UTC.\r\n * @return date Never be null/undefined. If invalid, return `new Date(NaN)`.\r\n */\r\n\r\nexport function parseDate(value) {\r\n  if (value instanceof Date) {\r\n    return value;\r\n  } else if (zrUtil.isString(value)) {\r\n    // Different browsers parse date in different way, so we parse it manually.\r\n    // Some other issues:\r\n    // new Date('1970-01-01') is UTC,\r\n    // new Date('1970/01/01') and new Date('1970-1-01') is local.\r\n    // See issue #3623\r\n    var match = TIME_REG.exec(value);\r\n\r\n    if (!match) {\r\n      // return Invalid Date.\r\n      return new Date(NaN);\r\n    } // Use local time when no timezone offset is specified.\r\n\r\n\r\n    if (!match[8]) {\r\n      // match[n] can only be string or undefined.\r\n      // But take care of '12' + 1 => '121'.\r\n      return new Date(+match[1], +(match[2] || 1) - 1, +match[3] || 1, +match[4] || 0, +(match[5] || 0), +match[6] || 0, match[7] ? +match[7].substring(0, 3) : 0);\r\n    } // Timezoneoffset of Javascript Date has considered DST (Daylight Saving Time,\r\n    // https://tc39.github.io/ecma262/#sec-daylight-saving-time-adjustment).\r\n    // For example, system timezone is set as \"Time Zone: America/Toronto\",\r\n    // then these code will get different result:\r\n    // `new Date(1478411999999).getTimezoneOffset();  // get 240`\r\n    // `new Date(1478412000000).getTimezoneOffset();  // get 300`\r\n    // So we should not use `new Date`, but use `Date.UTC`.\r\n    else {\r\n        var hour = +match[4] || 0;\r\n\r\n        if (match[8].toUpperCase() !== 'Z') {\r\n          hour -= +match[8].slice(0, 3);\r\n        }\r\n\r\n        return new Date(Date.UTC(+match[1], +(match[2] || 1) - 1, +match[3] || 1, hour, +(match[5] || 0), +match[6] || 0, match[7] ? +match[7].substring(0, 3) : 0));\r\n      }\r\n  } else if (value == null) {\r\n    return new Date(NaN);\r\n  }\r\n\r\n  return new Date(Math.round(value));\r\n}\r\n/**\r\n * Quantity of a number. e.g. 0.1, 1, 10, 100\r\n *\r\n * @param val\r\n * @return\r\n */\r\n\r\nexport function quantity(val) {\r\n  return Math.pow(10, quantityExponent(val));\r\n}\r\n/**\r\n * Exponent of the quantity of a number\r\n * e.g., 1234 equals to 1.234*10^3, so quantityExponent(1234) is 3\r\n *\r\n * @param val non-negative value\r\n * @return\r\n */\r\n\r\nexport function quantityExponent(val) {\r\n  if (val === 0) {\r\n    return 0;\r\n  }\r\n\r\n  var exp = Math.floor(Math.log(val) / Math.LN10);\r\n  /**\r\n   * exp is expected to be the rounded-down result of the base-10 log of val.\r\n   * But due to the precision loss with Math.log(val), we need to restore it\r\n   * using 10^exp to make sure we can get val back from exp. #11249\r\n   */\r\n\r\n  if (val / Math.pow(10, exp) >= 10) {\r\n    exp++;\r\n  }\r\n\r\n  return exp;\r\n}\r\n/**\r\n * find a “nice” number approximately equal to x. Round the number if round = true,\r\n * take ceiling if round = false. The primary observation is that the “nicest”\r\n * numbers in decimal are 1, 2, and 5, and all power-of-ten multiples of these numbers.\r\n *\r\n * See \"Nice Numbers for Graph Labels\" of Graphic Gems.\r\n *\r\n * @param  val Non-negative value.\r\n * @param  round\r\n * @return Niced number\r\n */\r\n\r\nexport function nice(val, round) {\r\n  var exponent = quantityExponent(val);\r\n  var exp10 = Math.pow(10, exponent);\r\n  var f = val / exp10; // 1 <= f < 10\r\n\r\n  var nf;\r\n\r\n  if (round) {\r\n    if (f < 1.5) {\r\n      nf = 1;\r\n    } else if (f < 2.5) {\r\n      nf = 2;\r\n    } else if (f < 4) {\r\n      nf = 3;\r\n    } else if (f < 7) {\r\n      nf = 5;\r\n    } else {\r\n      nf = 10;\r\n    }\r\n  } else {\r\n    if (f < 1) {\r\n      nf = 1;\r\n    } else if (f < 2) {\r\n      nf = 2;\r\n    } else if (f < 3) {\r\n      nf = 3;\r\n    } else if (f < 5) {\r\n      nf = 5;\r\n    } else {\r\n      nf = 10;\r\n    }\r\n  }\r\n\r\n  val = nf * exp10; // Fix 3 * 0.1 === 0.30000000000000004 issue (see IEEE 754).\r\n  // 20 is the uppper bound of toFixed.\r\n\r\n  return exponent >= -20 ? +val.toFixed(exponent < 0 ? -exponent : 0) : val;\r\n}\r\n/**\r\n * This code was copied from \"d3.js\"\r\n * <https://github.com/d3/d3/blob/9cc9a875e636a1dcf36cc1e07bdf77e1ad6e2c74/src/arrays/quantile.js>.\r\n * See the license statement at the head of this file.\r\n * @param ascArr\r\n */\r\n\r\nexport function quantile(ascArr, p) {\r\n  var H = (ascArr.length - 1) * p + 1;\r\n  var h = Math.floor(H);\r\n  var v = +ascArr[h - 1];\r\n  var e = H - h;\r\n  return e ? v + e * (ascArr[h] - v) : v;\r\n}\r\n/**\r\n * Order intervals asc, and split them when overlap.\r\n * expect(numberUtil.reformIntervals([\r\n *     {interval: [18, 62], close: [1, 1]},\r\n *     {interval: [-Infinity, -70], close: [0, 0]},\r\n *     {interval: [-70, -26], close: [1, 1]},\r\n *     {interval: [-26, 18], close: [1, 1]},\r\n *     {interval: [62, 150], close: [1, 1]},\r\n *     {interval: [106, 150], close: [1, 1]},\r\n *     {interval: [150, Infinity], close: [0, 0]}\r\n * ])).toEqual([\r\n *     {interval: [-Infinity, -70], close: [0, 0]},\r\n *     {interval: [-70, -26], close: [1, 1]},\r\n *     {interval: [-26, 18], close: [0, 1]},\r\n *     {interval: [18, 62], close: [0, 1]},\r\n *     {interval: [62, 150], close: [0, 1]},\r\n *     {interval: [150, Infinity], close: [0, 0]}\r\n * ]);\r\n * @param list, where `close` mean open or close\r\n *        of the interval, and Infinity can be used.\r\n * @return The origin list, which has been reformed.\r\n */\r\n\r\nexport function reformIntervals(list) {\r\n  list.sort(function (a, b) {\r\n    return littleThan(a, b, 0) ? -1 : 1;\r\n  });\r\n  var curr = -Infinity;\r\n  var currClose = 1;\r\n\r\n  for (var i = 0; i < list.length;) {\r\n    var interval = list[i].interval;\r\n    var close_1 = list[i].close;\r\n\r\n    for (var lg = 0; lg < 2; lg++) {\r\n      if (interval[lg] <= curr) {\r\n        interval[lg] = curr;\r\n        close_1[lg] = !lg ? 1 - currClose : 1;\r\n      }\r\n\r\n      curr = interval[lg];\r\n      currClose = close_1[lg];\r\n    }\r\n\r\n    if (interval[0] === interval[1] && close_1[0] * close_1[1] !== 1) {\r\n      list.splice(i, 1);\r\n    } else {\r\n      i++;\r\n    }\r\n  }\r\n\r\n  return list;\r\n\r\n  function littleThan(a, b, lg) {\r\n    return a.interval[lg] < b.interval[lg] || a.interval[lg] === b.interval[lg] && (a.close[lg] - b.close[lg] === (!lg ? 1 : -1) || !lg && littleThan(a, b, 1));\r\n  }\r\n}\r\n/**\r\n * [Numeric is defined as]:\r\n *     `parseFloat(val) == val`\r\n * For example:\r\n * numeric:\r\n *     typeof number except NaN, '-123', '123', '2e3', '-2e3', '011', 'Infinity', Infinity,\r\n *     and they rounded by white-spaces or line-terminal like ' -123 \\n ' (see es spec)\r\n * not-numeric:\r\n *     null, undefined, [], {}, true, false, 'NaN', NaN, '123ab',\r\n *     empty string, string with only white-spaces or line-terminal (see es spec),\r\n *     0x12, '0x12', '-0x12', 012, '012', '-012',\r\n *     non-string, ...\r\n *\r\n * @test See full test cases in `test/ut/spec/util/number.js`.\r\n * @return Must be a typeof number. If not numeric, return NaN.\r\n */\r\n\r\nexport function numericToNumber(val) {\r\n  var valFloat = parseFloat(val);\r\n  return valFloat == val // eslint-disable-line eqeqeq\r\n  && (valFloat !== 0 || !zrUtil.isString(val) || val.indexOf('x') <= 0) // For case ' 0x0 '.\r\n  ? valFloat : NaN;\r\n}\r\n/**\r\n * Definition of \"numeric\": see `numericToNumber`.\r\n */\r\n\r\nexport function isNumeric(val) {\r\n  return !isNaN(numericToNumber(val));\r\n}\r\n/**\r\n * Use random base to prevent users hard code depending on\r\n * this auto generated marker id.\r\n * @return An positive integer.\r\n */\r\n\r\nexport function getRandomIdBase() {\r\n  return Math.round(Math.random() * 9);\r\n}\r\n/**\r\n * Get the greatest common divisor.\r\n *\r\n * @param {number} a one number\r\n * @param {number} b the other number\r\n */\r\n\r\nexport function getGreatestCommonDividor(a, b) {\r\n  if (b === 0) {\r\n    return a;\r\n  }\r\n\r\n  return getGreatestCommonDividor(b, a % b);\r\n}\r\n/**\r\n * Get the least common multiple.\r\n *\r\n * @param {number} a one number\r\n * @param {number} b the other number\r\n */\r\n\r\nexport function getLeastCommonMultiple(a, b) {\r\n  if (a == null) {\r\n    return b;\r\n  }\r\n\r\n  if (b == null) {\r\n    return a;\r\n  }\r\n\r\n  return a * b / getGreatestCommonDividor(a, b);\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { map, isString, isFunction, eqNaN, isRegExp } from 'zrender/lib/core/util.js';\r\nvar ECHARTS_PREFIX = '[ECharts] ';\r\nvar storedLogs = {};\r\nvar hasConsole = typeof console !== 'undefined' // eslint-disable-next-line\r\n&& console.warn && console.log;\r\n\r\nfunction outputLog(type, str, onlyOnce) {\r\n  if (hasConsole) {\r\n    if (onlyOnce) {\r\n      if (storedLogs[str]) {\r\n        return;\r\n      }\r\n\r\n      storedLogs[str] = true;\r\n    } // eslint-disable-next-line\r\n\r\n\r\n    console[type](ECHARTS_PREFIX + str);\r\n  }\r\n}\r\n\r\nexport function log(str, onlyOnce) {\r\n  outputLog('log', str, onlyOnce);\r\n}\r\nexport function warn(str, onlyOnce) {\r\n  outputLog('warn', str, onlyOnce);\r\n}\r\nexport function error(str, onlyOnce) {\r\n  outputLog('error', str, onlyOnce);\r\n}\r\nexport function deprecateLog(str) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    // Not display duplicate message.\r\n    outputLog('warn', 'DEPRECATED: ' + str, true);\r\n  }\r\n}\r\nexport function deprecateReplaceLog(oldOpt, newOpt, scope) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    deprecateLog((scope ? \"[\" + scope + \"]\" : '') + (oldOpt + \" is deprecated, use \" + newOpt + \" instead.\"));\r\n  }\r\n}\r\n/**\r\n * If in __DEV__ environment, get console printable message for users hint.\r\n * Parameters are separated by ' '.\r\n * @usage\r\n * makePrintable('This is an error on', someVar, someObj);\r\n *\r\n * @param hintInfo anything about the current execution context to hint users.\r\n * @throws Error\r\n */\r\n\r\nexport function makePrintable() {\r\n  var hintInfo = [];\r\n\r\n  for (var _i = 0; _i < arguments.length; _i++) {\r\n    hintInfo[_i] = arguments[_i];\r\n  }\r\n\r\n  var msg = '';\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    // Fuzzy stringify for print.\r\n    // This code only exist in dev environment.\r\n    var makePrintableStringIfPossible_1 = function (val) {\r\n      return val === void 0 ? 'undefined' : val === Infinity ? 'Infinity' : val === -Infinity ? '-Infinity' : eqNaN(val) ? 'NaN' : val instanceof Date ? 'Date(' + val.toISOString() + ')' : isFunction(val) ? 'function () { ... }' : isRegExp(val) ? val + '' : null;\r\n    };\r\n\r\n    msg = map(hintInfo, function (arg) {\r\n      if (isString(arg)) {\r\n        // Print without quotation mark for some statement.\r\n        return arg;\r\n      } else {\r\n        var printableStr = makePrintableStringIfPossible_1(arg);\r\n\r\n        if (printableStr != null) {\r\n          return printableStr;\r\n        } else if (typeof JSON !== 'undefined' && JSON.stringify) {\r\n          try {\r\n            return JSON.stringify(arg, function (n, val) {\r\n              var printableStr = makePrintableStringIfPossible_1(val);\r\n              return printableStr == null ? val : printableStr;\r\n            }); // In most cases the info object is small, so do not line break.\r\n          } catch (err) {\r\n            return '?';\r\n          }\r\n        } else {\r\n          return '?';\r\n        }\r\n      }\r\n    }).join(' ');\r\n  }\r\n\r\n  return msg;\r\n}\r\n/**\r\n * @throws Error\r\n */\r\n\r\nexport function throwError(msg) {\r\n  throw new Error(msg);\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { each, isObject, isArray, createHashMap, map, assert, isString, indexOf, isStringSafe, isNumber } from 'zrender/lib/core/util.js';\r\nimport env from 'zrender/lib/core/env.js';\r\nimport { isNumeric, getRandomIdBase, getPrecision, round } from './number.js';\r\nimport { warn } from './log.js';\r\n\r\nfunction interpolateNumber(p0, p1, percent) {\r\n  return (p1 - p0) * percent + p0;\r\n}\r\n/**\r\n * Make the name displayable. But we should\r\n * make sure it is not duplicated with user\r\n * specified name, so use '\\0';\r\n */\r\n\r\n\r\nvar DUMMY_COMPONENT_NAME_PREFIX = 'series\\0';\r\nvar INTERNAL_COMPONENT_ID_PREFIX = '\\0_ec_\\0';\r\n/**\r\n * If value is not array, then translate it to array.\r\n * @param  {*} value\r\n * @return {Array} [value] or value\r\n */\r\n\r\nexport function normalizeToArray(value) {\r\n  return value instanceof Array ? value : value == null ? [] : [value];\r\n}\r\n/**\r\n * Sync default option between normal and emphasis like `position` and `show`\r\n * In case some one will write code like\r\n *     label: {\r\n *          show: false,\r\n *          position: 'outside',\r\n *          fontSize: 18\r\n *     },\r\n *     emphasis: {\r\n *          label: { show: true }\r\n *     }\r\n */\r\n\r\nexport function defaultEmphasis(opt, key, subOpts) {\r\n  // Caution: performance sensitive.\r\n  if (opt) {\r\n    opt[key] = opt[key] || {};\r\n    opt.emphasis = opt.emphasis || {};\r\n    opt.emphasis[key] = opt.emphasis[key] || {}; // Default emphasis option from normal\r\n\r\n    for (var i = 0, len = subOpts.length; i < len; i++) {\r\n      var subOptName = subOpts[i];\r\n\r\n      if (!opt.emphasis[key].hasOwnProperty(subOptName) && opt[key].hasOwnProperty(subOptName)) {\r\n        opt.emphasis[key][subOptName] = opt[key][subOptName];\r\n      }\r\n    }\r\n  }\r\n}\r\nexport var TEXT_STYLE_OPTIONS = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'rich', 'tag', 'color', 'textBorderColor', 'textBorderWidth', 'width', 'height', 'lineHeight', 'align', 'verticalAlign', 'baseline', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY', 'backgroundColor', 'borderColor', 'borderWidth', 'borderRadius', 'padding']; // modelUtil.LABEL_OPTIONS = modelUtil.TEXT_STYLE_OPTIONS.concat([\r\n//     'position', 'offset', 'rotate', 'origin', 'show', 'distance', 'formatter',\r\n//     'fontStyle', 'fontWeight', 'fontSize', 'fontFamily',\r\n//     // FIXME: deprecated, check and remove it.\r\n//     'textStyle'\r\n// ]);\r\n\r\n/**\r\n * The method does not ensure performance.\r\n * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\r\n * This helper method retrieves value from data.\r\n */\r\n\r\nexport function getDataItemValue(dataItem) {\r\n  return isObject(dataItem) && !isArray(dataItem) && !(dataItem instanceof Date) ? dataItem.value : dataItem;\r\n}\r\n/**\r\n * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\r\n * This helper method determine if dataItem has extra option besides value\r\n */\r\n\r\nexport function isDataItemOption(dataItem) {\r\n  return isObject(dataItem) && !(dataItem instanceof Array); // // markLine data can be array\r\n  // && !(dataItem[0] && isObject(dataItem[0]) && !(dataItem[0] instanceof Array));\r\n}\r\n;\r\n/**\r\n * Mapping to existings for merge.\r\n *\r\n * Mode \"normalMege\":\r\n *     The mapping result (merge result) will keep the order of the existing\r\n *     component, rather than the order of new option. Because we should ensure\r\n *     some specified index reference (like xAxisIndex) keep work.\r\n *     And in most cases, \"merge option\" is used to update partial option but not\r\n *     be expected to change the order.\r\n *\r\n * Mode \"replaceMege\":\r\n *     (1) Only the id mapped components will be merged.\r\n *     (2) Other existing components (except internal components) will be removed.\r\n *     (3) Other new options will be used to create new component.\r\n *     (4) The index of the existing components will not be modified.\r\n *     That means their might be \"hole\" after the removal.\r\n *     The new components are created first at those available index.\r\n *\r\n * Mode \"replaceAll\":\r\n *     This mode try to support that reproduce an echarts instance from another\r\n *     echarts instance (via `getOption`) in some simple cases.\r\n *     In this scenario, the `result` index are exactly the consistent with the `newCmptOptions`,\r\n *     which ensures the component index referring (like `xAxisIndex: ?`) corrent. That is,\r\n *     the \"hole\" in `newCmptOptions` will also be kept.\r\n *     On the contrary, other modes try best to eliminate holes.\r\n *     PENDING: This is an experimental mode yet.\r\n *\r\n * @return See the comment of <MappingResult>.\r\n */\r\n\r\nexport function mappingToExists(existings, newCmptOptions, mode) {\r\n  var isNormalMergeMode = mode === 'normalMerge';\r\n  var isReplaceMergeMode = mode === 'replaceMerge';\r\n  var isReplaceAllMode = mode === 'replaceAll';\r\n  existings = existings || [];\r\n  newCmptOptions = (newCmptOptions || []).slice();\r\n  var existingIdIdxMap = createHashMap(); // Validate id and name on user input option.\r\n\r\n  each(newCmptOptions, function (cmptOption, index) {\r\n    if (!isObject(cmptOption)) {\r\n      newCmptOptions[index] = null;\r\n      return;\r\n    }\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      // There is some legacy case that name is set as `false`.\r\n      // But should work normally rather than throw error.\r\n      if (cmptOption.id != null && !isValidIdOrName(cmptOption.id)) {\r\n        warnInvalidateIdOrName(cmptOption.id);\r\n      }\r\n\r\n      if (cmptOption.name != null && !isValidIdOrName(cmptOption.name)) {\r\n        warnInvalidateIdOrName(cmptOption.name);\r\n      }\r\n    }\r\n  });\r\n  var result = prepareResult(existings, existingIdIdxMap, mode);\r\n\r\n  if (isNormalMergeMode || isReplaceMergeMode) {\r\n    mappingById(result, existings, existingIdIdxMap, newCmptOptions);\r\n  }\r\n\r\n  if (isNormalMergeMode) {\r\n    mappingByName(result, newCmptOptions);\r\n  }\r\n\r\n  if (isNormalMergeMode || isReplaceMergeMode) {\r\n    mappingByIndex(result, newCmptOptions, isReplaceMergeMode);\r\n  } else if (isReplaceAllMode) {\r\n    mappingInReplaceAllMode(result, newCmptOptions);\r\n  }\r\n\r\n  makeIdAndName(result); // The array `result` MUST NOT contain elided items, otherwise the\r\n  // forEach will omit those items and result in incorrect result.\r\n\r\n  return result;\r\n}\r\n\r\nfunction prepareResult(existings, existingIdIdxMap, mode) {\r\n  var result = [];\r\n\r\n  if (mode === 'replaceAll') {\r\n    return result;\r\n  } // Do not use native `map` to in case that the array `existings`\r\n  // contains elided items, which will be omitted.\r\n\r\n\r\n  for (var index = 0; index < existings.length; index++) {\r\n    var existing = existings[index]; // Because of replaceMerge, `existing` may be null/undefined.\r\n\r\n    if (existing && existing.id != null) {\r\n      existingIdIdxMap.set(existing.id, index);\r\n    } // For non-internal-componnets:\r\n    //     Mode \"normalMerge\": all existings kept.\r\n    //     Mode \"replaceMerge\": all existing removed unless mapped by id.\r\n    // For internal-components:\r\n    //     go with \"replaceMerge\" approach in both mode.\r\n\r\n\r\n    result.push({\r\n      existing: mode === 'replaceMerge' || isComponentIdInternal(existing) ? null : existing,\r\n      newOption: null,\r\n      keyInfo: null,\r\n      brandNew: null\r\n    });\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nfunction mappingById(result, existings, existingIdIdxMap, newCmptOptions) {\r\n  // Mapping by id if specified.\r\n  each(newCmptOptions, function (cmptOption, index) {\r\n    if (!cmptOption || cmptOption.id == null) {\r\n      return;\r\n    }\r\n\r\n    var optionId = makeComparableKey(cmptOption.id);\r\n    var existingIdx = existingIdIdxMap.get(optionId);\r\n\r\n    if (existingIdx != null) {\r\n      var resultItem = result[existingIdx];\r\n      assert(!resultItem.newOption, 'Duplicated option on id \"' + optionId + '\".');\r\n      resultItem.newOption = cmptOption; // In both mode, if id matched, new option will be merged to\r\n      // the existings rather than creating new component model.\r\n\r\n      resultItem.existing = existings[existingIdx];\r\n      newCmptOptions[index] = null;\r\n    }\r\n  });\r\n}\r\n\r\nfunction mappingByName(result, newCmptOptions) {\r\n  // Mapping by name if specified.\r\n  each(newCmptOptions, function (cmptOption, index) {\r\n    if (!cmptOption || cmptOption.name == null) {\r\n      return;\r\n    }\r\n\r\n    for (var i = 0; i < result.length; i++) {\r\n      var existing = result[i].existing;\r\n\r\n      if (!result[i].newOption // Consider name: two map to one.\r\n      // Can not match when both ids existing but different.\r\n      && existing && (existing.id == null || cmptOption.id == null) && !isComponentIdInternal(cmptOption) && !isComponentIdInternal(existing) && keyExistAndEqual('name', existing, cmptOption)) {\r\n        result[i].newOption = cmptOption;\r\n        newCmptOptions[index] = null;\r\n        return;\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction mappingByIndex(result, newCmptOptions, brandNew) {\r\n  each(newCmptOptions, function (cmptOption) {\r\n    if (!cmptOption) {\r\n      return;\r\n    } // Find the first place that not mapped by id and not internal component (consider the \"hole\").\r\n\r\n\r\n    var resultItem;\r\n    var nextIdx = 0;\r\n\r\n    while ( // Be `!resultItem` only when `nextIdx >= result.length`.\r\n    (resultItem = result[nextIdx]) && ( // (1) Existing models that already have id should be able to mapped to. Because\r\n    // after mapping performed, model will always be assigned with an id if user not given.\r\n    // After that all models have id.\r\n    // (2) If new option has id, it can only set to a hole or append to the last. It should\r\n    // not be merged to the existings with different id. Because id should not be overwritten.\r\n    // (3) Name can be overwritten, because axis use name as 'show label text'.\r\n    resultItem.newOption || isComponentIdInternal(resultItem.existing) || // In mode \"replaceMerge\", here no not-mapped-non-internal-existing.\r\n    resultItem.existing && cmptOption.id != null && !keyExistAndEqual('id', cmptOption, resultItem.existing))) {\r\n      nextIdx++;\r\n    }\r\n\r\n    if (resultItem) {\r\n      resultItem.newOption = cmptOption;\r\n      resultItem.brandNew = brandNew;\r\n    } else {\r\n      result.push({\r\n        newOption: cmptOption,\r\n        brandNew: brandNew,\r\n        existing: null,\r\n        keyInfo: null\r\n      });\r\n    }\r\n\r\n    nextIdx++;\r\n  });\r\n}\r\n\r\nfunction mappingInReplaceAllMode(result, newCmptOptions) {\r\n  each(newCmptOptions, function (cmptOption) {\r\n    // The feature \"reproduce\" requires \"hole\" will also reproduced\r\n    // in case that component index referring are broken.\r\n    result.push({\r\n      newOption: cmptOption,\r\n      brandNew: true,\r\n      existing: null,\r\n      keyInfo: null\r\n    });\r\n  });\r\n}\r\n/**\r\n * Make id and name for mapping result (result of mappingToExists)\r\n * into `keyInfo` field.\r\n */\r\n\r\n\r\nfunction makeIdAndName(mapResult) {\r\n  // We use this id to hash component models and view instances\r\n  // in echarts. id can be specified by user, or auto generated.\r\n  // The id generation rule ensures new view instance are able\r\n  // to mapped to old instance when setOption are called in\r\n  // no-merge mode. So we generate model id by name and plus\r\n  // type in view id.\r\n  // name can be duplicated among components, which is convenient\r\n  // to specify multi components (like series) by one name.\r\n  // Ensure that each id is distinct.\r\n  var idMap = createHashMap();\r\n  each(mapResult, function (item) {\r\n    var existing = item.existing;\r\n    existing && idMap.set(existing.id, item);\r\n  });\r\n  each(mapResult, function (item) {\r\n    var opt = item.newOption; // Force ensure id not duplicated.\r\n\r\n    assert(!opt || opt.id == null || !idMap.get(opt.id) || idMap.get(opt.id) === item, 'id duplicates: ' + (opt && opt.id));\r\n    opt && opt.id != null && idMap.set(opt.id, item);\r\n    !item.keyInfo && (item.keyInfo = {});\r\n  }); // Make name and id.\r\n\r\n  each(mapResult, function (item, index) {\r\n    var existing = item.existing;\r\n    var opt = item.newOption;\r\n    var keyInfo = item.keyInfo;\r\n\r\n    if (!isObject(opt)) {\r\n      return;\r\n    } // Name can be overwritten. Consider case: axis.name = '20km'.\r\n    // But id generated by name will not be changed, which affect\r\n    // only in that case: setOption with 'not merge mode' and view\r\n    // instance will be recreated, which can be accepted.\r\n\r\n\r\n    keyInfo.name = opt.name != null ? makeComparableKey(opt.name) : existing ? existing.name // Avoid that different series has the same name,\r\n    // because name may be used like in color pallet.\r\n    : DUMMY_COMPONENT_NAME_PREFIX + index;\r\n\r\n    if (existing) {\r\n      keyInfo.id = makeComparableKey(existing.id);\r\n    } else if (opt.id != null) {\r\n      keyInfo.id = makeComparableKey(opt.id);\r\n    } else {\r\n      // Consider this situatoin:\r\n      //  optionA: [{name: 'a'}, {name: 'a'}, {..}]\r\n      //  optionB [{..}, {name: 'a'}, {name: 'a'}]\r\n      // Series with the same name between optionA and optionB\r\n      // should be mapped.\r\n      var idNum = 0;\r\n\r\n      do {\r\n        keyInfo.id = '\\0' + keyInfo.name + '\\0' + idNum++;\r\n      } while (idMap.get(keyInfo.id));\r\n    }\r\n\r\n    idMap.set(keyInfo.id, item);\r\n  });\r\n}\r\n\r\nfunction keyExistAndEqual(attr, obj1, obj2) {\r\n  var key1 = convertOptionIdName(obj1[attr], null);\r\n  var key2 = convertOptionIdName(obj2[attr], null); // See `MappingExistingItem`. `id` and `name` trade string equals to number.\r\n\r\n  return key1 != null && key2 != null && key1 === key2;\r\n}\r\n/**\r\n * @return return null if not exist.\r\n */\r\n\r\n\r\nfunction makeComparableKey(val) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (val == null) {\r\n      throw new Error();\r\n    }\r\n  }\r\n\r\n  return convertOptionIdName(val, '');\r\n}\r\n\r\nexport function convertOptionIdName(idOrName, defaultValue) {\r\n  if (idOrName == null) {\r\n    return defaultValue;\r\n  }\r\n\r\n  return isString(idOrName) ? idOrName : isNumber(idOrName) || isStringSafe(idOrName) ? idOrName + '' : defaultValue;\r\n}\r\n\r\nfunction warnInvalidateIdOrName(idOrName) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    warn('`' + idOrName + '` is invalid id or name. Must be a string or number.');\r\n  }\r\n}\r\n\r\nfunction isValidIdOrName(idOrName) {\r\n  return isStringSafe(idOrName) || isNumeric(idOrName);\r\n}\r\n\r\nexport function isNameSpecified(componentModel) {\r\n  var name = componentModel.name; // Is specified when `indexOf` get -1 or > 0.\r\n\r\n  return !!(name && name.indexOf(DUMMY_COMPONENT_NAME_PREFIX));\r\n}\r\n/**\r\n * @public\r\n * @param {Object} cmptOption\r\n * @return {boolean}\r\n */\r\n\r\nexport function isComponentIdInternal(cmptOption) {\r\n  return cmptOption && cmptOption.id != null && makeComparableKey(cmptOption.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX) === 0;\r\n}\r\nexport function makeInternalComponentId(idSuffix) {\r\n  return INTERNAL_COMPONENT_ID_PREFIX + idSuffix;\r\n}\r\nexport function setComponentTypeToKeyInfo(mappingResult, mainType, componentModelCtor) {\r\n  // Set mainType and complete subType.\r\n  each(mappingResult, function (item) {\r\n    var newOption = item.newOption;\r\n\r\n    if (isObject(newOption)) {\r\n      item.keyInfo.mainType = mainType;\r\n      item.keyInfo.subType = determineSubType(mainType, newOption, item.existing, componentModelCtor);\r\n    }\r\n  });\r\n}\r\n\r\nfunction determineSubType(mainType, newCmptOption, existComponent, componentModelCtor) {\r\n  var subType = newCmptOption.type ? newCmptOption.type : existComponent ? existComponent.subType // Use determineSubType only when there is no existComponent.\r\n  : componentModelCtor.determineSubType(mainType, newCmptOption); // tooltip, markline, markpoint may always has no subType\r\n\r\n  return subType;\r\n}\r\n/**\r\n * A helper for removing duplicate items between batchA and batchB,\r\n * and in themselves, and categorize by series.\r\n *\r\n * @param batchA Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\r\n * @param batchB Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\r\n * @return result: [resultBatchA, resultBatchB]\r\n */\r\n\r\n\r\nexport function compressBatches(batchA, batchB) {\r\n  var mapA = {};\r\n  var mapB = {};\r\n  makeMap(batchA || [], mapA);\r\n  makeMap(batchB || [], mapB, mapA);\r\n  return [mapToArray(mapA), mapToArray(mapB)];\r\n\r\n  function makeMap(sourceBatch, map, otherMap) {\r\n    for (var i = 0, len = sourceBatch.length; i < len; i++) {\r\n      var seriesId = convertOptionIdName(sourceBatch[i].seriesId, null);\r\n\r\n      if (seriesId == null) {\r\n        return;\r\n      }\r\n\r\n      var dataIndices = normalizeToArray(sourceBatch[i].dataIndex);\r\n      var otherDataIndices = otherMap && otherMap[seriesId];\r\n\r\n      for (var j = 0, lenj = dataIndices.length; j < lenj; j++) {\r\n        var dataIndex = dataIndices[j];\r\n\r\n        if (otherDataIndices && otherDataIndices[dataIndex]) {\r\n          otherDataIndices[dataIndex] = null;\r\n        } else {\r\n          (map[seriesId] || (map[seriesId] = {}))[dataIndex] = 1;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function mapToArray(map, isData) {\r\n    var result = [];\r\n\r\n    for (var i in map) {\r\n      if (map.hasOwnProperty(i) && map[i] != null) {\r\n        if (isData) {\r\n          result.push(+i);\r\n        } else {\r\n          var dataIndices = mapToArray(map[i], true);\r\n          dataIndices.length && result.push({\r\n            seriesId: i,\r\n            dataIndex: dataIndices\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n}\r\n/**\r\n * @param payload Contains dataIndex (means rawIndex) / dataIndexInside / name\r\n *                         each of which can be Array or primary type.\r\n * @return dataIndex If not found, return undefined/null.\r\n */\r\n\r\nexport function queryDataIndex(data, payload) {\r\n  if (payload.dataIndexInside != null) {\r\n    return payload.dataIndexInside;\r\n  } else if (payload.dataIndex != null) {\r\n    return isArray(payload.dataIndex) ? map(payload.dataIndex, function (value) {\r\n      return data.indexOfRawIndex(value);\r\n    }) : data.indexOfRawIndex(payload.dataIndex);\r\n  } else if (payload.name != null) {\r\n    return isArray(payload.name) ? map(payload.name, function (value) {\r\n      return data.indexOfName(value);\r\n    }) : data.indexOfName(payload.name);\r\n  }\r\n}\r\n/**\r\n * Enable property storage to any host object.\r\n * Notice: Serialization is not supported.\r\n *\r\n * For example:\r\n * let inner = zrUitl.makeInner();\r\n *\r\n * function some1(hostObj) {\r\n *      inner(hostObj).someProperty = 1212;\r\n *      ...\r\n * }\r\n * function some2() {\r\n *      let fields = inner(this);\r\n *      fields.someProperty1 = 1212;\r\n *      fields.someProperty2 = 'xx';\r\n *      ...\r\n * }\r\n *\r\n * @return {Function}\r\n */\r\n\r\nexport function makeInner() {\r\n  var key = '__ec_inner_' + innerUniqueIndex++;\r\n  return function (hostObj) {\r\n    return hostObj[key] || (hostObj[key] = {});\r\n  };\r\n}\r\nvar innerUniqueIndex = getRandomIdBase();\r\n/**\r\n * The same behavior as `component.getReferringComponents`.\r\n */\r\n\r\nexport function parseFinder(ecModel, finderInput, opt) {\r\n  var _a = preParseFinder(finderInput, opt),\r\n      mainTypeSpecified = _a.mainTypeSpecified,\r\n      queryOptionMap = _a.queryOptionMap,\r\n      others = _a.others;\r\n\r\n  var result = others;\r\n  var defaultMainType = opt ? opt.defaultMainType : null;\r\n\r\n  if (!mainTypeSpecified && defaultMainType) {\r\n    queryOptionMap.set(defaultMainType, {});\r\n  }\r\n\r\n  queryOptionMap.each(function (queryOption, mainType) {\r\n    var queryResult = queryReferringComponents(ecModel, mainType, queryOption, {\r\n      useDefault: defaultMainType === mainType,\r\n      enableAll: opt && opt.enableAll != null ? opt.enableAll : true,\r\n      enableNone: opt && opt.enableNone != null ? opt.enableNone : true\r\n    });\r\n    result[mainType + 'Models'] = queryResult.models;\r\n    result[mainType + 'Model'] = queryResult.models[0];\r\n  });\r\n  return result;\r\n}\r\nexport function preParseFinder(finderInput, opt) {\r\n  var finder;\r\n\r\n  if (isString(finderInput)) {\r\n    var obj = {};\r\n    obj[finderInput + 'Index'] = 0;\r\n    finder = obj;\r\n  } else {\r\n    finder = finderInput;\r\n  }\r\n\r\n  var queryOptionMap = createHashMap();\r\n  var others = {};\r\n  var mainTypeSpecified = false;\r\n  each(finder, function (value, key) {\r\n    // Exclude 'dataIndex' and other illgal keys.\r\n    if (key === 'dataIndex' || key === 'dataIndexInside') {\r\n      others[key] = value;\r\n      return;\r\n    }\r\n\r\n    var parsedKey = key.match(/^(\\w+)(Index|Id|Name)$/) || [];\r\n    var mainType = parsedKey[1];\r\n    var queryType = (parsedKey[2] || '').toLowerCase();\r\n\r\n    if (!mainType || !queryType || opt && opt.includeMainTypes && indexOf(opt.includeMainTypes, mainType) < 0) {\r\n      return;\r\n    }\r\n\r\n    mainTypeSpecified = mainTypeSpecified || !!mainType;\r\n    var queryOption = queryOptionMap.get(mainType) || queryOptionMap.set(mainType, {});\r\n    queryOption[queryType] = value;\r\n  });\r\n  return {\r\n    mainTypeSpecified: mainTypeSpecified,\r\n    queryOptionMap: queryOptionMap,\r\n    others: others\r\n  };\r\n}\r\nexport var SINGLE_REFERRING = {\r\n  useDefault: true,\r\n  enableAll: false,\r\n  enableNone: false\r\n};\r\nexport var MULTIPLE_REFERRING = {\r\n  useDefault: false,\r\n  enableAll: true,\r\n  enableNone: true\r\n};\r\nexport function queryReferringComponents(ecModel, mainType, userOption, opt) {\r\n  opt = opt || SINGLE_REFERRING;\r\n  var indexOption = userOption.index;\r\n  var idOption = userOption.id;\r\n  var nameOption = userOption.name;\r\n  var result = {\r\n    models: null,\r\n    specified: indexOption != null || idOption != null || nameOption != null\r\n  };\r\n\r\n  if (!result.specified) {\r\n    // Use the first as default if `useDefault`.\r\n    var firstCmpt = void 0;\r\n    result.models = opt.useDefault && (firstCmpt = ecModel.getComponent(mainType)) ? [firstCmpt] : [];\r\n    return result;\r\n  }\r\n\r\n  if (indexOption === 'none' || indexOption === false) {\r\n    assert(opt.enableNone, '`\"none\"` or `false` is not a valid value on index option.');\r\n    result.models = [];\r\n    return result;\r\n  } // `queryComponents` will return all components if\r\n  // both all of index/id/name are null/undefined.\r\n\r\n\r\n  if (indexOption === 'all') {\r\n    assert(opt.enableAll, '`\"all\"` is not a valid value on index option.');\r\n    indexOption = idOption = nameOption = null;\r\n  }\r\n\r\n  result.models = ecModel.queryComponents({\r\n    mainType: mainType,\r\n    index: indexOption,\r\n    id: idOption,\r\n    name: nameOption\r\n  });\r\n  return result;\r\n}\r\nexport function setAttribute(dom, key, value) {\r\n  dom.setAttribute ? dom.setAttribute(key, value) : dom[key] = value;\r\n}\r\nexport function getAttribute(dom, key) {\r\n  return dom.getAttribute ? dom.getAttribute(key) : dom[key];\r\n}\r\nexport function getTooltipRenderMode(renderModeOption) {\r\n  if (renderModeOption === 'auto') {\r\n    // Using html when `document` exists, use richText otherwise\r\n    return env.domSupported ? 'html' : 'richText';\r\n  } else {\r\n    return renderModeOption || 'html';\r\n  }\r\n}\r\n/**\r\n * Group a list by key.\r\n */\r\n\r\nexport function groupData(array, getKey // return key\r\n) {\r\n  var buckets = createHashMap();\r\n  var keys = [];\r\n  each(array, function (item) {\r\n    var key = getKey(item);\r\n    (buckets.get(key) || (keys.push(key), buckets.set(key, []))).push(item);\r\n  });\r\n  return {\r\n    keys: keys,\r\n    buckets: buckets\r\n  };\r\n}\r\n/**\r\n * Interpolate raw values of a series with percent\r\n *\r\n * @param data         data\r\n * @param labelModel   label model of the text element\r\n * @param sourceValue  start value. May be null/undefined when init.\r\n * @param targetValue  end value\r\n * @param percent      0~1 percentage; 0 uses start value while 1 uses end value\r\n * @return             interpolated values\r\n *                     If `sourceValue` and `targetValue` are `number`, return `number`.\r\n *                     If `sourceValue` and `targetValue` are `string`, return `string`.\r\n *                     If `sourceValue` and `targetValue` are `(string | number)[]`, return `(string | number)[]`.\r\n *                     Other cases do not supported.\r\n */\r\n\r\nexport function interpolateRawValues(data, precision, sourceValue, targetValue, percent) {\r\n  var isAutoPrecision = precision == null || precision === 'auto';\r\n\r\n  if (targetValue == null) {\r\n    return targetValue;\r\n  }\r\n\r\n  if (isNumber(targetValue)) {\r\n    var value = interpolateNumber(sourceValue || 0, targetValue, percent);\r\n    return round(value, isAutoPrecision ? Math.max(getPrecision(sourceValue || 0), getPrecision(targetValue)) : precision);\r\n  } else if (isString(targetValue)) {\r\n    return percent < 1 ? sourceValue : targetValue;\r\n  } else {\r\n    var interpolated = [];\r\n    var leftArr = sourceValue;\r\n    var rightArr = targetValue;\r\n    var length_1 = Math.max(leftArr ? leftArr.length : 0, rightArr.length);\r\n\r\n    for (var i = 0; i < length_1; ++i) {\r\n      var info = data.getDimensionInfo(i); // Don't interpolate ordinal dims\r\n\r\n      if (info && info.type === 'ordinal') {\r\n        // In init, there is no `sourceValue`, but should better not to get undefined result.\r\n        interpolated[i] = (percent < 1 && leftArr ? leftArr : rightArr)[i];\r\n      } else {\r\n        var leftVal = leftArr && leftArr[i] ? leftArr[i] : 0;\r\n        var rightVal = rightArr[i];\r\n        var value = interpolateNumber(leftVal, rightVal, percent);\r\n        interpolated[i] = round(value, isAutoPrecision ? Math.max(getPrecision(leftVal), getPrecision(rightVal)) : precision);\r\n      }\r\n    }\r\n\r\n    return interpolated;\r\n  }\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { makeInner } from './model.js';\r\nexport var getECData = makeInner();\r\nexport var setCommonECData = function (seriesIndex, dataType, dataIdx, el) {\r\n  if (el) {\r\n    var ecData = getECData(el); // Add data index and series index for indexing the data by element\r\n    // Useful in tooltip\r\n\r\n    ecData.dataIndex = dataIdx;\r\n    ecData.dataType = dataType;\r\n    ecData.seriesIndex = seriesIndex; // TODO: not store dataIndex on children.\r\n\r\n    if (el.type === 'group') {\r\n      el.traverse(function (child) {\r\n        var childECData = getECData(child);\r\n        childECData.seriesIndex = seriesIndex;\r\n        childECData.dataIndex = dataIdx;\r\n        childECData.dataType = dataType;\r\n      });\r\n    }\r\n  }\r\n};", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport LRU from 'zrender/lib/core/LRU.js';\r\nimport { extend, indexOf, isArrayLike, isObject, keys, isArray, each, isString, isGradientObject, map } from 'zrender/lib/core/util.js';\r\nimport { getECData } from './innerStore.js';\r\nimport * as colorTool from 'zrender/lib/tool/color.js';\r\nimport { queryDataIndex, makeInner } from './model.js';\r\nimport Path from 'zrender/lib/graphic/Path.js';\r\nimport { error } from './log.js'; // Reserve 0 as default.\r\n\r\nvar _highlightNextDigit = 1;\r\nvar _highlightKeyMap = {};\r\nvar getSavedStates = makeInner();\r\nvar getComponentStates = makeInner();\r\nexport var HOVER_STATE_NORMAL = 0;\r\nexport var HOVER_STATE_BLUR = 1;\r\nexport var HOVER_STATE_EMPHASIS = 2;\r\nexport var SPECIAL_STATES = ['emphasis', 'blur', 'select'];\r\nexport var DISPLAY_STATES = ['normal', 'emphasis', 'blur', 'select'];\r\nexport var Z2_EMPHASIS_LIFT = 10;\r\nexport var Z2_SELECT_LIFT = 9;\r\nexport var HIGHLIGHT_ACTION_TYPE = 'highlight';\r\nexport var DOWNPLAY_ACTION_TYPE = 'downplay';\r\nexport var SELECT_ACTION_TYPE = 'select';\r\nexport var UNSELECT_ACTION_TYPE = 'unselect';\r\nexport var TOGGLE_SELECT_ACTION_TYPE = 'toggleSelect';\r\n\r\nfunction hasFillOrStroke(fillOrStroke) {\r\n  return fillOrStroke != null && fillOrStroke !== 'none';\r\n} // Most lifted color are duplicated.\r\n\r\n\r\nvar liftedColorCache = new LRU(100);\r\n\r\nfunction liftColor(color) {\r\n  if (isString(color)) {\r\n    var liftedColor = liftedColorCache.get(color);\r\n\r\n    if (!liftedColor) {\r\n      liftedColor = colorTool.lift(color, -0.1);\r\n      liftedColorCache.put(color, liftedColor);\r\n    }\r\n\r\n    return liftedColor;\r\n  } else if (isGradientObject(color)) {\r\n    var ret = extend({}, color);\r\n    ret.colorStops = map(color.colorStops, function (stop) {\r\n      return {\r\n        offset: stop.offset,\r\n        color: colorTool.lift(stop.color, -0.1)\r\n      };\r\n    });\r\n    return ret;\r\n  } // Change nothing.\r\n\r\n\r\n  return color;\r\n}\r\n\r\nfunction doChangeHoverState(el, stateName, hoverStateEnum) {\r\n  if (el.onHoverStateChange && (el.hoverState || 0) !== hoverStateEnum) {\r\n    el.onHoverStateChange(stateName);\r\n  }\r\n\r\n  el.hoverState = hoverStateEnum;\r\n}\r\n\r\nfunction singleEnterEmphasis(el) {\r\n  // Only mark the flag.\r\n  // States will be applied in the echarts.ts in next frame.\r\n  doChangeHoverState(el, 'emphasis', HOVER_STATE_EMPHASIS);\r\n}\r\n\r\nfunction singleLeaveEmphasis(el) {\r\n  // Only mark the flag.\r\n  // States will be applied in the echarts.ts in next frame.\r\n  if (el.hoverState === HOVER_STATE_EMPHASIS) {\r\n    doChangeHoverState(el, 'normal', HOVER_STATE_NORMAL);\r\n  }\r\n}\r\n\r\nfunction singleEnterBlur(el) {\r\n  doChangeHoverState(el, 'blur', HOVER_STATE_BLUR);\r\n}\r\n\r\nfunction singleLeaveBlur(el) {\r\n  if (el.hoverState === HOVER_STATE_BLUR) {\r\n    doChangeHoverState(el, 'normal', HOVER_STATE_NORMAL);\r\n  }\r\n}\r\n\r\nfunction singleEnterSelect(el) {\r\n  el.selected = true;\r\n}\r\n\r\nfunction singleLeaveSelect(el) {\r\n  el.selected = false;\r\n}\r\n\r\nfunction updateElementState(el, updater, commonParam) {\r\n  updater(el, commonParam);\r\n}\r\n\r\nfunction traverseUpdateState(el, updater, commonParam) {\r\n  updateElementState(el, updater, commonParam);\r\n  el.isGroup && el.traverse(function (child) {\r\n    updateElementState(child, updater, commonParam);\r\n  });\r\n}\r\n\r\nexport function setStatesFlag(el, stateName) {\r\n  switch (stateName) {\r\n    case 'emphasis':\r\n      el.hoverState = HOVER_STATE_EMPHASIS;\r\n      break;\r\n\r\n    case 'normal':\r\n      el.hoverState = HOVER_STATE_NORMAL;\r\n      break;\r\n\r\n    case 'blur':\r\n      el.hoverState = HOVER_STATE_BLUR;\r\n      break;\r\n\r\n    case 'select':\r\n      el.selected = true;\r\n  }\r\n}\r\n/**\r\n * If we reuse elements when rerender.\r\n * DON'T forget to clearStates before we update the style and shape.\r\n * Or we may update on the wrong state instead of normal state.\r\n */\r\n\r\nexport function clearStates(el) {\r\n  if (el.isGroup) {\r\n    el.traverse(function (child) {\r\n      child.clearStates();\r\n    });\r\n  } else {\r\n    el.clearStates();\r\n  }\r\n}\r\n\r\nfunction getFromStateStyle(el, props, toStateName, defaultValue) {\r\n  var style = el.style;\r\n  var fromState = {};\r\n\r\n  for (var i = 0; i < props.length; i++) {\r\n    var propName = props[i];\r\n    var val = style[propName];\r\n    fromState[propName] = val == null ? defaultValue && defaultValue[propName] : val;\r\n  }\r\n\r\n  for (var i = 0; i < el.animators.length; i++) {\r\n    var animator = el.animators[i];\r\n\r\n    if (animator.__fromStateTransition // Don't consider the animation to emphasis state.\r\n    && animator.__fromStateTransition.indexOf(toStateName) < 0 && animator.targetName === 'style') {\r\n      animator.saveTo(fromState, props);\r\n    }\r\n  }\r\n\r\n  return fromState;\r\n}\r\n\r\nfunction createEmphasisDefaultState(el, stateName, targetStates, state) {\r\n  var hasSelect = targetStates && indexOf(targetStates, 'select') >= 0;\r\n  var cloned = false;\r\n\r\n  if (el instanceof Path) {\r\n    var store = getSavedStates(el);\r\n    var fromFill = hasSelect ? store.selectFill || store.normalFill : store.normalFill;\r\n    var fromStroke = hasSelect ? store.selectStroke || store.normalStroke : store.normalStroke;\r\n\r\n    if (hasFillOrStroke(fromFill) || hasFillOrStroke(fromStroke)) {\r\n      state = state || {};\r\n      var emphasisStyle = state.style || {}; // inherit case\r\n\r\n      if (emphasisStyle.fill === 'inherit') {\r\n        cloned = true;\r\n        state = extend({}, state);\r\n        emphasisStyle = extend({}, emphasisStyle);\r\n        emphasisStyle.fill = fromFill;\r\n      } // Apply default color lift\r\n      else if (!hasFillOrStroke(emphasisStyle.fill) && hasFillOrStroke(fromFill)) {\r\n          cloned = true; // Not modify the original value.\r\n\r\n          state = extend({}, state);\r\n          emphasisStyle = extend({}, emphasisStyle); // Already being applied 'emphasis'. DON'T lift color multiple times.\r\n\r\n          emphasisStyle.fill = liftColor(fromFill);\r\n        } // Not highlight stroke if fill has been highlighted.\r\n        else if (!hasFillOrStroke(emphasisStyle.stroke) && hasFillOrStroke(fromStroke)) {\r\n            if (!cloned) {\r\n              state = extend({}, state);\r\n              emphasisStyle = extend({}, emphasisStyle);\r\n            }\r\n\r\n            emphasisStyle.stroke = liftColor(fromStroke);\r\n          }\r\n\r\n      state.style = emphasisStyle;\r\n    }\r\n  }\r\n\r\n  if (state) {\r\n    // TODO Share with textContent?\r\n    if (state.z2 == null) {\r\n      if (!cloned) {\r\n        state = extend({}, state);\r\n      }\r\n\r\n      var z2EmphasisLift = el.z2EmphasisLift;\r\n      state.z2 = el.z2 + (z2EmphasisLift != null ? z2EmphasisLift : Z2_EMPHASIS_LIFT);\r\n    }\r\n  }\r\n\r\n  return state;\r\n}\r\n\r\nfunction createSelectDefaultState(el, stateName, state) {\r\n  // const hasSelect = indexOf(el.currentStates, stateName) >= 0;\r\n  if (state) {\r\n    // TODO Share with textContent?\r\n    if (state.z2 == null) {\r\n      state = extend({}, state);\r\n      var z2SelectLift = el.z2SelectLift;\r\n      state.z2 = el.z2 + (z2SelectLift != null ? z2SelectLift : Z2_SELECT_LIFT);\r\n    }\r\n  }\r\n\r\n  return state;\r\n}\r\n\r\nfunction createBlurDefaultState(el, stateName, state) {\r\n  var hasBlur = indexOf(el.currentStates, stateName) >= 0;\r\n  var currentOpacity = el.style.opacity;\r\n  var fromState = !hasBlur ? getFromStateStyle(el, ['opacity'], stateName, {\r\n    opacity: 1\r\n  }) : null;\r\n  state = state || {};\r\n  var blurStyle = state.style || {};\r\n\r\n  if (blurStyle.opacity == null) {\r\n    // clone state\r\n    state = extend({}, state);\r\n    blurStyle = extend({\r\n      // Already being applied 'emphasis'. DON'T mul opacity multiple times.\r\n      opacity: hasBlur ? currentOpacity : fromState.opacity * 0.1\r\n    }, blurStyle);\r\n    state.style = blurStyle;\r\n  }\r\n\r\n  return state;\r\n}\r\n\r\nfunction elementStateProxy(stateName, targetStates) {\r\n  var state = this.states[stateName];\r\n\r\n  if (this.style) {\r\n    if (stateName === 'emphasis') {\r\n      return createEmphasisDefaultState(this, stateName, targetStates, state);\r\n    } else if (stateName === 'blur') {\r\n      return createBlurDefaultState(this, stateName, state);\r\n    } else if (stateName === 'select') {\r\n      return createSelectDefaultState(this, stateName, state);\r\n    }\r\n  }\r\n\r\n  return state;\r\n}\r\n/**\r\n * Set hover style (namely \"emphasis style\") of element.\r\n * @param el Should not be `zrender/graphic/Group`.\r\n * @param focus 'self' | 'selfInSeries' | 'series'\r\n */\r\n\r\n\r\nexport function setDefaultStateProxy(el) {\r\n  el.stateProxy = elementStateProxy;\r\n  var textContent = el.getTextContent();\r\n  var textGuide = el.getTextGuideLine();\r\n\r\n  if (textContent) {\r\n    textContent.stateProxy = elementStateProxy;\r\n  }\r\n\r\n  if (textGuide) {\r\n    textGuide.stateProxy = elementStateProxy;\r\n  }\r\n}\r\nexport function enterEmphasisWhenMouseOver(el, e) {\r\n  !shouldSilent(el, e) // \"emphasis\" event highlight has higher priority than mouse highlight.\r\n  && !el.__highByOuter && traverseUpdateState(el, singleEnterEmphasis);\r\n}\r\nexport function leaveEmphasisWhenMouseOut(el, e) {\r\n  !shouldSilent(el, e) // \"emphasis\" event highlight has higher priority than mouse highlight.\r\n  && !el.__highByOuter && traverseUpdateState(el, singleLeaveEmphasis);\r\n}\r\nexport function enterEmphasis(el, highlightDigit) {\r\n  el.__highByOuter |= 1 << (highlightDigit || 0);\r\n  traverseUpdateState(el, singleEnterEmphasis);\r\n}\r\nexport function leaveEmphasis(el, highlightDigit) {\r\n  !(el.__highByOuter &= ~(1 << (highlightDigit || 0))) && traverseUpdateState(el, singleLeaveEmphasis);\r\n}\r\nexport function enterBlur(el) {\r\n  traverseUpdateState(el, singleEnterBlur);\r\n}\r\nexport function leaveBlur(el) {\r\n  traverseUpdateState(el, singleLeaveBlur);\r\n}\r\nexport function enterSelect(el) {\r\n  traverseUpdateState(el, singleEnterSelect);\r\n}\r\nexport function leaveSelect(el) {\r\n  traverseUpdateState(el, singleLeaveSelect);\r\n}\r\n\r\nfunction shouldSilent(el, e) {\r\n  return el.__highDownSilentOnTouch && e.zrByTouch;\r\n}\r\n\r\nexport function allLeaveBlur(api) {\r\n  var model = api.getModel();\r\n  var leaveBlurredSeries = [];\r\n  var allComponentViews = [];\r\n  model.eachComponent(function (componentType, componentModel) {\r\n    var componentStates = getComponentStates(componentModel);\r\n    var isSeries = componentType === 'series';\r\n    var view = isSeries ? api.getViewOfSeriesModel(componentModel) : api.getViewOfComponentModel(componentModel);\r\n    !isSeries && allComponentViews.push(view);\r\n\r\n    if (componentStates.isBlured) {\r\n      // Leave blur anyway\r\n      view.group.traverse(function (child) {\r\n        singleLeaveBlur(child);\r\n      });\r\n      isSeries && leaveBlurredSeries.push(componentModel);\r\n    }\r\n\r\n    componentStates.isBlured = false;\r\n  });\r\n  each(allComponentViews, function (view) {\r\n    if (view && view.toggleBlurSeries) {\r\n      view.toggleBlurSeries(leaveBlurredSeries, false, model);\r\n    }\r\n  });\r\n}\r\nexport function blurSeries(targetSeriesIndex, focus, blurScope, api) {\r\n  var ecModel = api.getModel();\r\n  blurScope = blurScope || 'coordinateSystem';\r\n\r\n  function leaveBlurOfIndices(data, dataIndices) {\r\n    for (var i = 0; i < dataIndices.length; i++) {\r\n      var itemEl = data.getItemGraphicEl(dataIndices[i]);\r\n      itemEl && leaveBlur(itemEl);\r\n    }\r\n  }\r\n\r\n  if (targetSeriesIndex == null) {\r\n    return;\r\n  }\r\n\r\n  if (!focus || focus === 'none') {\r\n    return;\r\n  }\r\n\r\n  var targetSeriesModel = ecModel.getSeriesByIndex(targetSeriesIndex);\r\n  var targetCoordSys = targetSeriesModel.coordinateSystem;\r\n\r\n  if (targetCoordSys && targetCoordSys.master) {\r\n    targetCoordSys = targetCoordSys.master;\r\n  }\r\n\r\n  var blurredSeries = [];\r\n  ecModel.eachSeries(function (seriesModel) {\r\n    var sameSeries = targetSeriesModel === seriesModel;\r\n    var coordSys = seriesModel.coordinateSystem;\r\n\r\n    if (coordSys && coordSys.master) {\r\n      coordSys = coordSys.master;\r\n    }\r\n\r\n    var sameCoordSys = coordSys && targetCoordSys ? coordSys === targetCoordSys : sameSeries; // If there is no coordinate system. use sameSeries instead.\r\n\r\n    if (!( // Not blur other series if blurScope series\r\n    blurScope === 'series' && !sameSeries // Not blur other coordinate system if blurScope is coordinateSystem\r\n    || blurScope === 'coordinateSystem' && !sameCoordSys // Not blur self series if focus is series.\r\n    || focus === 'series' && sameSeries // TODO blurScope: coordinate system\r\n    )) {\r\n      var view = api.getViewOfSeriesModel(seriesModel);\r\n      view.group.traverse(function (child) {\r\n        singleEnterBlur(child);\r\n      });\r\n\r\n      if (isArrayLike(focus)) {\r\n        leaveBlurOfIndices(seriesModel.getData(), focus);\r\n      } else if (isObject(focus)) {\r\n        var dataTypes = keys(focus);\r\n\r\n        for (var d = 0; d < dataTypes.length; d++) {\r\n          leaveBlurOfIndices(seriesModel.getData(dataTypes[d]), focus[dataTypes[d]]);\r\n        }\r\n      }\r\n\r\n      blurredSeries.push(seriesModel);\r\n      getComponentStates(seriesModel).isBlured = true;\r\n    }\r\n  });\r\n  ecModel.eachComponent(function (componentType, componentModel) {\r\n    if (componentType === 'series') {\r\n      return;\r\n    }\r\n\r\n    var view = api.getViewOfComponentModel(componentModel);\r\n\r\n    if (view && view.toggleBlurSeries) {\r\n      view.toggleBlurSeries(blurredSeries, true, ecModel);\r\n    }\r\n  });\r\n}\r\nexport function blurComponent(componentMainType, componentIndex, api) {\r\n  if (componentMainType == null || componentIndex == null) {\r\n    return;\r\n  }\r\n\r\n  var componentModel = api.getModel().getComponent(componentMainType, componentIndex);\r\n\r\n  if (!componentModel) {\r\n    return;\r\n  }\r\n\r\n  getComponentStates(componentModel).isBlured = true;\r\n  var view = api.getViewOfComponentModel(componentModel);\r\n\r\n  if (!view || !view.focusBlurEnabled) {\r\n    return;\r\n  }\r\n\r\n  view.group.traverse(function (child) {\r\n    singleEnterBlur(child);\r\n  });\r\n}\r\nexport function blurSeriesFromHighlightPayload(seriesModel, payload, api) {\r\n  var seriesIndex = seriesModel.seriesIndex;\r\n  var data = seriesModel.getData(payload.dataType);\r\n\r\n  if (!data) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      error(\"Unknown dataType \" + payload.dataType);\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  var dataIndex = queryDataIndex(data, payload); // Pick the first one if there is multiple/none exists.\r\n\r\n  dataIndex = (isArray(dataIndex) ? dataIndex[0] : dataIndex) || 0;\r\n  var el = data.getItemGraphicEl(dataIndex);\r\n\r\n  if (!el) {\r\n    var count = data.count();\r\n    var current = 0; // If data on dataIndex is NaN.\r\n\r\n    while (!el && current < count) {\r\n      el = data.getItemGraphicEl(current++);\r\n    }\r\n  }\r\n\r\n  if (el) {\r\n    var ecData = getECData(el);\r\n    blurSeries(seriesIndex, ecData.focus, ecData.blurScope, api);\r\n  } else {\r\n    // If there is no element put on the data. Try getting it from raw option\r\n    // TODO Should put it on seriesModel?\r\n    var focus_1 = seriesModel.get(['emphasis', 'focus']);\r\n    var blurScope = seriesModel.get(['emphasis', 'blurScope']);\r\n\r\n    if (focus_1 != null) {\r\n      blurSeries(seriesIndex, focus_1, blurScope, api);\r\n    }\r\n  }\r\n}\r\nexport function findComponentHighDownDispatchers(componentMainType, componentIndex, name, api) {\r\n  var ret = {\r\n    focusSelf: false,\r\n    dispatchers: null\r\n  };\r\n\r\n  if (componentMainType == null || componentMainType === 'series' || componentIndex == null || name == null) {\r\n    return ret;\r\n  }\r\n\r\n  var componentModel = api.getModel().getComponent(componentMainType, componentIndex);\r\n\r\n  if (!componentModel) {\r\n    return ret;\r\n  }\r\n\r\n  var view = api.getViewOfComponentModel(componentModel);\r\n\r\n  if (!view || !view.findHighDownDispatchers) {\r\n    return ret;\r\n  }\r\n\r\n  var dispatchers = view.findHighDownDispatchers(name); // At presnet, the component (like Geo) only blur inside itself.\r\n  // So we do not use `blurScope` in component.\r\n\r\n  var focusSelf;\r\n\r\n  for (var i = 0; i < dispatchers.length; i++) {\r\n    if (process.env.NODE_ENV !== 'production' && !isHighDownDispatcher(dispatchers[i])) {\r\n      error('param should be highDownDispatcher');\r\n    }\r\n\r\n    if (getECData(dispatchers[i]).focus === 'self') {\r\n      focusSelf = true;\r\n      break;\r\n    }\r\n  }\r\n\r\n  return {\r\n    focusSelf: focusSelf,\r\n    dispatchers: dispatchers\r\n  };\r\n}\r\nexport function handleGlobalMouseOverForHighDown(dispatcher, e, api) {\r\n  if (process.env.NODE_ENV !== 'production' && !isHighDownDispatcher(dispatcher)) {\r\n    error('param should be highDownDispatcher');\r\n  }\r\n\r\n  var ecData = getECData(dispatcher);\r\n\r\n  var _a = findComponentHighDownDispatchers(ecData.componentMainType, ecData.componentIndex, ecData.componentHighDownName, api),\r\n      dispatchers = _a.dispatchers,\r\n      focusSelf = _a.focusSelf; // If `findHighDownDispatchers` is supported on the component,\r\n  // highlight/downplay elements with the same name.\r\n\r\n\r\n  if (dispatchers) {\r\n    if (focusSelf) {\r\n      blurComponent(ecData.componentMainType, ecData.componentIndex, api);\r\n    }\r\n\r\n    each(dispatchers, function (dispatcher) {\r\n      return enterEmphasisWhenMouseOver(dispatcher, e);\r\n    });\r\n  } else {\r\n    // Try blur all in the related series. Then emphasis the hoverred.\r\n    // TODO. progressive mode.\r\n    blurSeries(ecData.seriesIndex, ecData.focus, ecData.blurScope, api);\r\n\r\n    if (ecData.focus === 'self') {\r\n      blurComponent(ecData.componentMainType, ecData.componentIndex, api);\r\n    } // Other than series, component that not support `findHighDownDispatcher` will\r\n    // also use it. But in this case, highlight/downplay are only supported in\r\n    // mouse hover but not in dispatchAction.\r\n\r\n\r\n    enterEmphasisWhenMouseOver(dispatcher, e);\r\n  }\r\n}\r\nexport function handleGlobalMouseOutForHighDown(dispatcher, e, api) {\r\n  if (process.env.NODE_ENV !== 'production' && !isHighDownDispatcher(dispatcher)) {\r\n    error('param should be highDownDispatcher');\r\n  }\r\n\r\n  allLeaveBlur(api);\r\n  var ecData = getECData(dispatcher);\r\n  var dispatchers = findComponentHighDownDispatchers(ecData.componentMainType, ecData.componentIndex, ecData.componentHighDownName, api).dispatchers;\r\n\r\n  if (dispatchers) {\r\n    each(dispatchers, function (dispatcher) {\r\n      return leaveEmphasisWhenMouseOut(dispatcher, e);\r\n    });\r\n  } else {\r\n    leaveEmphasisWhenMouseOut(dispatcher, e);\r\n  }\r\n}\r\nexport function toggleSelectionFromPayload(seriesModel, payload, api) {\r\n  if (!isSelectChangePayload(payload)) {\r\n    return;\r\n  }\r\n\r\n  var dataType = payload.dataType;\r\n  var data = seriesModel.getData(dataType);\r\n  var dataIndex = queryDataIndex(data, payload);\r\n\r\n  if (!isArray(dataIndex)) {\r\n    dataIndex = [dataIndex];\r\n  }\r\n\r\n  seriesModel[payload.type === TOGGLE_SELECT_ACTION_TYPE ? 'toggleSelect' : payload.type === SELECT_ACTION_TYPE ? 'select' : 'unselect'](dataIndex, dataType);\r\n}\r\nexport function updateSeriesElementSelection(seriesModel) {\r\n  var allData = seriesModel.getAllData();\r\n  each(allData, function (_a) {\r\n    var data = _a.data,\r\n        type = _a.type;\r\n    data.eachItemGraphicEl(function (el, idx) {\r\n      seriesModel.isSelected(idx, type) ? enterSelect(el) : leaveSelect(el);\r\n    });\r\n  });\r\n}\r\nexport function getAllSelectedIndices(ecModel) {\r\n  var ret = [];\r\n  ecModel.eachSeries(function (seriesModel) {\r\n    var allData = seriesModel.getAllData();\r\n    each(allData, function (_a) {\r\n      var data = _a.data,\r\n          type = _a.type;\r\n      var dataIndices = seriesModel.getSelectedDataIndices();\r\n\r\n      if (dataIndices.length > 0) {\r\n        var item = {\r\n          dataIndex: dataIndices,\r\n          seriesIndex: seriesModel.seriesIndex\r\n        };\r\n\r\n        if (type != null) {\r\n          item.dataType = type;\r\n        }\r\n\r\n        ret.push(item);\r\n      }\r\n    });\r\n  });\r\n  return ret;\r\n}\r\n/**\r\n * Enable the function that mouseover will trigger the emphasis state.\r\n *\r\n * NOTE:\r\n * This function should be used on the element with dataIndex, seriesIndex.\r\n *\r\n */\r\n\r\nexport function enableHoverEmphasis(el, focus, blurScope) {\r\n  setAsHighDownDispatcher(el, true);\r\n  traverseUpdateState(el, setDefaultStateProxy);\r\n  enableHoverFocus(el, focus, blurScope);\r\n}\r\nexport function disableHoverEmphasis(el) {\r\n  setAsHighDownDispatcher(el, false);\r\n}\r\nexport function toggleHoverEmphasis(el, focus, blurScope, isDisabled) {\r\n  isDisabled ? disableHoverEmphasis(el) : enableHoverEmphasis(el, focus, blurScope);\r\n}\r\nexport function enableHoverFocus(el, focus, blurScope) {\r\n  var ecData = getECData(el);\r\n\r\n  if (focus != null) {\r\n    // TODO dataIndex may be set after this function. This check is not useful.\r\n    // if (ecData.dataIndex == null) {\r\n    //     if (__DEV__) {\r\n    //         console.warn('focus can only been set on element with dataIndex');\r\n    //     }\r\n    // }\r\n    // else {\r\n    ecData.focus = focus;\r\n    ecData.blurScope = blurScope; // }\r\n  } else if (ecData.focus) {\r\n    ecData.focus = null;\r\n  }\r\n}\r\nvar OTHER_STATES = ['emphasis', 'blur', 'select'];\r\nvar defaultStyleGetterMap = {\r\n  itemStyle: 'getItemStyle',\r\n  lineStyle: 'getLineStyle',\r\n  areaStyle: 'getAreaStyle'\r\n};\r\n/**\r\n * Set emphasis/blur/selected states of element.\r\n */\r\n\r\nexport function setStatesStylesFromModel(el, itemModel, styleType, // default itemStyle\r\ngetter) {\r\n  styleType = styleType || 'itemStyle';\r\n\r\n  for (var i = 0; i < OTHER_STATES.length; i++) {\r\n    var stateName = OTHER_STATES[i];\r\n    var model = itemModel.getModel([stateName, styleType]);\r\n    var state = el.ensureState(stateName); // Let it throw error if getterType is not found.\r\n\r\n    state.style = getter ? getter(model) : model[defaultStyleGetterMap[styleType]]();\r\n  }\r\n}\r\n/**\r\n *\r\n * Set element as highlight / downplay dispatcher.\r\n * It will be checked when element received mouseover event or from highlight action.\r\n * It's in change of all highlight/downplay behavior of it's children.\r\n *\r\n * @param el\r\n * @param el.highDownSilentOnTouch\r\n *        In touch device, mouseover event will be trigger on touchstart event\r\n *        (see module:zrender/dom/HandlerProxy). By this mechanism, we can\r\n *        conveniently use hoverStyle when tap on touch screen without additional\r\n *        code for compatibility.\r\n *        But if the chart/component has select feature, which usually also use\r\n *        hoverStyle, there might be conflict between 'select-highlight' and\r\n *        'hover-highlight' especially when roam is enabled (see geo for example).\r\n *        In this case, `highDownSilentOnTouch` should be used to disable\r\n *        hover-highlight on touch device.\r\n * @param asDispatcher If `false`, do not set as \"highDownDispatcher\".\r\n */\r\n\r\nexport function setAsHighDownDispatcher(el, asDispatcher) {\r\n  var disable = asDispatcher === false;\r\n  var extendedEl = el; // Make `highDownSilentOnTouch` and `onStateChange` only work after\r\n  // `setAsHighDownDispatcher` called. Avoid it is modified by user unexpectedly.\r\n\r\n  if (el.highDownSilentOnTouch) {\r\n    extendedEl.__highDownSilentOnTouch = el.highDownSilentOnTouch;\r\n  } // Simple optimize, since this method might be\r\n  // called for each elements of a group in some cases.\r\n\r\n\r\n  if (!disable || extendedEl.__highDownDispatcher) {\r\n    // Emphasis, normal can be triggered manually by API or other components like hover link.\r\n    // el[method]('emphasis', onElementEmphasisEvent)[method]('normal', onElementNormalEvent);\r\n    // Also keep previous record.\r\n    extendedEl.__highByOuter = extendedEl.__highByOuter || 0;\r\n    extendedEl.__highDownDispatcher = !disable;\r\n  }\r\n}\r\nexport function isHighDownDispatcher(el) {\r\n  return !!(el && el.__highDownDispatcher);\r\n}\r\n/**\r\n * Enable component highlight/downplay features:\r\n * + hover link (within the same name)\r\n * + focus blur in component\r\n */\r\n\r\nexport function enableComponentHighDownFeatures(el, componentModel, componentHighDownName) {\r\n  var ecData = getECData(el);\r\n  ecData.componentMainType = componentModel.mainType;\r\n  ecData.componentIndex = componentModel.componentIndex;\r\n  ecData.componentHighDownName = componentHighDownName;\r\n}\r\n/**\r\n * Support highlight/downplay record on each elements.\r\n * For the case: hover highlight/downplay (legend, visualMap, ...) and\r\n * user triggered highlight/downplay should not conflict.\r\n * Only all of the highlightDigit cleared, return to normal.\r\n * @param {string} highlightKey\r\n * @return {number} highlightDigit\r\n */\r\n\r\nexport function getHighlightDigit(highlightKey) {\r\n  var highlightDigit = _highlightKeyMap[highlightKey];\r\n\r\n  if (highlightDigit == null && _highlightNextDigit <= 32) {\r\n    highlightDigit = _highlightKeyMap[highlightKey] = _highlightNextDigit++;\r\n  }\r\n\r\n  return highlightDigit;\r\n}\r\nexport function isSelectChangePayload(payload) {\r\n  var payloadType = payload.type;\r\n  return payloadType === SELECT_ACTION_TYPE || payloadType === UNSELECT_ACTION_TYPE || payloadType === TOGGLE_SELECT_ACTION_TYPE;\r\n}\r\nexport function isHighDownPayload(payload) {\r\n  var payloadType = payload.type;\r\n  return payloadType === HIGHLIGHT_ACTION_TYPE || payloadType === DOWNPLAY_ACTION_TYPE;\r\n}\r\nexport function savePathStates(el) {\r\n  var store = getSavedStates(el);\r\n  store.normalFill = el.style.fill;\r\n  store.normalStroke = el.style.stroke;\r\n  var selectState = el.states.select || {};\r\n  store.selectFill = selectState.style && selectState.style.fill || null;\r\n  store.selectStroke = selectState.style && selectState.style.stroke || null;\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport * as pathTool from 'zrender/lib/tool/path.js';\r\nimport * as matrix from 'zrender/lib/core/matrix.js';\r\nimport * as vector from 'zrender/lib/core/vector.js';\r\nimport Path from 'zrender/lib/graphic/Path.js';\r\nimport Transformable from 'zrender/lib/core/Transformable.js';\r\nimport ZRImage from 'zrender/lib/graphic/Image.js';\r\nimport Group from 'zrender/lib/graphic/Group.js';\r\nimport ZRText from 'zrender/lib/graphic/Text.js';\r\nimport Circle from 'zrender/lib/graphic/shape/Circle.js';\r\nimport Ellipse from 'zrender/lib/graphic/shape/Ellipse.js';\r\nimport Sector from 'zrender/lib/graphic/shape/Sector.js';\r\nimport Ring from 'zrender/lib/graphic/shape/Ring.js';\r\nimport Polygon from 'zrender/lib/graphic/shape/Polygon.js';\r\nimport Polyline from 'zrender/lib/graphic/shape/Polyline.js';\r\nimport Rect from 'zrender/lib/graphic/shape/Rect.js';\r\nimport Line from 'zrender/lib/graphic/shape/Line.js';\r\nimport BezierCurve from 'zrender/lib/graphic/shape/BezierCurve.js';\r\nimport Arc from 'zrender/lib/graphic/shape/Arc.js';\r\nimport CompoundPath from 'zrender/lib/graphic/CompoundPath.js';\r\nimport LinearGradient from 'zrender/lib/graphic/LinearGradient.js';\r\nimport RadialGradient from 'zrender/lib/graphic/RadialGradient.js';\r\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\r\nimport OrientedBoundingRect from 'zrender/lib/core/OrientedBoundingRect.js';\r\nimport Point from 'zrender/lib/core/Point.js';\r\nimport IncrementalDisplayable from 'zrender/lib/graphic/IncrementalDisplayable.js';\r\nimport * as subPixelOptimizeUtil from 'zrender/lib/graphic/helper/subPixelOptimize.js';\r\nimport { extend, isArrayLike, map, defaults, isString, keys, each, hasOwn, isArray } from 'zrender/lib/core/util.js';\r\nimport { getECData } from './innerStore.js';\r\nimport { updateProps, initProps, removeElement, removeElementWithFadeOut, isElementRemoved } from '../animation/basicTransition.js';\r\n/**\r\n * @deprecated export for compatitable reason\r\n */\r\n\r\nexport { updateProps, initProps, removeElement, removeElementWithFadeOut, isElementRemoved };\r\nvar mathMax = Math.max;\r\nvar mathMin = Math.min;\r\nvar _customShapeMap = {};\r\n/**\r\n * Extend shape with parameters\r\n */\r\n\r\nexport function extendShape(opts) {\r\n  return Path.extend(opts);\r\n}\r\nvar extendPathFromString = pathTool.extendFromString;\r\n/**\r\n * Extend path\r\n */\r\n\r\nexport function extendPath(pathData, opts) {\r\n  return extendPathFromString(pathData, opts);\r\n}\r\n/**\r\n * Register a user defined shape.\r\n * The shape class can be fetched by `getShapeClass`\r\n * This method will overwrite the registered shapes, including\r\n * the registered built-in shapes, if using the same `name`.\r\n * The shape can be used in `custom series` and\r\n * `graphic component` by declaring `{type: name}`.\r\n *\r\n * @param name\r\n * @param ShapeClass Can be generated by `extendShape`.\r\n */\r\n\r\nexport function registerShape(name, ShapeClass) {\r\n  _customShapeMap[name] = ShapeClass;\r\n}\r\n/**\r\n * Find shape class registered by `registerShape`. Usually used in\r\n * fetching user defined shape.\r\n *\r\n * [Caution]:\r\n * (1) This method **MUST NOT be used inside echarts !!!**, unless it is prepared\r\n * to use user registered shapes.\r\n * Because the built-in shape (see `getBuiltInShape`) will be registered by\r\n * `registerShape` by default. That enables users to get both built-in\r\n * shapes as well as the shapes belonging to themsleves. But users can overwrite\r\n * the built-in shapes by using names like 'circle', 'rect' via calling\r\n * `registerShape`. So the echarts inner featrues should not fetch shapes from here\r\n * in case that it is overwritten by users, except that some features, like\r\n * `custom series`, `graphic component`, do it deliberately.\r\n *\r\n * (2) In the features like `custom series`, `graphic component`, the user input\r\n * `{tpye: 'xxx'}` does not only specify shapes but also specify other graphic\r\n * elements like `'group'`, `'text'`, `'image'` or event `'path'`. Those names\r\n * are reserved names, that is, if some user registers a shape named `'image'`,\r\n * the shape will not be used. If we intending to add some more reserved names\r\n * in feature, that might bring break changes (disable some existing user shape\r\n * names). But that case probably rarely happens. So we don't make more mechanism\r\n * to resolve this issue here.\r\n *\r\n * @param name\r\n * @return The shape class. If not found, return nothing.\r\n */\r\n\r\nexport function getShapeClass(name) {\r\n  if (_customShapeMap.hasOwnProperty(name)) {\r\n    return _customShapeMap[name];\r\n  }\r\n}\r\n/**\r\n * Create a path element from path data string\r\n * @param pathData\r\n * @param opts\r\n * @param rect\r\n * @param layout 'center' or 'cover' default to be cover\r\n */\r\n\r\nexport function makePath(pathData, opts, rect, layout) {\r\n  var path = pathTool.createFromString(pathData, opts);\r\n\r\n  if (rect) {\r\n    if (layout === 'center') {\r\n      rect = centerGraphic(rect, path.getBoundingRect());\r\n    }\r\n\r\n    resizePath(path, rect);\r\n  }\r\n\r\n  return path;\r\n}\r\n/**\r\n * Create a image element from image url\r\n * @param imageUrl image url\r\n * @param opts options\r\n * @param rect constrain rect\r\n * @param layout 'center' or 'cover'. Default to be 'cover'\r\n */\r\n\r\nexport function makeImage(imageUrl, rect, layout) {\r\n  var zrImg = new ZRImage({\r\n    style: {\r\n      image: imageUrl,\r\n      x: rect.x,\r\n      y: rect.y,\r\n      width: rect.width,\r\n      height: rect.height\r\n    },\r\n    onload: function (img) {\r\n      if (layout === 'center') {\r\n        var boundingRect = {\r\n          width: img.width,\r\n          height: img.height\r\n        };\r\n        zrImg.setStyle(centerGraphic(rect, boundingRect));\r\n      }\r\n    }\r\n  });\r\n  return zrImg;\r\n}\r\n/**\r\n * Get position of centered element in bounding box.\r\n *\r\n * @param  rect         element local bounding box\r\n * @param  boundingRect constraint bounding box\r\n * @return element position containing x, y, width, and height\r\n */\r\n\r\nfunction centerGraphic(rect, boundingRect) {\r\n  // Set rect to center, keep width / height ratio.\r\n  var aspect = boundingRect.width / boundingRect.height;\r\n  var width = rect.height * aspect;\r\n  var height;\r\n\r\n  if (width <= rect.width) {\r\n    height = rect.height;\r\n  } else {\r\n    width = rect.width;\r\n    height = width / aspect;\r\n  }\r\n\r\n  var cx = rect.x + rect.width / 2;\r\n  var cy = rect.y + rect.height / 2;\r\n  return {\r\n    x: cx - width / 2,\r\n    y: cy - height / 2,\r\n    width: width,\r\n    height: height\r\n  };\r\n}\r\n\r\nexport var mergePath = pathTool.mergePath;\r\n/**\r\n * Resize a path to fit the rect\r\n * @param path\r\n * @param rect\r\n */\r\n\r\nexport function resizePath(path, rect) {\r\n  if (!path.applyTransform) {\r\n    return;\r\n  }\r\n\r\n  var pathRect = path.getBoundingRect();\r\n  var m = pathRect.calculateTransform(rect);\r\n  path.applyTransform(m);\r\n}\r\n/**\r\n * Sub pixel optimize line for canvas\r\n */\r\n\r\nexport function subPixelOptimizeLine(shape, lineWidth) {\r\n  subPixelOptimizeUtil.subPixelOptimizeLine(shape, shape, {\r\n    lineWidth: lineWidth\r\n  });\r\n  return shape;\r\n}\r\n/**\r\n * Sub pixel optimize rect for canvas\r\n */\r\n\r\nexport function subPixelOptimizeRect(param) {\r\n  subPixelOptimizeUtil.subPixelOptimizeRect(param.shape, param.shape, param.style);\r\n  return param;\r\n}\r\n/**\r\n * Sub pixel optimize for canvas\r\n *\r\n * @param position Coordinate, such as x, y\r\n * @param lineWidth Should be nonnegative integer.\r\n * @param positiveOrNegative Default false (negative).\r\n * @return Optimized position.\r\n */\r\n\r\nexport var subPixelOptimize = subPixelOptimizeUtil.subPixelOptimize;\r\n/**\r\n * Get transform matrix of target (param target),\r\n * in coordinate of its ancestor (param ancestor)\r\n *\r\n * @param target\r\n * @param [ancestor]\r\n */\r\n\r\nexport function getTransform(target, ancestor) {\r\n  var mat = matrix.identity([]);\r\n\r\n  while (target && target !== ancestor) {\r\n    matrix.mul(mat, target.getLocalTransform(), mat);\r\n    target = target.parent;\r\n  }\r\n\r\n  return mat;\r\n}\r\n/**\r\n * Apply transform to an vertex.\r\n * @param target [x, y]\r\n * @param transform Can be:\r\n *      + Transform matrix: like [1, 0, 0, 1, 0, 0]\r\n *      + {position, rotation, scale}, the same as `zrender/Transformable`.\r\n * @param invert Whether use invert matrix.\r\n * @return [x, y]\r\n */\r\n\r\nexport function applyTransform(target, transform, invert) {\r\n  if (transform && !isArrayLike(transform)) {\r\n    transform = Transformable.getLocalTransform(transform);\r\n  }\r\n\r\n  if (invert) {\r\n    transform = matrix.invert([], transform);\r\n  }\r\n\r\n  return vector.applyTransform([], target, transform);\r\n}\r\n/**\r\n * @param direction 'left' 'right' 'top' 'bottom'\r\n * @param transform Transform matrix: like [1, 0, 0, 1, 0, 0]\r\n * @param invert Whether use invert matrix.\r\n * @return Transformed direction. 'left' 'right' 'top' 'bottom'\r\n */\r\n\r\nexport function transformDirection(direction, transform, invert) {\r\n  // Pick a base, ensure that transform result will not be (0, 0).\r\n  var hBase = transform[4] === 0 || transform[5] === 0 || transform[0] === 0 ? 1 : Math.abs(2 * transform[4] / transform[0]);\r\n  var vBase = transform[4] === 0 || transform[5] === 0 || transform[2] === 0 ? 1 : Math.abs(2 * transform[4] / transform[2]);\r\n  var vertex = [direction === 'left' ? -hBase : direction === 'right' ? hBase : 0, direction === 'top' ? -vBase : direction === 'bottom' ? vBase : 0];\r\n  vertex = applyTransform(vertex, transform, invert);\r\n  return Math.abs(vertex[0]) > Math.abs(vertex[1]) ? vertex[0] > 0 ? 'right' : 'left' : vertex[1] > 0 ? 'bottom' : 'top';\r\n}\r\n\r\nfunction isNotGroup(el) {\r\n  return !el.isGroup;\r\n}\r\n\r\nfunction isPath(el) {\r\n  return el.shape != null;\r\n}\r\n/**\r\n * Apply group transition animation from g1 to g2.\r\n * If no animatableModel, no animation.\r\n */\r\n\r\n\r\nexport function groupTransition(g1, g2, animatableModel) {\r\n  if (!g1 || !g2) {\r\n    return;\r\n  }\r\n\r\n  function getElMap(g) {\r\n    var elMap = {};\r\n    g.traverse(function (el) {\r\n      if (isNotGroup(el) && el.anid) {\r\n        elMap[el.anid] = el;\r\n      }\r\n    });\r\n    return elMap;\r\n  }\r\n\r\n  function getAnimatableProps(el) {\r\n    var obj = {\r\n      x: el.x,\r\n      y: el.y,\r\n      rotation: el.rotation\r\n    };\r\n\r\n    if (isPath(el)) {\r\n      obj.shape = extend({}, el.shape);\r\n    }\r\n\r\n    return obj;\r\n  }\r\n\r\n  var elMap1 = getElMap(g1);\r\n  g2.traverse(function (el) {\r\n    if (isNotGroup(el) && el.anid) {\r\n      var oldEl = elMap1[el.anid];\r\n\r\n      if (oldEl) {\r\n        var newProp = getAnimatableProps(el);\r\n        el.attr(getAnimatableProps(oldEl));\r\n        updateProps(el, newProp, animatableModel, getECData(el).dataIndex);\r\n      }\r\n    }\r\n  });\r\n}\r\nexport function clipPointsByRect(points, rect) {\r\n  // FIXME: This way might be incorrect when graphic clipped by a corner\r\n  // and when element has a border.\r\n  return map(points, function (point) {\r\n    var x = point[0];\r\n    x = mathMax(x, rect.x);\r\n    x = mathMin(x, rect.x + rect.width);\r\n    var y = point[1];\r\n    y = mathMax(y, rect.y);\r\n    y = mathMin(y, rect.y + rect.height);\r\n    return [x, y];\r\n  });\r\n}\r\n/**\r\n * Return a new clipped rect. If rect size are negative, return undefined.\r\n */\r\n\r\nexport function clipRectByRect(targetRect, rect) {\r\n  var x = mathMax(targetRect.x, rect.x);\r\n  var x2 = mathMin(targetRect.x + targetRect.width, rect.x + rect.width);\r\n  var y = mathMax(targetRect.y, rect.y);\r\n  var y2 = mathMin(targetRect.y + targetRect.height, rect.y + rect.height); // If the total rect is cliped, nothing, including the border,\r\n  // should be painted. So return undefined.\r\n\r\n  if (x2 >= x && y2 >= y) {\r\n    return {\r\n      x: x,\r\n      y: y,\r\n      width: x2 - x,\r\n      height: y2 - y\r\n    };\r\n  }\r\n}\r\nexport function createIcon(iconStr, // Support 'image://' or 'path://' or direct svg path.\r\nopt, rect) {\r\n  var innerOpts = extend({\r\n    rectHover: true\r\n  }, opt);\r\n  var style = innerOpts.style = {\r\n    strokeNoScale: true\r\n  };\r\n  rect = rect || {\r\n    x: -1,\r\n    y: -1,\r\n    width: 2,\r\n    height: 2\r\n  };\r\n\r\n  if (iconStr) {\r\n    return iconStr.indexOf('image://') === 0 ? (style.image = iconStr.slice(8), defaults(style, rect), new ZRImage(innerOpts)) : makePath(iconStr.replace('path://', ''), innerOpts, rect, 'center');\r\n  }\r\n}\r\n/**\r\n * Return `true` if the given line (line `a`) and the given polygon\r\n * are intersect.\r\n * Note that we do not count colinear as intersect here because no\r\n * requirement for that. We could do that if required in future.\r\n */\r\n\r\nexport function linePolygonIntersect(a1x, a1y, a2x, a2y, points) {\r\n  for (var i = 0, p2 = points[points.length - 1]; i < points.length; i++) {\r\n    var p = points[i];\r\n\r\n    if (lineLineIntersect(a1x, a1y, a2x, a2y, p[0], p[1], p2[0], p2[1])) {\r\n      return true;\r\n    }\r\n\r\n    p2 = p;\r\n  }\r\n}\r\n/**\r\n * Return `true` if the given two lines (line `a` and line `b`)\r\n * are intersect.\r\n * Note that we do not count colinear as intersect here because no\r\n * requirement for that. We could do that if required in future.\r\n */\r\n\r\nexport function lineLineIntersect(a1x, a1y, a2x, a2y, b1x, b1y, b2x, b2y) {\r\n  // let `vec_m` to be `vec_a2 - vec_a1` and `vec_n` to be `vec_b2 - vec_b1`.\r\n  var mx = a2x - a1x;\r\n  var my = a2y - a1y;\r\n  var nx = b2x - b1x;\r\n  var ny = b2y - b1y; // `vec_m` and `vec_n` are parallel iff\r\n  //     existing `k` such that `vec_m = k · vec_n`, equivalent to `vec_m X vec_n = 0`.\r\n\r\n  var nmCrossProduct = crossProduct2d(nx, ny, mx, my);\r\n\r\n  if (nearZero(nmCrossProduct)) {\r\n    return false;\r\n  } // `vec_m` and `vec_n` are intersect iff\r\n  //     existing `p` and `q` in [0, 1] such that `vec_a1 + p * vec_m = vec_b1 + q * vec_n`,\r\n  //     such that `q = ((vec_a1 - vec_b1) X vec_m) / (vec_n X vec_m)`\r\n  //           and `p = ((vec_a1 - vec_b1) X vec_n) / (vec_n X vec_m)`.\r\n\r\n\r\n  var b1a1x = a1x - b1x;\r\n  var b1a1y = a1y - b1y;\r\n  var q = crossProduct2d(b1a1x, b1a1y, mx, my) / nmCrossProduct;\r\n\r\n  if (q < 0 || q > 1) {\r\n    return false;\r\n  }\r\n\r\n  var p = crossProduct2d(b1a1x, b1a1y, nx, ny) / nmCrossProduct;\r\n\r\n  if (p < 0 || p > 1) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n}\r\n/**\r\n * Cross product of 2-dimension vector.\r\n */\r\n\r\nfunction crossProduct2d(x1, y1, x2, y2) {\r\n  return x1 * y2 - x2 * y1;\r\n}\r\n\r\nfunction nearZero(val) {\r\n  return val <= 1e-6 && val >= -1e-6;\r\n}\r\n\r\nexport function setTooltipConfig(opt) {\r\n  var itemTooltipOption = opt.itemTooltipOption;\r\n  var componentModel = opt.componentModel;\r\n  var itemName = opt.itemName;\r\n  var itemTooltipOptionObj = isString(itemTooltipOption) ? {\r\n    formatter: itemTooltipOption\r\n  } : itemTooltipOption;\r\n  var mainType = componentModel.mainType;\r\n  var componentIndex = componentModel.componentIndex;\r\n  var formatterParams = {\r\n    componentType: mainType,\r\n    name: itemName,\r\n    $vars: ['name']\r\n  };\r\n  formatterParams[mainType + 'Index'] = componentIndex;\r\n  var formatterParamsExtra = opt.formatterParamsExtra;\r\n\r\n  if (formatterParamsExtra) {\r\n    each(keys(formatterParamsExtra), function (key) {\r\n      if (!hasOwn(formatterParams, key)) {\r\n        formatterParams[key] = formatterParamsExtra[key];\r\n        formatterParams.$vars.push(key);\r\n      }\r\n    });\r\n  }\r\n\r\n  var ecData = getECData(opt.el);\r\n  ecData.componentMainType = mainType;\r\n  ecData.componentIndex = componentIndex;\r\n  ecData.tooltipConfig = {\r\n    name: itemName,\r\n    option: defaults({\r\n      content: itemName,\r\n      formatterParams: formatterParams\r\n    }, itemTooltipOptionObj)\r\n  };\r\n}\r\n\r\nfunction traverseElement(el, cb) {\r\n  var stopped; // TODO\r\n  // Polyfill for fixing zrender group traverse don't visit it's root issue.\r\n\r\n  if (el.isGroup) {\r\n    stopped = cb(el);\r\n  }\r\n\r\n  if (!stopped) {\r\n    el.traverse(cb);\r\n  }\r\n}\r\n\r\nexport function traverseElements(els, cb) {\r\n  if (els) {\r\n    if (isArray(els)) {\r\n      for (var i = 0; i < els.length; i++) {\r\n        traverseElement(els[i], cb);\r\n      }\r\n    } else {\r\n      traverseElement(els, cb);\r\n    }\r\n  }\r\n} // Register built-in shapes. These shapes might be overwritten\r\n// by users, although we do not recommend that.\r\n\r\nregisterShape('circle', Circle);\r\nregisterShape('ellipse', Ellipse);\r\nregisterShape('sector', Sector);\r\nregisterShape('ring', Ring);\r\nregisterShape('polygon', Polygon);\r\nregisterShape('polyline', Polyline);\r\nregisterShape('rect', Rect);\r\nregisterShape('line', Line);\r\nregisterShape('bezierCurve', BezierCurve);\r\nregisterShape('arc', Arc);\r\nexport { Group, ZRImage as Image, ZRText as Text, Circle, Ellipse, Sector, Ring, Polygon, Polyline, Rect, Line, BezierCurve, Arc, IncrementalDisplayable, CompoundPath, LinearGradient, RadialGradient, BoundingRect, OrientedBoundingRect, Point, Path };", "import PathProxy from '../core/PathProxy.js';\r\nimport { applyTransform as v2ApplyTransform } from '../core/vector.js';\r\nvar CMD = PathProxy.CMD;\r\nvar points = [[], [], []];\r\nvar mathSqrt = Math.sqrt;\r\nvar mathAtan2 = Math.atan2;\r\nexport default function transformPath(path, m) {\r\n    if (!m) {\r\n        return;\r\n    }\r\n    var data = path.data;\r\n    var len = path.len();\r\n    var cmd;\r\n    var nPoint;\r\n    var i;\r\n    var j;\r\n    var k;\r\n    var p;\r\n    var M = CMD.M;\r\n    var C = CMD.C;\r\n    var L = CMD.L;\r\n    var R = CMD.R;\r\n    var A = CMD.A;\r\n    var Q = CMD.Q;\r\n    for (i = 0, j = 0; i < len;) {\r\n        cmd = data[i++];\r\n        j = i;\r\n        nPoint = 0;\r\n        switch (cmd) {\r\n            case M:\r\n                nPoint = 1;\r\n                break;\r\n            case L:\r\n                nPoint = 1;\r\n                break;\r\n            case C:\r\n                nPoint = 3;\r\n                break;\r\n            case Q:\r\n                nPoint = 2;\r\n                break;\r\n            case A:\r\n                var x = m[4];\r\n                var y = m[5];\r\n                var sx = mathSqrt(m[0] * m[0] + m[1] * m[1]);\r\n                var sy = mathSqrt(m[2] * m[2] + m[3] * m[3]);\r\n                var angle = mathAtan2(-m[1] / sy, m[0] / sx);\r\n                data[i] *= sx;\r\n                data[i++] += x;\r\n                data[i] *= sy;\r\n                data[i++] += y;\r\n                data[i++] *= sx;\r\n                data[i++] *= sy;\r\n                data[i++] += angle;\r\n                data[i++] += angle;\r\n                i += 2;\r\n                j = i;\r\n                break;\r\n            case R:\r\n                p[0] = data[i++];\r\n                p[1] = data[i++];\r\n                v2ApplyTransform(p, p, m);\r\n                data[j++] = p[0];\r\n                data[j++] = p[1];\r\n                p[0] += data[i++];\r\n                p[1] += data[i++];\r\n                v2ApplyTransform(p, p, m);\r\n                data[j++] = p[0];\r\n                data[j++] = p[1];\r\n        }\r\n        for (k = 0; k < nPoint; k++) {\r\n            var p_1 = points[k];\r\n            p_1[0] = data[i++];\r\n            p_1[1] = data[i++];\r\n            v2ApplyTransform(p_1, p_1, m);\r\n            data[j++] = p_1[0];\r\n            data[j++] = p_1[1];\r\n        }\r\n    }\r\n    path.increaseVersion();\r\n}\r\n", "import { __extends } from \"tslib\";\r\nimport Path from '../graphic/Path.js';\r\nimport PathProxy from '../core/PathProxy.js';\r\nimport transformPath from './transformPath.js';\r\nimport { extend } from '../core/util.js';\r\nvar mathSqrt = Math.sqrt;\r\nvar mathSin = Math.sin;\r\nvar mathCos = Math.cos;\r\nvar PI = Math.PI;\r\nfunction vMag(v) {\r\n    return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\r\n}\r\n;\r\nfunction vRatio(u, v) {\r\n    return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\r\n}\r\n;\r\nfunction vAngle(u, v) {\r\n    return (u[0] * v[1] < u[1] * v[0] ? -1 : 1)\r\n        * Math.acos(vRatio(u, v));\r\n}\r\n;\r\nfunction processArc(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg, cmd, path) {\r\n    var psi = psiDeg * (PI / 180.0);\r\n    var xp = mathCos(psi) * (x1 - x2) / 2.0\r\n        + mathSin(psi) * (y1 - y2) / 2.0;\r\n    var yp = -1 * mathSin(psi) * (x1 - x2) / 2.0\r\n        + mathCos(psi) * (y1 - y2) / 2.0;\r\n    var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\r\n    if (lambda > 1) {\r\n        rx *= mathSqrt(lambda);\r\n        ry *= mathSqrt(lambda);\r\n    }\r\n    var f = (fa === fs ? -1 : 1)\r\n        * mathSqrt((((rx * rx) * (ry * ry))\r\n            - ((rx * rx) * (yp * yp))\r\n            - ((ry * ry) * (xp * xp))) / ((rx * rx) * (yp * yp)\r\n            + (ry * ry) * (xp * xp))) || 0;\r\n    var cxp = f * rx * yp / ry;\r\n    var cyp = f * -ry * xp / rx;\r\n    var cx = (x1 + x2) / 2.0\r\n        + mathCos(psi) * cxp\r\n        - mathSin(psi) * cyp;\r\n    var cy = (y1 + y2) / 2.0\r\n        + mathSin(psi) * cxp\r\n        + mathCos(psi) * cyp;\r\n    var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\r\n    var u = [(xp - cxp) / rx, (yp - cyp) / ry];\r\n    var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\r\n    var dTheta = vAngle(u, v);\r\n    if (vRatio(u, v) <= -1) {\r\n        dTheta = PI;\r\n    }\r\n    if (vRatio(u, v) >= 1) {\r\n        dTheta = 0;\r\n    }\r\n    if (dTheta < 0) {\r\n        var n = Math.round(dTheta / PI * 1e6) / 1e6;\r\n        dTheta = PI * 2 + (n % 2) * PI;\r\n    }\r\n    path.addData(cmd, cx, cy, rx, ry, theta, dTheta, psi, fs);\r\n}\r\nvar commandReg = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig;\r\nvar numberReg = /-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g;\r\nfunction createPathProxyFromString(data) {\r\n    var path = new PathProxy();\r\n    if (!data) {\r\n        return path;\r\n    }\r\n    var cpx = 0;\r\n    var cpy = 0;\r\n    var subpathX = cpx;\r\n    var subpathY = cpy;\r\n    var prevCmd;\r\n    var CMD = PathProxy.CMD;\r\n    var cmdList = data.match(commandReg);\r\n    if (!cmdList) {\r\n        return path;\r\n    }\r\n    for (var l = 0; l < cmdList.length; l++) {\r\n        var cmdText = cmdList[l];\r\n        var cmdStr = cmdText.charAt(0);\r\n        var cmd = void 0;\r\n        var p = cmdText.match(numberReg) || [];\r\n        var pLen = p.length;\r\n        for (var i = 0; i < pLen; i++) {\r\n            p[i] = parseFloat(p[i]);\r\n        }\r\n        var off = 0;\r\n        while (off < pLen) {\r\n            var ctlPtx = void 0;\r\n            var ctlPty = void 0;\r\n            var rx = void 0;\r\n            var ry = void 0;\r\n            var psi = void 0;\r\n            var fa = void 0;\r\n            var fs = void 0;\r\n            var x1 = cpx;\r\n            var y1 = cpy;\r\n            var len = void 0;\r\n            var pathData = void 0;\r\n            switch (cmdStr) {\r\n                case 'l':\r\n                    cpx += p[off++];\r\n                    cpy += p[off++];\r\n                    cmd = CMD.L;\r\n                    path.addData(cmd, cpx, cpy);\r\n                    break;\r\n                case 'L':\r\n                    cpx = p[off++];\r\n                    cpy = p[off++];\r\n                    cmd = CMD.L;\r\n                    path.addData(cmd, cpx, cpy);\r\n                    break;\r\n                case 'm':\r\n                    cpx += p[off++];\r\n                    cpy += p[off++];\r\n                    cmd = CMD.M;\r\n                    path.addData(cmd, cpx, cpy);\r\n                    subpathX = cpx;\r\n                    subpathY = cpy;\r\n                    cmdStr = 'l';\r\n                    break;\r\n                case 'M':\r\n                    cpx = p[off++];\r\n                    cpy = p[off++];\r\n                    cmd = CMD.M;\r\n                    path.addData(cmd, cpx, cpy);\r\n                    subpathX = cpx;\r\n                    subpathY = cpy;\r\n                    cmdStr = 'L';\r\n                    break;\r\n                case 'h':\r\n                    cpx += p[off++];\r\n                    cmd = CMD.L;\r\n                    path.addData(cmd, cpx, cpy);\r\n                    break;\r\n                case 'H':\r\n                    cpx = p[off++];\r\n                    cmd = CMD.L;\r\n                    path.addData(cmd, cpx, cpy);\r\n                    break;\r\n                case 'v':\r\n                    cpy += p[off++];\r\n                    cmd = CMD.L;\r\n                    path.addData(cmd, cpx, cpy);\r\n                    break;\r\n                case 'V':\r\n                    cpy = p[off++];\r\n                    cmd = CMD.L;\r\n                    path.addData(cmd, cpx, cpy);\r\n                    break;\r\n                case 'C':\r\n                    cmd = CMD.C;\r\n                    path.addData(cmd, p[off++], p[off++], p[off++], p[off++], p[off++], p[off++]);\r\n                    cpx = p[off - 2];\r\n                    cpy = p[off - 1];\r\n                    break;\r\n                case 'c':\r\n                    cmd = CMD.C;\r\n                    path.addData(cmd, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy);\r\n                    cpx += p[off - 2];\r\n                    cpy += p[off - 1];\r\n                    break;\r\n                case 'S':\r\n                    ctlPtx = cpx;\r\n                    ctlPty = cpy;\r\n                    len = path.len();\r\n                    pathData = path.data;\r\n                    if (prevCmd === CMD.C) {\r\n                        ctlPtx += cpx - pathData[len - 4];\r\n                        ctlPty += cpy - pathData[len - 3];\r\n                    }\r\n                    cmd = CMD.C;\r\n                    x1 = p[off++];\r\n                    y1 = p[off++];\r\n                    cpx = p[off++];\r\n                    cpy = p[off++];\r\n                    path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\r\n                    break;\r\n                case 's':\r\n                    ctlPtx = cpx;\r\n                    ctlPty = cpy;\r\n                    len = path.len();\r\n                    pathData = path.data;\r\n                    if (prevCmd === CMD.C) {\r\n                        ctlPtx += cpx - pathData[len - 4];\r\n                        ctlPty += cpy - pathData[len - 3];\r\n                    }\r\n                    cmd = CMD.C;\r\n                    x1 = cpx + p[off++];\r\n                    y1 = cpy + p[off++];\r\n                    cpx += p[off++];\r\n                    cpy += p[off++];\r\n                    path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\r\n                    break;\r\n                case 'Q':\r\n                    x1 = p[off++];\r\n                    y1 = p[off++];\r\n                    cpx = p[off++];\r\n                    cpy = p[off++];\r\n                    cmd = CMD.Q;\r\n                    path.addData(cmd, x1, y1, cpx, cpy);\r\n                    break;\r\n                case 'q':\r\n                    x1 = p[off++] + cpx;\r\n                    y1 = p[off++] + cpy;\r\n                    cpx += p[off++];\r\n                    cpy += p[off++];\r\n                    cmd = CMD.Q;\r\n                    path.addData(cmd, x1, y1, cpx, cpy);\r\n                    break;\r\n                case 'T':\r\n                    ctlPtx = cpx;\r\n                    ctlPty = cpy;\r\n                    len = path.len();\r\n                    pathData = path.data;\r\n                    if (prevCmd === CMD.Q) {\r\n                        ctlPtx += cpx - pathData[len - 4];\r\n                        ctlPty += cpy - pathData[len - 3];\r\n                    }\r\n                    cpx = p[off++];\r\n                    cpy = p[off++];\r\n                    cmd = CMD.Q;\r\n                    path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\r\n                    break;\r\n                case 't':\r\n                    ctlPtx = cpx;\r\n                    ctlPty = cpy;\r\n                    len = path.len();\r\n                    pathData = path.data;\r\n                    if (prevCmd === CMD.Q) {\r\n                        ctlPtx += cpx - pathData[len - 4];\r\n                        ctlPty += cpy - pathData[len - 3];\r\n                    }\r\n                    cpx += p[off++];\r\n                    cpy += p[off++];\r\n                    cmd = CMD.Q;\r\n                    path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\r\n                    break;\r\n                case 'A':\r\n                    rx = p[off++];\r\n                    ry = p[off++];\r\n                    psi = p[off++];\r\n                    fa = p[off++];\r\n                    fs = p[off++];\r\n                    x1 = cpx, y1 = cpy;\r\n                    cpx = p[off++];\r\n                    cpy = p[off++];\r\n                    cmd = CMD.A;\r\n                    processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\r\n                    break;\r\n                case 'a':\r\n                    rx = p[off++];\r\n                    ry = p[off++];\r\n                    psi = p[off++];\r\n                    fa = p[off++];\r\n                    fs = p[off++];\r\n                    x1 = cpx, y1 = cpy;\r\n                    cpx += p[off++];\r\n                    cpy += p[off++];\r\n                    cmd = CMD.A;\r\n                    processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\r\n                    break;\r\n            }\r\n        }\r\n        if (cmdStr === 'z' || cmdStr === 'Z') {\r\n            cmd = CMD.Z;\r\n            path.addData(cmd);\r\n            cpx = subpathX;\r\n            cpy = subpathY;\r\n        }\r\n        prevCmd = cmd;\r\n    }\r\n    path.toStatic();\r\n    return path;\r\n}\r\nvar SVGPath = (function (_super) {\r\n    __extends(SVGPath, _super);\r\n    function SVGPath() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SVGPath.prototype.applyTransform = function (m) { };\r\n    return SVGPath;\r\n}(Path));\r\nfunction isPathProxy(path) {\r\n    return path.setData != null;\r\n}\r\nfunction createPathOptions(str, opts) {\r\n    var pathProxy = createPathProxyFromString(str);\r\n    var innerOpts = extend({}, opts);\r\n    innerOpts.buildPath = function (path) {\r\n        if (isPathProxy(path)) {\r\n            path.setData(pathProxy.data);\r\n            var ctx = path.getContext();\r\n            if (ctx) {\r\n                path.rebuildPath(ctx, 1);\r\n            }\r\n        }\r\n        else {\r\n            var ctx = path;\r\n            pathProxy.rebuildPath(ctx, 1);\r\n        }\r\n    };\r\n    innerOpts.applyTransform = function (m) {\r\n        transformPath(pathProxy, m);\r\n        this.dirtyShape();\r\n    };\r\n    return innerOpts;\r\n}\r\nexport function createFromString(str, opts) {\r\n    return new SVGPath(createPathOptions(str, opts));\r\n}\r\nexport function extendFromString(str, defaultOpts) {\r\n    var innerOpts = createPathOptions(str, defaultOpts);\r\n    var Sub = (function (_super) {\r\n        __extends(Sub, _super);\r\n        function Sub(opts) {\r\n            var _this = _super.call(this, opts) || this;\r\n            _this.applyTransform = innerOpts.applyTransform;\r\n            _this.buildPath = innerOpts.buildPath;\r\n            return _this;\r\n        }\r\n        return Sub;\r\n    }(SVGPath));\r\n    return Sub;\r\n}\r\nexport function mergePath(pathEls, opts) {\r\n    var pathList = [];\r\n    var len = pathEls.length;\r\n    for (var i = 0; i < len; i++) {\r\n        var pathEl = pathEls[i];\r\n        pathList.push(pathEl.getUpdatedPathProxy(true));\r\n    }\r\n    var pathBundle = new Path(opts);\r\n    pathBundle.createPathProxy();\r\n    pathBundle.buildPath = function (path) {\r\n        if (isPathProxy(path)) {\r\n            path.appendPath(pathList);\r\n            var ctx = path.getContext();\r\n            if (ctx) {\r\n                path.rebuildPath(ctx, 1);\r\n            }\r\n        }\r\n    };\r\n    return pathBundle;\r\n}\r\nexport function clonePath(sourcePath, opts) {\r\n    opts = opts || {};\r\n    var path = new Path();\r\n    if (sourcePath.shape) {\r\n        path.setShape(sourcePath.shape);\r\n    }\r\n    path.setStyle(sourcePath.style);\r\n    if (opts.bakeTransform) {\r\n        transformPath(path.path, sourcePath.getComputedTransform());\r\n    }\r\n    else {\r\n        if (opts.toLocal) {\r\n            path.setLocalTransform(sourcePath.getComputedTransform());\r\n        }\r\n        else {\r\n            path.copyTransform(sourcePath);\r\n        }\r\n    }\r\n    path.buildPath = sourcePath.buildPath;\r\n    path.applyTransform = path.applyTransform;\r\n    path.z = sourcePath.z;\r\n    path.z2 = sourcePath.z2;\r\n    path.zlevel = sourcePath.zlevel;\r\n    return path;\r\n}\r\n", "import { __extends } from \"tslib\";\r\nimport * as zrUtil from '../core/util.js';\r\nimport Element from '../Element.js';\r\nimport BoundingRect from '../core/BoundingRect.js';\r\nvar Group = (function (_super) {\r\n    __extends(Group, _super);\r\n    function Group(opts) {\r\n        var _this = _super.call(this) || this;\r\n        _this.isGroup = true;\r\n        _this._children = [];\r\n        _this.attr(opts);\r\n        return _this;\r\n    }\r\n    Group.prototype.childrenRef = function () {\r\n        return this._children;\r\n    };\r\n    Group.prototype.children = function () {\r\n        return this._children.slice();\r\n    };\r\n    Group.prototype.childAt = function (idx) {\r\n        return this._children[idx];\r\n    };\r\n    Group.prototype.childOfName = function (name) {\r\n        var children = this._children;\r\n        for (var i = 0; i < children.length; i++) {\r\n            if (children[i].name === name) {\r\n                return children[i];\r\n            }\r\n        }\r\n    };\r\n    Group.prototype.childCount = function () {\r\n        return this._children.length;\r\n    };\r\n    Group.prototype.add = function (child) {\r\n        if (child) {\r\n            if (child !== this && child.parent !== this) {\r\n                this._children.push(child);\r\n                this._doAdd(child);\r\n            }\r\n            if (process.env.NODE_ENV !== 'production') {\r\n                if (child.__hostTarget) {\r\n                    throw 'This elemenet has been used as an attachment';\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    Group.prototype.addBefore = function (child, nextSibling) {\r\n        if (child && child !== this && child.parent !== this\r\n            && nextSibling && nextSibling.parent === this) {\r\n            var children = this._children;\r\n            var idx = children.indexOf(nextSibling);\r\n            if (idx >= 0) {\r\n                children.splice(idx, 0, child);\r\n                this._doAdd(child);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    Group.prototype.replace = function (oldChild, newChild) {\r\n        var idx = zrUtil.indexOf(this._children, oldChild);\r\n        if (idx >= 0) {\r\n            this.replaceAt(newChild, idx);\r\n        }\r\n        return this;\r\n    };\r\n    Group.prototype.replaceAt = function (child, index) {\r\n        var children = this._children;\r\n        var old = children[index];\r\n        if (child && child !== this && child.parent !== this && child !== old) {\r\n            children[index] = child;\r\n            old.parent = null;\r\n            var zr = this.__zr;\r\n            if (zr) {\r\n                old.removeSelfFromZr(zr);\r\n            }\r\n            this._doAdd(child);\r\n        }\r\n        return this;\r\n    };\r\n    Group.prototype._doAdd = function (child) {\r\n        if (child.parent) {\r\n            child.parent.remove(child);\r\n        }\r\n        child.parent = this;\r\n        var zr = this.__zr;\r\n        if (zr && zr !== child.__zr) {\r\n            child.addSelfToZr(zr);\r\n        }\r\n        zr && zr.refresh();\r\n    };\r\n    Group.prototype.remove = function (child) {\r\n        var zr = this.__zr;\r\n        var children = this._children;\r\n        var idx = zrUtil.indexOf(children, child);\r\n        if (idx < 0) {\r\n            return this;\r\n        }\r\n        children.splice(idx, 1);\r\n        child.parent = null;\r\n        if (zr) {\r\n            child.removeSelfFromZr(zr);\r\n        }\r\n        zr && zr.refresh();\r\n        return this;\r\n    };\r\n    Group.prototype.removeAll = function () {\r\n        var children = this._children;\r\n        var zr = this.__zr;\r\n        for (var i = 0; i < children.length; i++) {\r\n            var child = children[i];\r\n            if (zr) {\r\n                child.removeSelfFromZr(zr);\r\n            }\r\n            child.parent = null;\r\n        }\r\n        children.length = 0;\r\n        return this;\r\n    };\r\n    Group.prototype.eachChild = function (cb, context) {\r\n        var children = this._children;\r\n        for (var i = 0; i < children.length; i++) {\r\n            var child = children[i];\r\n            cb.call(context, child, i);\r\n        }\r\n        return this;\r\n    };\r\n    Group.prototype.traverse = function (cb, context) {\r\n        for (var i = 0; i < this._children.length; i++) {\r\n            var child = this._children[i];\r\n            var stopped = cb.call(context, child);\r\n            if (child.isGroup && !stopped) {\r\n                child.traverse(cb, context);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    Group.prototype.addSelfToZr = function (zr) {\r\n        _super.prototype.addSelfToZr.call(this, zr);\r\n        for (var i = 0; i < this._children.length; i++) {\r\n            var child = this._children[i];\r\n            child.addSelfToZr(zr);\r\n        }\r\n    };\r\n    Group.prototype.removeSelfFromZr = function (zr) {\r\n        _super.prototype.removeSelfFromZr.call(this, zr);\r\n        for (var i = 0; i < this._children.length; i++) {\r\n            var child = this._children[i];\r\n            child.removeSelfFromZr(zr);\r\n        }\r\n    };\r\n    Group.prototype.getBoundingRect = function (includeChildren) {\r\n        var tmpRect = new BoundingRect(0, 0, 0, 0);\r\n        var children = includeChildren || this._children;\r\n        var tmpMat = [];\r\n        var rect = null;\r\n        for (var i = 0; i < children.length; i++) {\r\n            var child = children[i];\r\n            if (child.ignore || child.invisible) {\r\n                continue;\r\n            }\r\n            var childRect = child.getBoundingRect();\r\n            var transform = child.getLocalTransform(tmpMat);\r\n            if (transform) {\r\n                BoundingRect.applyTransform(tmpRect, childRect, transform);\r\n                rect = rect || tmpRect.clone();\r\n                rect.union(tmpRect);\r\n            }\r\n            else {\r\n                rect = rect || childRect.clone();\r\n                rect.union(childRect);\r\n            }\r\n        }\r\n        return rect || tmpRect;\r\n    };\r\n    return Group;\r\n}(Element));\r\nGroup.prototype.type = 'group';\r\nexport default Group;\r\n", "import { __extends } from \"tslib\";\r\nimport Path from '../Path.js';\r\nvar CircleShape = (function () {\r\n    function CircleShape() {\r\n        this.cx = 0;\r\n        this.cy = 0;\r\n        this.r = 0;\r\n    }\r\n    return CircleShape;\r\n}());\r\nexport { CircleShape };\r\nvar Circle = (function (_super) {\r\n    __extends(Circle, _super);\r\n    function Circle(opts) {\r\n        return _super.call(this, opts) || this;\r\n    }\r\n    Circle.prototype.getDefaultShape = function () {\r\n        return new CircleShape();\r\n    };\r\n    Circle.prototype.buildPath = function (ctx, shape) {\r\n        ctx.moveTo(shape.cx + shape.r, shape.cy);\r\n        ctx.arc(shape.cx, shape.cy, shape.r, 0, Math.PI * 2);\r\n    };\r\n    return Circle;\r\n}(Path));\r\n;\r\nCircle.prototype.type = 'circle';\r\nexport default Circle;\r\n", "import { __extends } from \"tslib\";\r\nimport Path from '../Path.js';\r\nvar EllipseShape = (function () {\r\n    function EllipseShape() {\r\n        this.cx = 0;\r\n        this.cy = 0;\r\n        this.rx = 0;\r\n        this.ry = 0;\r\n    }\r\n    return EllipseShape;\r\n}());\r\nexport { EllipseShape };\r\nvar Ellipse = (function (_super) {\r\n    __extends(Ellipse, _super);\r\n    function Ellipse(opts) {\r\n        return _super.call(this, opts) || this;\r\n    }\r\n    Ellipse.prototype.getDefaultShape = function () {\r\n        return new EllipseShape();\r\n    };\r\n    Ellipse.prototype.buildPath = function (ctx, shape) {\r\n        var k = 0.5522848;\r\n        var x = shape.cx;\r\n        var y = shape.cy;\r\n        var a = shape.rx;\r\n        var b = shape.ry;\r\n        var ox = a * k;\r\n        var oy = b * k;\r\n        ctx.moveTo(x - a, y);\r\n        ctx.bezierCurveTo(x - a, y - oy, x - ox, y - b, x, y - b);\r\n        ctx.bezierCurveTo(x + ox, y - b, x + a, y - oy, x + a, y);\r\n        ctx.bezierCurveTo(x + a, y + oy, x + ox, y + b, x, y + b);\r\n        ctx.bezierCurveTo(x - ox, y + b, x - a, y + oy, x - a, y);\r\n        ctx.closePath();\r\n    };\r\n    return Ellipse;\r\n}(Path));\r\nEllipse.prototype.type = 'ellipse';\r\nexport default Ellipse;\r\n", "import { isArray } from '../../core/util.js';\r\nvar PI = Math.PI;\r\nvar PI2 = PI * 2;\r\nvar mathSin = Math.sin;\r\nvar mathCos = Math.cos;\r\nvar mathACos = Math.acos;\r\nvar mathATan2 = Math.atan2;\r\nvar mathAbs = Math.abs;\r\nvar mathSqrt = Math.sqrt;\r\nvar mathMax = Math.max;\r\nvar mathMin = Math.min;\r\nvar e = 1e-4;\r\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\r\n    var dx10 = x1 - x0;\r\n    var dy10 = y1 - y0;\r\n    var dx32 = x3 - x2;\r\n    var dy32 = y3 - y2;\r\n    var t = dy32 * dx10 - dx32 * dy10;\r\n    if (t * t < e) {\r\n        return;\r\n    }\r\n    t = (dx32 * (y0 - y2) - dy32 * (x0 - x2)) / t;\r\n    return [x0 + t * dx10, y0 + t * dy10];\r\n}\r\nfunction computeCornerTangents(x0, y0, x1, y1, radius, cr, clockwise) {\r\n    var x01 = x0 - x1;\r\n    var y01 = y0 - y1;\r\n    var lo = (clockwise ? cr : -cr) / mathSqrt(x01 * x01 + y01 * y01);\r\n    var ox = lo * y01;\r\n    var oy = -lo * x01;\r\n    var x11 = x0 + ox;\r\n    var y11 = y0 + oy;\r\n    var x10 = x1 + ox;\r\n    var y10 = y1 + oy;\r\n    var x00 = (x11 + x10) / 2;\r\n    var y00 = (y11 + y10) / 2;\r\n    var dx = x10 - x11;\r\n    var dy = y10 - y11;\r\n    var d2 = dx * dx + dy * dy;\r\n    var r = radius - cr;\r\n    var s = x11 * y10 - x10 * y11;\r\n    var d = (dy < 0 ? -1 : 1) * mathSqrt(mathMax(0, r * r * d2 - s * s));\r\n    var cx0 = (s * dy - dx * d) / d2;\r\n    var cy0 = (-s * dx - dy * d) / d2;\r\n    var cx1 = (s * dy + dx * d) / d2;\r\n    var cy1 = (-s * dx + dy * d) / d2;\r\n    var dx0 = cx0 - x00;\r\n    var dy0 = cy0 - y00;\r\n    var dx1 = cx1 - x00;\r\n    var dy1 = cy1 - y00;\r\n    if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) {\r\n        cx0 = cx1;\r\n        cy0 = cy1;\r\n    }\r\n    return {\r\n        cx: cx0,\r\n        cy: cy0,\r\n        x0: -ox,\r\n        y0: -oy,\r\n        x1: cx0 * (radius / r - 1),\r\n        y1: cy0 * (radius / r - 1)\r\n    };\r\n}\r\nfunction normalizeCornerRadius(cr) {\r\n    var arr;\r\n    if (isArray(cr)) {\r\n        var len = cr.length;\r\n        if (!len) {\r\n            return cr;\r\n        }\r\n        if (len === 1) {\r\n            arr = [cr[0], cr[0], 0, 0];\r\n        }\r\n        else if (len === 2) {\r\n            arr = [cr[0], cr[0], cr[1], cr[1]];\r\n        }\r\n        else if (len === 3) {\r\n            arr = cr.concat(cr[2]);\r\n        }\r\n        else {\r\n            arr = cr;\r\n        }\r\n    }\r\n    else {\r\n        arr = [cr, cr, cr, cr];\r\n    }\r\n    return arr;\r\n}\r\nexport function buildPath(ctx, shape) {\r\n    var _a;\r\n    var radius = mathMax(shape.r, 0);\r\n    var innerRadius = mathMax(shape.r0 || 0, 0);\r\n    var hasRadius = radius > 0;\r\n    var hasInnerRadius = innerRadius > 0;\r\n    if (!hasRadius && !hasInnerRadius) {\r\n        return;\r\n    }\r\n    if (!hasRadius) {\r\n        radius = innerRadius;\r\n        innerRadius = 0;\r\n    }\r\n    if (innerRadius > radius) {\r\n        var tmp = radius;\r\n        radius = innerRadius;\r\n        innerRadius = tmp;\r\n    }\r\n    var startAngle = shape.startAngle, endAngle = shape.endAngle;\r\n    if (isNaN(startAngle) || isNaN(endAngle)) {\r\n        return;\r\n    }\r\n    var cx = shape.cx, cy = shape.cy;\r\n    var clockwise = !!shape.clockwise;\r\n    var arc = mathAbs(endAngle - startAngle);\r\n    var mod = arc > PI2 && arc % PI2;\r\n    mod > e && (arc = mod);\r\n    if (!(radius > e)) {\r\n        ctx.moveTo(cx, cy);\r\n    }\r\n    else if (arc > PI2 - e) {\r\n        ctx.moveTo(cx + radius * mathCos(startAngle), cy + radius * mathSin(startAngle));\r\n        ctx.arc(cx, cy, radius, startAngle, endAngle, !clockwise);\r\n        if (innerRadius > e) {\r\n            ctx.moveTo(cx + innerRadius * mathCos(endAngle), cy + innerRadius * mathSin(endAngle));\r\n            ctx.arc(cx, cy, innerRadius, endAngle, startAngle, clockwise);\r\n        }\r\n    }\r\n    else {\r\n        var icrStart = void 0;\r\n        var icrEnd = void 0;\r\n        var ocrStart = void 0;\r\n        var ocrEnd = void 0;\r\n        var ocrs = void 0;\r\n        var ocre = void 0;\r\n        var icrs = void 0;\r\n        var icre = void 0;\r\n        var ocrMax = void 0;\r\n        var icrMax = void 0;\r\n        var limitedOcrMax = void 0;\r\n        var limitedIcrMax = void 0;\r\n        var xre = void 0;\r\n        var yre = void 0;\r\n        var xirs = void 0;\r\n        var yirs = void 0;\r\n        var xrs = radius * mathCos(startAngle);\r\n        var yrs = radius * mathSin(startAngle);\r\n        var xire = innerRadius * mathCos(endAngle);\r\n        var yire = innerRadius * mathSin(endAngle);\r\n        var hasArc = arc > e;\r\n        if (hasArc) {\r\n            var cornerRadius = shape.cornerRadius;\r\n            if (cornerRadius) {\r\n                _a = normalizeCornerRadius(cornerRadius), icrStart = _a[0], icrEnd = _a[1], ocrStart = _a[2], ocrEnd = _a[3];\r\n            }\r\n            var halfRd = mathAbs(radius - innerRadius) / 2;\r\n            ocrs = mathMin(halfRd, ocrStart);\r\n            ocre = mathMin(halfRd, ocrEnd);\r\n            icrs = mathMin(halfRd, icrStart);\r\n            icre = mathMin(halfRd, icrEnd);\r\n            limitedOcrMax = ocrMax = mathMax(ocrs, ocre);\r\n            limitedIcrMax = icrMax = mathMax(icrs, icre);\r\n            if (ocrMax > e || icrMax > e) {\r\n                xre = radius * mathCos(endAngle);\r\n                yre = radius * mathSin(endAngle);\r\n                xirs = innerRadius * mathCos(startAngle);\r\n                yirs = innerRadius * mathSin(startAngle);\r\n                if (arc < PI) {\r\n                    var it_1 = intersect(xrs, yrs, xirs, yirs, xre, yre, xire, yire);\r\n                    if (it_1) {\r\n                        var x0 = xrs - it_1[0];\r\n                        var y0 = yrs - it_1[1];\r\n                        var x1 = xre - it_1[0];\r\n                        var y1 = yre - it_1[1];\r\n                        var a = 1 / mathSin(mathACos((x0 * x1 + y0 * y1) / (mathSqrt(x0 * x0 + y0 * y0) * mathSqrt(x1 * x1 + y1 * y1))) / 2);\r\n                        var b = mathSqrt(it_1[0] * it_1[0] + it_1[1] * it_1[1]);\r\n                        limitedOcrMax = mathMin(ocrMax, (radius - b) / (a + 1));\r\n                        limitedIcrMax = mathMin(icrMax, (innerRadius - b) / (a - 1));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (!hasArc) {\r\n            ctx.moveTo(cx + xrs, cy + yrs);\r\n        }\r\n        else if (limitedOcrMax > e) {\r\n            var crStart = mathMin(ocrStart, limitedOcrMax);\r\n            var crEnd = mathMin(ocrEnd, limitedOcrMax);\r\n            var ct0 = computeCornerTangents(xirs, yirs, xrs, yrs, radius, crStart, clockwise);\r\n            var ct1 = computeCornerTangents(xre, yre, xire, yire, radius, crEnd, clockwise);\r\n            ctx.moveTo(cx + ct0.cx + ct0.x0, cy + ct0.cy + ct0.y0);\r\n            if (limitedOcrMax < ocrMax && crStart === crEnd) {\r\n                ctx.arc(cx + ct0.cx, cy + ct0.cy, limitedOcrMax, mathATan2(ct0.y0, ct0.x0), mathATan2(ct1.y0, ct1.x0), !clockwise);\r\n            }\r\n            else {\r\n                crStart > 0 && ctx.arc(cx + ct0.cx, cy + ct0.cy, crStart, mathATan2(ct0.y0, ct0.x0), mathATan2(ct0.y1, ct0.x1), !clockwise);\r\n                ctx.arc(cx, cy, radius, mathATan2(ct0.cy + ct0.y1, ct0.cx + ct0.x1), mathATan2(ct1.cy + ct1.y1, ct1.cx + ct1.x1), !clockwise);\r\n                crEnd > 0 && ctx.arc(cx + ct1.cx, cy + ct1.cy, crEnd, mathATan2(ct1.y1, ct1.x1), mathATan2(ct1.y0, ct1.x0), !clockwise);\r\n            }\r\n        }\r\n        else {\r\n            ctx.moveTo(cx + xrs, cy + yrs);\r\n            ctx.arc(cx, cy, radius, startAngle, endAngle, !clockwise);\r\n        }\r\n        if (!(innerRadius > e) || !hasArc) {\r\n            ctx.lineTo(cx + xire, cy + yire);\r\n        }\r\n        else if (limitedIcrMax > e) {\r\n            var crStart = mathMin(icrStart, limitedIcrMax);\r\n            var crEnd = mathMin(icrEnd, limitedIcrMax);\r\n            var ct0 = computeCornerTangents(xire, yire, xre, yre, innerRadius, -crEnd, clockwise);\r\n            var ct1 = computeCornerTangents(xrs, yrs, xirs, yirs, innerRadius, -crStart, clockwise);\r\n            ctx.lineTo(cx + ct0.cx + ct0.x0, cy + ct0.cy + ct0.y0);\r\n            if (limitedIcrMax < icrMax && crStart === crEnd) {\r\n                ctx.arc(cx + ct0.cx, cy + ct0.cy, limitedIcrMax, mathATan2(ct0.y0, ct0.x0), mathATan2(ct1.y0, ct1.x0), !clockwise);\r\n            }\r\n            else {\r\n                crEnd > 0 && ctx.arc(cx + ct0.cx, cy + ct0.cy, crEnd, mathATan2(ct0.y0, ct0.x0), mathATan2(ct0.y1, ct0.x1), !clockwise);\r\n                ctx.arc(cx, cy, innerRadius, mathATan2(ct0.cy + ct0.y1, ct0.cx + ct0.x1), mathATan2(ct1.cy + ct1.y1, ct1.cx + ct1.x1), clockwise);\r\n                crStart > 0 && ctx.arc(cx + ct1.cx, cy + ct1.cy, crStart, mathATan2(ct1.y1, ct1.x1), mathATan2(ct1.y0, ct1.x0), !clockwise);\r\n            }\r\n        }\r\n        else {\r\n            ctx.lineTo(cx + xire, cy + yire);\r\n            ctx.arc(cx, cy, innerRadius, endAngle, startAngle, clockwise);\r\n        }\r\n    }\r\n    ctx.closePath();\r\n}\r\n", "import { __extends } from \"tslib\";\r\nimport Path from '../Path.js';\r\nimport * as roundSectorHelper from '../helper/roundSector.js';\r\nvar SectorShape = (function () {\r\n    function SectorShape() {\r\n        this.cx = 0;\r\n        this.cy = 0;\r\n        this.r0 = 0;\r\n        this.r = 0;\r\n        this.startAngle = 0;\r\n        this.endAngle = Math.PI * 2;\r\n        this.clockwise = true;\r\n        this.cornerRadius = 0;\r\n    }\r\n    return SectorShape;\r\n}());\r\nexport { SectorShape };\r\nvar Sector = (function (_super) {\r\n    __extends(Sector, _super);\r\n    function Sector(opts) {\r\n        return _super.call(this, opts) || this;\r\n    }\r\n    Sector.prototype.getDefaultShape = function () {\r\n        return new SectorShape();\r\n    };\r\n    Sector.prototype.buildPath = function (ctx, shape) {\r\n        roundSectorHelper.buildPath(ctx, shape);\r\n    };\r\n    Sector.prototype.isZeroArea = function () {\r\n        return this.shape.startAngle === this.shape.endAngle\r\n            || this.shape.r === this.shape.r0;\r\n    };\r\n    return Sector;\r\n}(Path));\r\nSector.prototype.type = 'sector';\r\nexport default Sector;\r\n", "import { __extends } from \"tslib\";\r\nimport Path from '../Path.js';\r\nvar RingShape = (function () {\r\n    function RingShape() {\r\n        this.cx = 0;\r\n        this.cy = 0;\r\n        this.r = 0;\r\n        this.r0 = 0;\r\n    }\r\n    return RingShape;\r\n}());\r\nexport { RingShape };\r\nvar Ring = (function (_super) {\r\n    __extends(Ring, _super);\r\n    function Ring(opts) {\r\n        return _super.call(this, opts) || this;\r\n    }\r\n    Ring.prototype.getDefaultShape = function () {\r\n        return new RingShape();\r\n    };\r\n    Ring.prototype.buildPath = function (ctx, shape) {\r\n        var x = shape.cx;\r\n        var y = shape.cy;\r\n        var PI2 = Math.PI * 2;\r\n        ctx.moveTo(x + shape.r, y);\r\n        ctx.arc(x, y, shape.r, 0, PI2, false);\r\n        ctx.moveTo(x + shape.r0, y);\r\n        ctx.arc(x, y, shape.r0, 0, PI2, true);\r\n    };\r\n    return Ring;\r\n}(Path));\r\nRing.prototype.type = 'ring';\r\nexport default Ring;\r\n", "import { min as v2Min, max as v2Max, scale as v2Scale, distance as v2Distance, add as v2Add, clone as v2Clone, sub as v2Sub } from '../../core/vector.js';\r\nexport default function smoothBezier(points, smooth, isLoop, constraint) {\r\n    var cps = [];\r\n    var v = [];\r\n    var v1 = [];\r\n    var v2 = [];\r\n    var prevPoint;\r\n    var nextPoint;\r\n    var min;\r\n    var max;\r\n    if (constraint) {\r\n        min = [Infinity, Infinity];\r\n        max = [-Infinity, -Infinity];\r\n        for (var i = 0, len = points.length; i < len; i++) {\r\n            v2Min(min, min, points[i]);\r\n            v2Max(max, max, points[i]);\r\n        }\r\n        v2Min(min, min, constraint[0]);\r\n        v2Max(max, max, constraint[1]);\r\n    }\r\n    for (var i = 0, len = points.length; i < len; i++) {\r\n        var point = points[i];\r\n        if (isLoop) {\r\n            prevPoint = points[i ? i - 1 : len - 1];\r\n            nextPoint = points[(i + 1) % len];\r\n        }\r\n        else {\r\n            if (i === 0 || i === len - 1) {\r\n                cps.push(v2Clone(points[i]));\r\n                continue;\r\n            }\r\n            else {\r\n                prevPoint = points[i - 1];\r\n                nextPoint = points[i + 1];\r\n            }\r\n        }\r\n        v2Sub(v, nextPoint, prevPoint);\r\n        v2Scale(v, v, smooth);\r\n        var d0 = v2Distance(point, prevPoint);\r\n        var d1 = v2Distance(point, nextPoint);\r\n        var sum = d0 + d1;\r\n        if (sum !== 0) {\r\n            d0 /= sum;\r\n            d1 /= sum;\r\n        }\r\n        v2Scale(v1, v, -d0);\r\n        v2Scale(v2, v, d1);\r\n        var cp0 = v2Add([], point, v1);\r\n        var cp1 = v2Add([], point, v2);\r\n        if (constraint) {\r\n            v2Max(cp0, cp0, min);\r\n            v2Min(cp0, cp0, max);\r\n            v2Max(cp1, cp1, min);\r\n            v2Min(cp1, cp1, max);\r\n        }\r\n        cps.push(cp0);\r\n        cps.push(cp1);\r\n    }\r\n    if (isLoop) {\r\n        cps.push(cps.shift());\r\n    }\r\n    return cps;\r\n}\r\n", "import smoothBezier from './smoothBezier.js';\r\nexport function buildPath(ctx, shape, closePath) {\r\n    var smooth = shape.smooth;\r\n    var points = shape.points;\r\n    if (points && points.length >= 2) {\r\n        if (smooth) {\r\n            var controlPoints = smoothBezier(points, smooth, closePath, shape.smoothConstraint);\r\n            ctx.moveTo(points[0][0], points[0][1]);\r\n            var len = points.length;\r\n            for (var i = 0; i < (closePath ? len : len - 1); i++) {\r\n                var cp1 = controlPoints[i * 2];\r\n                var cp2 = controlPoints[i * 2 + 1];\r\n                var p = points[(i + 1) % len];\r\n                ctx.bezierCurveTo(cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]);\r\n            }\r\n        }\r\n        else {\r\n            ctx.moveTo(points[0][0], points[0][1]);\r\n            for (var i = 1, l = points.length; i < l; i++) {\r\n                ctx.lineTo(points[i][0], points[i][1]);\r\n            }\r\n        }\r\n        closePath && ctx.closePath();\r\n    }\r\n}\r\n", "import { __extends } from \"tslib\";\r\nimport Path from '../Path.js';\r\nimport * as polyHelper from '../helper/poly.js';\r\nvar PolygonShape = (function () {\r\n    function PolygonShape() {\r\n        this.points = null;\r\n        this.smooth = 0;\r\n        this.smoothConstraint = null;\r\n    }\r\n    return PolygonShape;\r\n}());\r\nexport { PolygonShape };\r\nvar Polygon = (function (_super) {\r\n    __extends(Polygon, _super);\r\n    function Polygon(opts) {\r\n        return _super.call(this, opts) || this;\r\n    }\r\n    Polygon.prototype.getDefaultShape = function () {\r\n        return new PolygonShape();\r\n    };\r\n    Polygon.prototype.buildPath = function (ctx, shape) {\r\n        polyHelper.buildPath(ctx, shape, true);\r\n    };\r\n    return Polygon;\r\n}(Path));\r\n;\r\nPolygon.prototype.type = 'polygon';\r\nexport default Polygon;\r\n", "import { __extends } from \"tslib\";\r\nimport Path from '../Path.js';\r\nimport * as polyHelper from '../helper/poly.js';\r\nvar PolylineShape = (function () {\r\n    function PolylineShape() {\r\n        this.points = null;\r\n        this.percent = 1;\r\n        this.smooth = 0;\r\n        this.smoothConstraint = null;\r\n    }\r\n    return PolylineShape;\r\n}());\r\nexport { PolylineShape };\r\nvar Polyline = (function (_super) {\r\n    __extends(Polyline, _super);\r\n    function Polyline(opts) {\r\n        return _super.call(this, opts) || this;\r\n    }\r\n    Polyline.prototype.getDefaultStyle = function () {\r\n        return {\r\n            stroke: '#000',\r\n            fill: null\r\n        };\r\n    };\r\n    Polyline.prototype.getDefaultShape = function () {\r\n        return new PolylineShape();\r\n    };\r\n    Polyline.prototype.buildPath = function (ctx, shape) {\r\n        polyHelper.buildPath(ctx, shape, false);\r\n    };\r\n    return Polyline;\r\n}(Path));\r\nPolyline.prototype.type = 'polyline';\r\nexport default Polyline;\r\n", "import { __extends } from \"tslib\";\r\nimport Path from '../Path.js';\r\nimport { subPixelOptimizeLine } from '../helper/subPixelOptimize.js';\r\nvar subPixelOptimizeOutputShape = {};\r\nvar LineShape = (function () {\r\n    function LineShape() {\r\n        this.x1 = 0;\r\n        this.y1 = 0;\r\n        this.x2 = 0;\r\n        this.y2 = 0;\r\n        this.percent = 1;\r\n    }\r\n    return LineShape;\r\n}());\r\nexport { LineShape };\r\nvar Line = (function (_super) {\r\n    __extends(Line, _super);\r\n    function Line(opts) {\r\n        return _super.call(this, opts) || this;\r\n    }\r\n    Line.prototype.getDefaultStyle = function () {\r\n        return {\r\n            stroke: '#000',\r\n            fill: null\r\n        };\r\n    };\r\n    Line.prototype.getDefaultShape = function () {\r\n        return new LineShape();\r\n    };\r\n    Line.prototype.buildPath = function (ctx, shape) {\r\n        var x1;\r\n        var y1;\r\n        var x2;\r\n        var y2;\r\n        if (this.subPixelOptimize) {\r\n            var optimizedShape = subPixelOptimizeLine(subPixelOptimizeOutputShape, shape, this.style);\r\n            x1 = optimizedShape.x1;\r\n            y1 = optimizedShape.y1;\r\n            x2 = optimizedShape.x2;\r\n            y2 = optimizedShape.y2;\r\n        }\r\n        else {\r\n            x1 = shape.x1;\r\n            y1 = shape.y1;\r\n            x2 = shape.x2;\r\n            y2 = shape.y2;\r\n        }\r\n        var percent = shape.percent;\r\n        if (percent === 0) {\r\n            return;\r\n        }\r\n        ctx.moveTo(x1, y1);\r\n        if (percent < 1) {\r\n            x2 = x1 * (1 - percent) + x2 * percent;\r\n            y2 = y1 * (1 - percent) + y2 * percent;\r\n        }\r\n        ctx.lineTo(x2, y2);\r\n    };\r\n    Line.prototype.pointAt = function (p) {\r\n        var shape = this.shape;\r\n        return [\r\n            shape.x1 * (1 - p) + shape.x2 * p,\r\n            shape.y1 * (1 - p) + shape.y2 * p\r\n        ];\r\n    };\r\n    return Line;\r\n}(Path));\r\nLine.prototype.type = 'line';\r\nexport default Line;\r\n", "import { __extends } from \"tslib\";\r\nimport Path from '../Path.js';\r\nimport * as vec2 from '../../core/vector.js';\r\nimport { quadraticSubdivide, cubicSubdivide, quadraticAt, cubicAt, quadraticDerivativeAt, cubicDerivativeAt } from '../../core/curve.js';\r\nvar out = [];\r\nvar BezierCurveShape = (function () {\r\n    function BezierCurveShape() {\r\n        this.x1 = 0;\r\n        this.y1 = 0;\r\n        this.x2 = 0;\r\n        this.y2 = 0;\r\n        this.cpx1 = 0;\r\n        this.cpy1 = 0;\r\n        this.percent = 1;\r\n    }\r\n    return BezierCurveShape;\r\n}());\r\nexport { BezierCurveShape };\r\nfunction someVectorAt(shape, t, isTangent) {\r\n    var cpx2 = shape.cpx2;\r\n    var cpy2 = shape.cpy2;\r\n    if (cpx2 != null || cpy2 != null) {\r\n        return [\r\n            (isTangent ? cubicDerivativeAt : cubicAt)(shape.x1, shape.cpx1, shape.cpx2, shape.x2, t),\r\n            (isTangent ? cubicDerivativeAt : cubicAt)(shape.y1, shape.cpy1, shape.cpy2, shape.y2, t)\r\n        ];\r\n    }\r\n    else {\r\n        return [\r\n            (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.x1, shape.cpx1, shape.x2, t),\r\n            (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.y1, shape.cpy1, shape.y2, t)\r\n        ];\r\n    }\r\n}\r\nvar BezierCurve = (function (_super) {\r\n    __extends(BezierCurve, _super);\r\n    function BezierCurve(opts) {\r\n        return _super.call(this, opts) || this;\r\n    }\r\n    BezierCurve.prototype.getDefaultStyle = function () {\r\n        return {\r\n            stroke: '#000',\r\n            fill: null\r\n        };\r\n    };\r\n    BezierCurve.prototype.getDefaultShape = function () {\r\n        return new BezierCurveShape();\r\n    };\r\n    BezierCurve.prototype.buildPath = function (ctx, shape) {\r\n        var x1 = shape.x1;\r\n        var y1 = shape.y1;\r\n        var x2 = shape.x2;\r\n        var y2 = shape.y2;\r\n        var cpx1 = shape.cpx1;\r\n        var cpy1 = shape.cpy1;\r\n        var cpx2 = shape.cpx2;\r\n        var cpy2 = shape.cpy2;\r\n        var percent = shape.percent;\r\n        if (percent === 0) {\r\n            return;\r\n        }\r\n        ctx.moveTo(x1, y1);\r\n        if (cpx2 == null || cpy2 == null) {\r\n            if (percent < 1) {\r\n                quadraticSubdivide(x1, cpx1, x2, percent, out);\r\n                cpx1 = out[1];\r\n                x2 = out[2];\r\n                quadraticSubdivide(y1, cpy1, y2, percent, out);\r\n                cpy1 = out[1];\r\n                y2 = out[2];\r\n            }\r\n            ctx.quadraticCurveTo(cpx1, cpy1, x2, y2);\r\n        }\r\n        else {\r\n            if (percent < 1) {\r\n                cubicSubdivide(x1, cpx1, cpx2, x2, percent, out);\r\n                cpx1 = out[1];\r\n                cpx2 = out[2];\r\n                x2 = out[3];\r\n                cubicSubdivide(y1, cpy1, cpy2, y2, percent, out);\r\n                cpy1 = out[1];\r\n                cpy2 = out[2];\r\n                y2 = out[3];\r\n            }\r\n            ctx.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, x2, y2);\r\n        }\r\n    };\r\n    BezierCurve.prototype.pointAt = function (t) {\r\n        return someVectorAt(this.shape, t, false);\r\n    };\r\n    BezierCurve.prototype.tangentAt = function (t) {\r\n        var p = someVectorAt(this.shape, t, true);\r\n        return vec2.normalize(p, p);\r\n    };\r\n    return BezierCurve;\r\n}(Path));\r\n;\r\nBezierCurve.prototype.type = 'bezier-curve';\r\nexport default BezierCurve;\r\n", "import { __extends } from \"tslib\";\r\nimport Path from '../Path.js';\r\nvar ArcShape = (function () {\r\n    function ArcShape() {\r\n        this.cx = 0;\r\n        this.cy = 0;\r\n        this.r = 0;\r\n        this.startAngle = 0;\r\n        this.endAngle = Math.PI * 2;\r\n        this.clockwise = true;\r\n    }\r\n    return ArcShape;\r\n}());\r\nexport { ArcShape };\r\nvar Arc = (function (_super) {\r\n    __extends(Arc, _super);\r\n    function Arc(opts) {\r\n        return _super.call(this, opts) || this;\r\n    }\r\n    Arc.prototype.getDefaultStyle = function () {\r\n        return {\r\n            stroke: '#000',\r\n            fill: null\r\n        };\r\n    };\r\n    Arc.prototype.getDefaultShape = function () {\r\n        return new ArcShape();\r\n    };\r\n    Arc.prototype.buildPath = function (ctx, shape) {\r\n        var x = shape.cx;\r\n        var y = shape.cy;\r\n        var r = Math.max(shape.r, 0);\r\n        var startAngle = shape.startAngle;\r\n        var endAngle = shape.endAngle;\r\n        var clockwise = shape.clockwise;\r\n        var unitX = Math.cos(startAngle);\r\n        var unitY = Math.sin(startAngle);\r\n        ctx.moveTo(unitX * r + x, unitY * r + y);\r\n        ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\r\n    };\r\n    return Arc;\r\n}(Path));\r\nArc.prototype.type = 'arc';\r\nexport default Arc;\r\n", "var Gradient = (function () {\r\n    function Gradient(colorStops) {\r\n        this.colorStops = colorStops || [];\r\n    }\r\n    Gradient.prototype.addColorStop = function (offset, color) {\r\n        this.colorStops.push({\r\n            offset: offset,\r\n            color: color\r\n        });\r\n    };\r\n    return Gradient;\r\n}());\r\nexport default Gradient;\r\n", "import { __extends } from \"tslib\";\r\nimport Gradient from './Gradient.js';\r\nvar LinearGradient = (function (_super) {\r\n    __extends(LinearGradient, _super);\r\n    function LinearGradient(x, y, x2, y2, colorStops, globalCoord) {\r\n        var _this = _super.call(this, colorStops) || this;\r\n        _this.x = x == null ? 0 : x;\r\n        _this.y = y == null ? 0 : y;\r\n        _this.x2 = x2 == null ? 1 : x2;\r\n        _this.y2 = y2 == null ? 0 : y2;\r\n        _this.type = 'linear';\r\n        _this.global = globalCoord || false;\r\n        return _this;\r\n    }\r\n    return LinearGradient;\r\n}(Gradient));\r\nexport default LinearGradient;\r\n;\r\n", "import { __extends } from \"tslib\";\r\nimport Gradient from './Gradient.js';\r\nvar RadialGradient = (function (_super) {\r\n    __extends(RadialGradient, _super);\r\n    function RadialGradient(x, y, r, colorStops, globalCoord) {\r\n        var _this = _super.call(this, colorStops) || this;\r\n        _this.x = x == null ? 0.5 : x;\r\n        _this.y = y == null ? 0.5 : y;\r\n        _this.r = r == null ? 0.5 : r;\r\n        _this.type = 'radial';\r\n        _this.global = globalCoord || false;\r\n        return _this;\r\n    }\r\n    return RadialGradient;\r\n}(Gradient));\r\nexport default RadialGradient;\r\n", "import Point from './Point.js';\r\nvar extent = [0, 0];\r\nvar extent2 = [0, 0];\r\nvar minTv = new Point();\r\nvar maxTv = new Point();\r\nvar OrientedBoundingRect = (function () {\r\n    function OrientedBoundingRect(rect, transform) {\r\n        this._corners = [];\r\n        this._axes = [];\r\n        this._origin = [0, 0];\r\n        for (var i = 0; i < 4; i++) {\r\n            this._corners[i] = new Point();\r\n        }\r\n        for (var i = 0; i < 2; i++) {\r\n            this._axes[i] = new Point();\r\n        }\r\n        if (rect) {\r\n            this.fromBoundingRect(rect, transform);\r\n        }\r\n    }\r\n    OrientedBoundingRect.prototype.fromBoundingRect = function (rect, transform) {\r\n        var corners = this._corners;\r\n        var axes = this._axes;\r\n        var x = rect.x;\r\n        var y = rect.y;\r\n        var x2 = x + rect.width;\r\n        var y2 = y + rect.height;\r\n        corners[0].set(x, y);\r\n        corners[1].set(x2, y);\r\n        corners[2].set(x2, y2);\r\n        corners[3].set(x, y2);\r\n        if (transform) {\r\n            for (var i = 0; i < 4; i++) {\r\n                corners[i].transform(transform);\r\n            }\r\n        }\r\n        Point.sub(axes[0], corners[1], corners[0]);\r\n        Point.sub(axes[1], corners[3], corners[0]);\r\n        axes[0].normalize();\r\n        axes[1].normalize();\r\n        for (var i = 0; i < 2; i++) {\r\n            this._origin[i] = axes[i].dot(corners[0]);\r\n        }\r\n    };\r\n    OrientedBoundingRect.prototype.intersect = function (other, mtv) {\r\n        var overlapped = true;\r\n        var noMtv = !mtv;\r\n        minTv.set(Infinity, Infinity);\r\n        maxTv.set(0, 0);\r\n        if (!this._intersectCheckOneSide(this, other, minTv, maxTv, noMtv, 1)) {\r\n            overlapped = false;\r\n            if (noMtv) {\r\n                return overlapped;\r\n            }\r\n        }\r\n        if (!this._intersectCheckOneSide(other, this, minTv, maxTv, noMtv, -1)) {\r\n            overlapped = false;\r\n            if (noMtv) {\r\n                return overlapped;\r\n            }\r\n        }\r\n        if (!noMtv) {\r\n            Point.copy(mtv, overlapped ? minTv : maxTv);\r\n        }\r\n        return overlapped;\r\n    };\r\n    OrientedBoundingRect.prototype._intersectCheckOneSide = function (self, other, minTv, maxTv, noMtv, inverse) {\r\n        var overlapped = true;\r\n        for (var i = 0; i < 2; i++) {\r\n            var axis = this._axes[i];\r\n            this._getProjMinMaxOnAxis(i, self._corners, extent);\r\n            this._getProjMinMaxOnAxis(i, other._corners, extent2);\r\n            if (extent[1] < extent2[0] || extent[0] > extent2[1]) {\r\n                overlapped = false;\r\n                if (noMtv) {\r\n                    return overlapped;\r\n                }\r\n                var dist0 = Math.abs(extent2[0] - extent[1]);\r\n                var dist1 = Math.abs(extent[0] - extent2[1]);\r\n                if (Math.min(dist0, dist1) > maxTv.len()) {\r\n                    if (dist0 < dist1) {\r\n                        Point.scale(maxTv, axis, -dist0 * inverse);\r\n                    }\r\n                    else {\r\n                        Point.scale(maxTv, axis, dist1 * inverse);\r\n                    }\r\n                }\r\n            }\r\n            else if (minTv) {\r\n                var dist0 = Math.abs(extent2[0] - extent[1]);\r\n                var dist1 = Math.abs(extent[0] - extent2[1]);\r\n                if (Math.min(dist0, dist1) < minTv.len()) {\r\n                    if (dist0 < dist1) {\r\n                        Point.scale(minTv, axis, dist0 * inverse);\r\n                    }\r\n                    else {\r\n                        Point.scale(minTv, axis, -dist1 * inverse);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return overlapped;\r\n    };\r\n    OrientedBoundingRect.prototype._getProjMinMaxOnAxis = function (dim, corners, out) {\r\n        var axis = this._axes[dim];\r\n        var origin = this._origin;\r\n        var proj = corners[0].dot(axis) + origin[dim];\r\n        var min = proj;\r\n        var max = proj;\r\n        for (var i = 1; i < corners.length; i++) {\r\n            var proj_1 = corners[i].dot(axis) + origin[dim];\r\n            min = Math.min(proj_1, min);\r\n            max = Math.max(proj_1, max);\r\n        }\r\n        out[0] = min;\r\n        out[1] = max;\r\n    };\r\n    return OrientedBoundingRect;\r\n}());\r\nexport default OrientedBoundingRect;\r\n", "import { __extends } from \"tslib\";\r\nimport Displayble from './Displayable.js';\r\nimport BoundingRect from '../core/BoundingRect.js';\r\nvar m = [];\r\nvar IncrementalDisplayable = (function (_super) {\r\n    __extends(IncrementalDisplayable, _super);\r\n    function IncrementalDisplayable() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.notClear = true;\r\n        _this.incremental = true;\r\n        _this._displayables = [];\r\n        _this._temporaryDisplayables = [];\r\n        _this._cursor = 0;\r\n        return _this;\r\n    }\r\n    IncrementalDisplayable.prototype.traverse = function (cb, context) {\r\n        cb.call(context, this);\r\n    };\r\n    IncrementalDisplayable.prototype.useStyle = function () {\r\n        this.style = {};\r\n    };\r\n    IncrementalDisplayable.prototype.getCursor = function () {\r\n        return this._cursor;\r\n    };\r\n    IncrementalDisplayable.prototype.innerAfterBrush = function () {\r\n        this._cursor = this._displayables.length;\r\n    };\r\n    IncrementalDisplayable.prototype.clearDisplaybles = function () {\r\n        this._displayables = [];\r\n        this._temporaryDisplayables = [];\r\n        this._cursor = 0;\r\n        this.markRedraw();\r\n        this.notClear = false;\r\n    };\r\n    IncrementalDisplayable.prototype.clearTemporalDisplayables = function () {\r\n        this._temporaryDisplayables = [];\r\n    };\r\n    IncrementalDisplayable.prototype.addDisplayable = function (displayable, notPersistent) {\r\n        if (notPersistent) {\r\n            this._temporaryDisplayables.push(displayable);\r\n        }\r\n        else {\r\n            this._displayables.push(displayable);\r\n        }\r\n        this.markRedraw();\r\n    };\r\n    IncrementalDisplayable.prototype.addDisplayables = function (displayables, notPersistent) {\r\n        notPersistent = notPersistent || false;\r\n        for (var i = 0; i < displayables.length; i++) {\r\n            this.addDisplayable(displayables[i], notPersistent);\r\n        }\r\n    };\r\n    IncrementalDisplayable.prototype.getDisplayables = function () {\r\n        return this._displayables;\r\n    };\r\n    IncrementalDisplayable.prototype.getTemporalDisplayables = function () {\r\n        return this._temporaryDisplayables;\r\n    };\r\n    IncrementalDisplayable.prototype.eachPendingDisplayable = function (cb) {\r\n        for (var i = this._cursor; i < this._displayables.length; i++) {\r\n            cb && cb(this._displayables[i]);\r\n        }\r\n        for (var i = 0; i < this._temporaryDisplayables.length; i++) {\r\n            cb && cb(this._temporaryDisplayables[i]);\r\n        }\r\n    };\r\n    IncrementalDisplayable.prototype.update = function () {\r\n        this.updateTransform();\r\n        for (var i = this._cursor; i < this._displayables.length; i++) {\r\n            var displayable = this._displayables[i];\r\n            displayable.parent = this;\r\n            displayable.update();\r\n            displayable.parent = null;\r\n        }\r\n        for (var i = 0; i < this._temporaryDisplayables.length; i++) {\r\n            var displayable = this._temporaryDisplayables[i];\r\n            displayable.parent = this;\r\n            displayable.update();\r\n            displayable.parent = null;\r\n        }\r\n    };\r\n    IncrementalDisplayable.prototype.getBoundingRect = function () {\r\n        if (!this._rect) {\r\n            var rect = new BoundingRect(Infinity, Infinity, -Infinity, -Infinity);\r\n            for (var i = 0; i < this._displayables.length; i++) {\r\n                var displayable = this._displayables[i];\r\n                var childRect = displayable.getBoundingRect().clone();\r\n                if (displayable.needLocalTransform()) {\r\n                    childRect.applyTransform(displayable.getLocalTransform(m));\r\n                }\r\n                rect.union(childRect);\r\n            }\r\n            this._rect = rect;\r\n        }\r\n        return this._rect;\r\n    };\r\n    IncrementalDisplayable.prototype.contain = function (x, y) {\r\n        var localPos = this.transformCoordToLocal(x, y);\r\n        var rect = this.getBoundingRect();\r\n        if (rect.contain(localPos[0], localPos[1])) {\r\n            for (var i = 0; i < this._displayables.length; i++) {\r\n                var displayable = this._displayables[i];\r\n                if (displayable.contain(x, y)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return IncrementalDisplayable;\r\n}(Displayble));\r\nexport default IncrementalDisplayable;\r\n", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { isFunction, isObject, retrieve2 } from 'zrender/lib/core/util.js';\r\nimport { makeInner } from '../util/model.js'; // Stored properties for further transition.\r\n\r\nexport var transitionStore = makeInner();\r\n/**\r\n * Return null if animation is disabled.\r\n */\r\n\r\nexport function getAnimationConfig(animationType, animatableModel, dataIndex, // Extra opts can override the option in animatable model.\r\nextraOpts, // TODO It's only for pictorial bar now.\r\nextraDelayParams) {\r\n  var animationPayload; // Check if there is global animation configuration from dataZoom/resize can override the config in option.\r\n  // If animation is enabled. Will use this animation config in payload.\r\n  // If animation is disabled. Just ignore it.\r\n\r\n  if (animatableModel && animatableModel.ecModel) {\r\n    var updatePayload = animatableModel.ecModel.getUpdatePayload();\r\n    animationPayload = updatePayload && updatePayload.animation;\r\n  }\r\n\r\n  var animationEnabled = animatableModel && animatableModel.isAnimationEnabled();\r\n  var isUpdate = animationType === 'update';\r\n\r\n  if (animationEnabled) {\r\n    var duration = void 0;\r\n    var easing = void 0;\r\n    var delay = void 0;\r\n\r\n    if (extraOpts) {\r\n      duration = retrieve2(extraOpts.duration, 200);\r\n      easing = retrieve2(extraOpts.easing, 'cubicOut');\r\n      delay = 0;\r\n    } else {\r\n      duration = animatableModel.getShallow(isUpdate ? 'animationDurationUpdate' : 'animationDuration');\r\n      easing = animatableModel.getShallow(isUpdate ? 'animationEasingUpdate' : 'animationEasing');\r\n      delay = animatableModel.getShallow(isUpdate ? 'animationDelayUpdate' : 'animationDelay');\r\n    } // animation from payload has highest priority.\r\n\r\n\r\n    if (animationPayload) {\r\n      animationPayload.duration != null && (duration = animationPayload.duration);\r\n      animationPayload.easing != null && (easing = animationPayload.easing);\r\n      animationPayload.delay != null && (delay = animationPayload.delay);\r\n    }\r\n\r\n    if (isFunction(delay)) {\r\n      delay = delay(dataIndex, extraDelayParams);\r\n    }\r\n\r\n    if (isFunction(duration)) {\r\n      duration = duration(dataIndex);\r\n    }\r\n\r\n    var config = {\r\n      duration: duration || 0,\r\n      delay: delay,\r\n      easing: easing\r\n    };\r\n    return config;\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n\r\nfunction animateOrSetProps(animationType, el, props, animatableModel, dataIndex, cb, during) {\r\n  var isFrom = false;\r\n  var removeOpt;\r\n\r\n  if (isFunction(dataIndex)) {\r\n    during = cb;\r\n    cb = dataIndex;\r\n    dataIndex = null;\r\n  } else if (isObject(dataIndex)) {\r\n    cb = dataIndex.cb;\r\n    during = dataIndex.during;\r\n    isFrom = dataIndex.isFrom;\r\n    removeOpt = dataIndex.removeOpt;\r\n    dataIndex = dataIndex.dataIndex;\r\n  }\r\n\r\n  var isRemove = animationType === 'leave';\r\n\r\n  if (!isRemove) {\r\n    // Must stop the remove animation.\r\n    el.stopAnimation('leave');\r\n  }\r\n\r\n  var animationConfig = getAnimationConfig(animationType, animatableModel, dataIndex, isRemove ? removeOpt || {} : null, animatableModel && animatableModel.getAnimationDelayParams ? animatableModel.getAnimationDelayParams(el, dataIndex) : null);\r\n\r\n  if (animationConfig && animationConfig.duration > 0) {\r\n    var duration = animationConfig.duration;\r\n    var animationDelay = animationConfig.delay;\r\n    var animationEasing = animationConfig.easing;\r\n    var animateConfig = {\r\n      duration: duration,\r\n      delay: animationDelay || 0,\r\n      easing: animationEasing,\r\n      done: cb,\r\n      force: !!cb || !!during,\r\n      // Set to final state in update/init animation.\r\n      // So the post processing based on the path shape can be done correctly.\r\n      setToFinal: !isRemove,\r\n      scope: animationType,\r\n      during: during\r\n    };\r\n    isFrom ? el.animateFrom(props, animateConfig) : el.animateTo(props, animateConfig);\r\n  } else {\r\n    el.stopAnimation(); // If `isFrom`, the props is the \"from\" props.\r\n\r\n    !isFrom && el.attr(props); // Call during at least once.\r\n\r\n    during && during(1);\r\n    cb && cb();\r\n  }\r\n}\r\n/**\r\n * Update graphic element properties with or without animation according to the\r\n * configuration in series.\r\n *\r\n * Caution: this method will stop previous animation.\r\n * So do not use this method to one element twice before\r\n * animation starts, unless you know what you are doing.\r\n * @example\r\n *     graphic.updateProps(el, {\r\n *         position: [100, 100]\r\n *     }, seriesModel, dataIndex, function () { console.log('Animation done!'); });\r\n *     // Or\r\n *     graphic.updateProps(el, {\r\n *         position: [100, 100]\r\n *     }, seriesModel, function () { console.log('Animation done!'); });\r\n */\r\n\r\n\r\nfunction updateProps(el, props, // TODO: TYPE AnimatableModel\r\nanimatableModel, dataIndex, cb, during) {\r\n  animateOrSetProps('update', el, props, animatableModel, dataIndex, cb, during);\r\n}\r\n\r\nexport { updateProps };\r\n/**\r\n * Init graphic element properties with or without animation according to the\r\n * configuration in series.\r\n *\r\n * Caution: this method will stop previous animation.\r\n * So do not use this method to one element twice before\r\n * animation starts, unless you know what you are doing.\r\n */\r\n\r\nexport function initProps(el, props, animatableModel, dataIndex, cb, during) {\r\n  animateOrSetProps('enter', el, props, animatableModel, dataIndex, cb, during);\r\n}\r\n/**\r\n * If element is removed.\r\n * It can determine if element is having remove animation.\r\n */\r\n\r\nexport function isElementRemoved(el) {\r\n  if (!el.__zr) {\r\n    return true;\r\n  }\r\n\r\n  for (var i = 0; i < el.animators.length; i++) {\r\n    var animator = el.animators[i];\r\n\r\n    if (animator.scope === 'leave') {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n/**\r\n * Remove graphic element\r\n */\r\n\r\nexport function removeElement(el, props, animatableModel, dataIndex, cb, during) {\r\n  // Don't do remove animation twice.\r\n  if (isElementRemoved(el)) {\r\n    return;\r\n  }\r\n\r\n  animateOrSetProps('leave', el, props, animatableModel, dataIndex, cb, during);\r\n}\r\n\r\nfunction fadeOutDisplayable(el, animatableModel, dataIndex, done) {\r\n  el.removeTextContent();\r\n  el.removeTextGuideLine();\r\n  removeElement(el, {\r\n    style: {\r\n      opacity: 0\r\n    }\r\n  }, animatableModel, dataIndex, done);\r\n}\r\n\r\nexport function removeElementWithFadeOut(el, animatableModel, dataIndex) {\r\n  function doRemove() {\r\n    el.parent && el.parent.remove(el);\r\n  } // Hide label and labelLine first\r\n  // TODO Also use fade out animation?\r\n\r\n\r\n  if (!el.isGroup) {\r\n    fadeOutDisplayable(el, animatableModel, dataIndex, doRemove);\r\n  } else {\r\n    el.traverse(function (disp) {\r\n      if (!disp.isGroup) {\r\n        // Can invoke doRemove multiple times.\r\n        fadeOutDisplayable(disp, animatableModel, dataIndex, doRemove);\r\n      }\r\n    });\r\n  }\r\n}\r\n/**\r\n * Save old style for style transition in universalTransition module.\r\n * It's used when element will be reused in each render.\r\n * For chart like map, heatmap, which will always create new element.\r\n * We don't need to save this because universalTransition can get old style from the old element\r\n */\r\n\r\nexport function saveOldStyle(el) {\r\n  transitionStore(el).oldStyle = el.style;\r\n}\r\nexport function getOldStyle(el) {\r\n  return transitionStore(el).oldStyle;\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport ZRText from 'zrender/lib/graphic/Text.js';\r\nimport { isFunction, retrieve2, extend, keys, trim } from 'zrender/lib/core/util.js';\r\nimport { SPECIAL_STATES, DISPLAY_STATES } from '../util/states.js';\r\nimport { deprecateReplaceLog } from '../util/log.js';\r\nimport { makeInner, interpolateRawValues } from '../util/model.js';\r\nimport { initProps, updateProps } from '../util/graphic.js';\r\nvar EMPTY_OBJ = {};\r\nexport function setLabelText(label, labelTexts) {\r\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\r\n    var stateName = SPECIAL_STATES[i];\r\n    var text = labelTexts[stateName];\r\n    var state = label.ensureState(stateName);\r\n    state.style = state.style || {};\r\n    state.style.text = text;\r\n  }\r\n\r\n  var oldStates = label.currentStates.slice();\r\n  label.clearStates(true);\r\n  label.setStyle({\r\n    text: labelTexts.normal\r\n  });\r\n  label.useStates(oldStates, true);\r\n}\r\n\r\nfunction getLabelText(opt, stateModels, interpolatedValue) {\r\n  var labelFetcher = opt.labelFetcher;\r\n  var labelDataIndex = opt.labelDataIndex;\r\n  var labelDimIndex = opt.labelDimIndex;\r\n  var normalModel = stateModels.normal;\r\n  var baseText;\r\n\r\n  if (labelFetcher) {\r\n    baseText = labelFetcher.getFormattedLabel(labelDataIndex, 'normal', null, labelDimIndex, normalModel && normalModel.get('formatter'), interpolatedValue != null ? {\r\n      interpolatedValue: interpolatedValue\r\n    } : null);\r\n  }\r\n\r\n  if (baseText == null) {\r\n    baseText = isFunction(opt.defaultText) ? opt.defaultText(labelDataIndex, opt, interpolatedValue) : opt.defaultText;\r\n  }\r\n\r\n  var statesText = {\r\n    normal: baseText\r\n  };\r\n\r\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\r\n    var stateName = SPECIAL_STATES[i];\r\n    var stateModel = stateModels[stateName];\r\n    statesText[stateName] = retrieve2(labelFetcher ? labelFetcher.getFormattedLabel(labelDataIndex, stateName, null, labelDimIndex, stateModel && stateModel.get('formatter')) : null, baseText);\r\n  }\r\n\r\n  return statesText;\r\n}\r\n\r\nfunction setLabelStyle(targetEl, labelStatesModels, opt, stateSpecified // TODO specified position?\r\n) {\r\n  opt = opt || EMPTY_OBJ;\r\n  var isSetOnText = targetEl instanceof ZRText;\r\n  var needsCreateText = false;\r\n\r\n  for (var i = 0; i < DISPLAY_STATES.length; i++) {\r\n    var stateModel = labelStatesModels[DISPLAY_STATES[i]];\r\n\r\n    if (stateModel && stateModel.getShallow('show')) {\r\n      needsCreateText = true;\r\n      break;\r\n    }\r\n  }\r\n\r\n  var textContent = isSetOnText ? targetEl : targetEl.getTextContent();\r\n\r\n  if (needsCreateText) {\r\n    if (!isSetOnText) {\r\n      // Reuse the previous\r\n      if (!textContent) {\r\n        textContent = new ZRText();\r\n        targetEl.setTextContent(textContent);\r\n      } // Use same state proxy\r\n\r\n\r\n      if (targetEl.stateProxy) {\r\n        textContent.stateProxy = targetEl.stateProxy;\r\n      }\r\n    }\r\n\r\n    var labelStatesTexts = getLabelText(opt, labelStatesModels);\r\n    var normalModel = labelStatesModels.normal;\r\n    var showNormal = !!normalModel.getShallow('show');\r\n    var normalStyle = createTextStyle(normalModel, stateSpecified && stateSpecified.normal, opt, false, !isSetOnText);\r\n    normalStyle.text = labelStatesTexts.normal;\r\n\r\n    if (!isSetOnText) {\r\n      // Always create new\r\n      targetEl.setTextConfig(createTextConfig(normalModel, opt, false));\r\n    }\r\n\r\n    for (var i = 0; i < SPECIAL_STATES.length; i++) {\r\n      var stateName = SPECIAL_STATES[i];\r\n      var stateModel = labelStatesModels[stateName];\r\n\r\n      if (stateModel) {\r\n        var stateObj = textContent.ensureState(stateName);\r\n        var stateShow = !!retrieve2(stateModel.getShallow('show'), showNormal);\r\n\r\n        if (stateShow !== showNormal) {\r\n          stateObj.ignore = !stateShow;\r\n        }\r\n\r\n        stateObj.style = createTextStyle(stateModel, stateSpecified && stateSpecified[stateName], opt, true, !isSetOnText);\r\n        stateObj.style.text = labelStatesTexts[stateName];\r\n\r\n        if (!isSetOnText) {\r\n          var targetElEmphasisState = targetEl.ensureState(stateName);\r\n          targetElEmphasisState.textConfig = createTextConfig(stateModel, opt, true);\r\n        }\r\n      }\r\n    } // PENDING: if there is many requirements that emphasis position\r\n    // need to be different from normal position, we might consider\r\n    // auto silent is those cases.\r\n\r\n\r\n    textContent.silent = !!normalModel.getShallow('silent'); // Keep x and y\r\n\r\n    if (textContent.style.x != null) {\r\n      normalStyle.x = textContent.style.x;\r\n    }\r\n\r\n    if (textContent.style.y != null) {\r\n      normalStyle.y = textContent.style.y;\r\n    }\r\n\r\n    textContent.ignore = !showNormal; // Always create new style.\r\n\r\n    textContent.useStyle(normalStyle);\r\n    textContent.dirty();\r\n\r\n    if (opt.enableTextSetter) {\r\n      labelInner(textContent).setLabelText = function (interpolatedValue) {\r\n        var labelStatesTexts = getLabelText(opt, labelStatesModels, interpolatedValue);\r\n        setLabelText(textContent, labelStatesTexts);\r\n      };\r\n    }\r\n  } else if (textContent) {\r\n    // Not display rich text.\r\n    textContent.ignore = true;\r\n  }\r\n\r\n  targetEl.dirty();\r\n}\r\n\r\nexport { setLabelStyle };\r\nexport function getLabelStatesModels(itemModel, labelName) {\r\n  labelName = labelName || 'label';\r\n  var statesModels = {\r\n    normal: itemModel.getModel(labelName)\r\n  };\r\n\r\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\r\n    var stateName = SPECIAL_STATES[i];\r\n    statesModels[stateName] = itemModel.getModel([stateName, labelName]);\r\n  }\r\n\r\n  return statesModels;\r\n}\r\n/**\r\n * Set basic textStyle properties.\r\n */\r\n\r\nexport function createTextStyle(textStyleModel, specifiedTextStyle, // Fixed style in the code. Can't be set by model.\r\nopt, isNotNormal, isAttached // If text is attached on an element. If so, auto color will handling in zrender.\r\n) {\r\n  var textStyle = {};\r\n  setTextStyleCommon(textStyle, textStyleModel, opt, isNotNormal, isAttached);\r\n  specifiedTextStyle && extend(textStyle, specifiedTextStyle); // textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\r\n\r\n  return textStyle;\r\n}\r\nexport function createTextConfig(textStyleModel, opt, isNotNormal) {\r\n  opt = opt || {};\r\n  var textConfig = {};\r\n  var labelPosition;\r\n  var labelRotate = textStyleModel.getShallow('rotate');\r\n  var labelDistance = retrieve2(textStyleModel.getShallow('distance'), isNotNormal ? null : 5);\r\n  var labelOffset = textStyleModel.getShallow('offset');\r\n  labelPosition = textStyleModel.getShallow('position') || (isNotNormal ? null : 'inside'); // 'outside' is not a valid zr textPostion value, but used\r\n  // in bar series, and magric type should be considered.\r\n\r\n  labelPosition === 'outside' && (labelPosition = opt.defaultOutsidePosition || 'top');\r\n\r\n  if (labelPosition != null) {\r\n    textConfig.position = labelPosition;\r\n  }\r\n\r\n  if (labelOffset != null) {\r\n    textConfig.offset = labelOffset;\r\n  }\r\n\r\n  if (labelRotate != null) {\r\n    labelRotate *= Math.PI / 180;\r\n    textConfig.rotation = labelRotate;\r\n  }\r\n\r\n  if (labelDistance != null) {\r\n    textConfig.distance = labelDistance;\r\n  } // fill and auto is determined by the color of path fill if it's not specified by developers.\r\n\r\n\r\n  textConfig.outsideFill = textStyleModel.get('color') === 'inherit' ? opt.inheritColor || null : 'auto';\r\n  return textConfig;\r\n}\r\n/**\r\n * The uniform entry of set text style, that is, retrieve style definitions\r\n * from `model` and set to `textStyle` object.\r\n *\r\n * Never in merge mode, but in overwrite mode, that is, all of the text style\r\n * properties will be set. (Consider the states of normal and emphasis and\r\n * default value can be adopted, merge would make the logic too complicated\r\n * to manage.)\r\n */\r\n\r\nfunction setTextStyleCommon(textStyle, textStyleModel, opt, isNotNormal, isAttached) {\r\n  // Consider there will be abnormal when merge hover style to normal style if given default value.\r\n  opt = opt || EMPTY_OBJ;\r\n  var ecModel = textStyleModel.ecModel;\r\n  var globalTextStyle = ecModel && ecModel.option.textStyle; // Consider case:\r\n  // {\r\n  //     data: [{\r\n  //         value: 12,\r\n  //         label: {\r\n  //             rich: {\r\n  //                 // no 'a' here but using parent 'a'.\r\n  //             }\r\n  //         }\r\n  //     }],\r\n  //     rich: {\r\n  //         a: { ... }\r\n  //     }\r\n  // }\r\n\r\n  var richItemNames = getRichItemNames(textStyleModel);\r\n  var richResult;\r\n\r\n  if (richItemNames) {\r\n    richResult = {};\r\n\r\n    for (var name_1 in richItemNames) {\r\n      if (richItemNames.hasOwnProperty(name_1)) {\r\n        // Cascade is supported in rich.\r\n        var richTextStyle = textStyleModel.getModel(['rich', name_1]); // In rich, never `disableBox`.\r\n        // FIXME: consider `label: {formatter: '{a|xx}', color: 'blue', rich: {a: {}}}`,\r\n        // the default color `'blue'` will not be adopted if no color declared in `rich`.\r\n        // That might confuses users. So probably we should put `textStyleModel` as the\r\n        // root ancestor of the `richTextStyle`. But that would be a break change.\r\n\r\n        setTokenTextStyle(richResult[name_1] = {}, richTextStyle, globalTextStyle, opt, isNotNormal, isAttached, false, true);\r\n      }\r\n    }\r\n  }\r\n\r\n  if (richResult) {\r\n    textStyle.rich = richResult;\r\n  }\r\n\r\n  var overflow = textStyleModel.get('overflow');\r\n\r\n  if (overflow) {\r\n    textStyle.overflow = overflow;\r\n  }\r\n\r\n  var margin = textStyleModel.get('minMargin');\r\n\r\n  if (margin != null) {\r\n    textStyle.margin = margin;\r\n  }\r\n\r\n  setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isNotNormal, isAttached, true, false);\r\n} // Consider case:\r\n// {\r\n//     data: [{\r\n//         value: 12,\r\n//         label: {\r\n//             rich: {\r\n//                 // no 'a' here but using parent 'a'.\r\n//             }\r\n//         }\r\n//     }],\r\n//     rich: {\r\n//         a: { ... }\r\n//     }\r\n// }\r\n// TODO TextStyleModel\r\n\r\n\r\nfunction getRichItemNames(textStyleModel) {\r\n  // Use object to remove duplicated names.\r\n  var richItemNameMap;\r\n\r\n  while (textStyleModel && textStyleModel !== textStyleModel.ecModel) {\r\n    var rich = (textStyleModel.option || EMPTY_OBJ).rich;\r\n\r\n    if (rich) {\r\n      richItemNameMap = richItemNameMap || {};\r\n      var richKeys = keys(rich);\r\n\r\n      for (var i = 0; i < richKeys.length; i++) {\r\n        var richKey = richKeys[i];\r\n        richItemNameMap[richKey] = 1;\r\n      }\r\n    }\r\n\r\n    textStyleModel = textStyleModel.parentModel;\r\n  }\r\n\r\n  return richItemNameMap;\r\n}\r\n\r\nvar TEXT_PROPS_WITH_GLOBAL = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY'];\r\nvar TEXT_PROPS_SELF = ['align', 'lineHeight', 'width', 'height', 'tag', 'verticalAlign'];\r\nvar TEXT_PROPS_BOX = ['padding', 'borderWidth', 'borderRadius', 'borderDashOffset', 'backgroundColor', 'borderColor', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\r\n\r\nfunction setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isNotNormal, isAttached, isBlock, inRich) {\r\n  // In merge mode, default value should not be given.\r\n  globalTextStyle = !isNotNormal && globalTextStyle || EMPTY_OBJ;\r\n  var inheritColor = opt && opt.inheritColor;\r\n  var fillColor = textStyleModel.getShallow('color');\r\n  var strokeColor = textStyleModel.getShallow('textBorderColor');\r\n  var opacity = retrieve2(textStyleModel.getShallow('opacity'), globalTextStyle.opacity);\r\n\r\n  if (fillColor === 'inherit' || fillColor === 'auto') {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      if (fillColor === 'auto') {\r\n        deprecateReplaceLog('color: \\'auto\\'', 'color: \\'inherit\\'');\r\n      }\r\n    }\r\n\r\n    if (inheritColor) {\r\n      fillColor = inheritColor;\r\n    } else {\r\n      fillColor = null;\r\n    }\r\n  }\r\n\r\n  if (strokeColor === 'inherit' || strokeColor === 'auto') {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      if (strokeColor === 'auto') {\r\n        deprecateReplaceLog('color: \\'auto\\'', 'color: \\'inherit\\'');\r\n      }\r\n    }\r\n\r\n    if (inheritColor) {\r\n      strokeColor = inheritColor;\r\n    } else {\r\n      strokeColor = null;\r\n    }\r\n  }\r\n\r\n  if (!isAttached) {\r\n    // Only use default global textStyle.color if text is individual.\r\n    // Otherwise it will use the strategy of attached text color because text may be on a path.\r\n    fillColor = fillColor || globalTextStyle.color;\r\n    strokeColor = strokeColor || globalTextStyle.textBorderColor;\r\n  }\r\n\r\n  if (fillColor != null) {\r\n    textStyle.fill = fillColor;\r\n  }\r\n\r\n  if (strokeColor != null) {\r\n    textStyle.stroke = strokeColor;\r\n  }\r\n\r\n  var textBorderWidth = retrieve2(textStyleModel.getShallow('textBorderWidth'), globalTextStyle.textBorderWidth);\r\n\r\n  if (textBorderWidth != null) {\r\n    textStyle.lineWidth = textBorderWidth;\r\n  }\r\n\r\n  var textBorderType = retrieve2(textStyleModel.getShallow('textBorderType'), globalTextStyle.textBorderType);\r\n\r\n  if (textBorderType != null) {\r\n    textStyle.lineDash = textBorderType;\r\n  }\r\n\r\n  var textBorderDashOffset = retrieve2(textStyleModel.getShallow('textBorderDashOffset'), globalTextStyle.textBorderDashOffset);\r\n\r\n  if (textBorderDashOffset != null) {\r\n    textStyle.lineDashOffset = textBorderDashOffset;\r\n  }\r\n\r\n  if (!isNotNormal && opacity == null && !inRich) {\r\n    opacity = opt && opt.defaultOpacity;\r\n  }\r\n\r\n  if (opacity != null) {\r\n    textStyle.opacity = opacity;\r\n  } // TODO\r\n\r\n\r\n  if (!isNotNormal && !isAttached) {\r\n    // Set default finally.\r\n    if (textStyle.fill == null && opt.inheritColor) {\r\n      textStyle.fill = opt.inheritColor;\r\n    }\r\n  } // Do not use `getFont` here, because merge should be supported, where\r\n  // part of these properties may be changed in emphasis style, and the\r\n  // others should remain their original value got from normal style.\r\n\r\n\r\n  for (var i = 0; i < TEXT_PROPS_WITH_GLOBAL.length; i++) {\r\n    var key = TEXT_PROPS_WITH_GLOBAL[i];\r\n    var val = retrieve2(textStyleModel.getShallow(key), globalTextStyle[key]);\r\n\r\n    if (val != null) {\r\n      textStyle[key] = val;\r\n    }\r\n  }\r\n\r\n  for (var i = 0; i < TEXT_PROPS_SELF.length; i++) {\r\n    var key = TEXT_PROPS_SELF[i];\r\n    var val = textStyleModel.getShallow(key);\r\n\r\n    if (val != null) {\r\n      textStyle[key] = val;\r\n    }\r\n  }\r\n\r\n  if (textStyle.verticalAlign == null) {\r\n    var baseline = textStyleModel.getShallow('baseline');\r\n\r\n    if (baseline != null) {\r\n      textStyle.verticalAlign = baseline;\r\n    }\r\n  }\r\n\r\n  if (!isBlock || !opt.disableBox) {\r\n    for (var i = 0; i < TEXT_PROPS_BOX.length; i++) {\r\n      var key = TEXT_PROPS_BOX[i];\r\n      var val = textStyleModel.getShallow(key);\r\n\r\n      if (val != null) {\r\n        textStyle[key] = val;\r\n      }\r\n    }\r\n\r\n    var borderType = textStyleModel.getShallow('borderType');\r\n\r\n    if (borderType != null) {\r\n      textStyle.borderDash = borderType;\r\n    }\r\n\r\n    if ((textStyle.backgroundColor === 'auto' || textStyle.backgroundColor === 'inherit') && inheritColor) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        if (textStyle.backgroundColor === 'auto') {\r\n          deprecateReplaceLog('backgroundColor: \\'auto\\'', 'backgroundColor: \\'inherit\\'');\r\n        }\r\n      }\r\n\r\n      textStyle.backgroundColor = inheritColor;\r\n    }\r\n\r\n    if ((textStyle.borderColor === 'auto' || textStyle.borderColor === 'inherit') && inheritColor) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        if (textStyle.borderColor === 'auto') {\r\n          deprecateReplaceLog('borderColor: \\'auto\\'', 'borderColor: \\'inherit\\'');\r\n        }\r\n      }\r\n\r\n      textStyle.borderColor = inheritColor;\r\n    }\r\n  }\r\n}\r\n\r\nexport function getFont(opt, ecModel) {\r\n  var gTextStyleModel = ecModel && ecModel.getModel('textStyle');\r\n  return trim([// FIXME in node-canvas fontWeight is before fontStyle\r\n  opt.fontStyle || gTextStyleModel && gTextStyleModel.getShallow('fontStyle') || '', opt.fontWeight || gTextStyleModel && gTextStyleModel.getShallow('fontWeight') || '', (opt.fontSize || gTextStyleModel && gTextStyleModel.getShallow('fontSize') || 12) + 'px', opt.fontFamily || gTextStyleModel && gTextStyleModel.getShallow('fontFamily') || 'sans-serif'].join(' '));\r\n}\r\nexport var labelInner = makeInner();\r\nexport function setLabelValueAnimation(label, labelStatesModels, value, getDefaultText) {\r\n  if (!label) {\r\n    return;\r\n  }\r\n\r\n  var obj = labelInner(label);\r\n  obj.prevValue = obj.value;\r\n  obj.value = value;\r\n  var normalLabelModel = labelStatesModels.normal;\r\n  obj.valueAnimation = normalLabelModel.get('valueAnimation');\r\n\r\n  if (obj.valueAnimation) {\r\n    obj.precision = normalLabelModel.get('precision');\r\n    obj.defaultInterpolatedText = getDefaultText;\r\n    obj.statesModels = labelStatesModels;\r\n  }\r\n}\r\nexport function animateLabelValue(textEl, dataIndex, data, animatableModel, labelFetcher) {\r\n  var labelInnerStore = labelInner(textEl);\r\n\r\n  if (!labelInnerStore.valueAnimation || labelInnerStore.prevValue === labelInnerStore.value) {\r\n    // Value not changed, no new label animation\r\n    return;\r\n  }\r\n\r\n  var defaultInterpolatedText = labelInnerStore.defaultInterpolatedText; // Consider the case that being animating, do not use the `obj.value`,\r\n  // Otherwise it will jump to the `obj.value` when this new animation started.\r\n\r\n  var currValue = retrieve2(labelInnerStore.interpolatedValue, labelInnerStore.prevValue);\r\n  var targetValue = labelInnerStore.value;\r\n\r\n  function during(percent) {\r\n    var interpolated = interpolateRawValues(data, labelInnerStore.precision, currValue, targetValue, percent);\r\n    labelInnerStore.interpolatedValue = percent === 1 ? null : interpolated;\r\n    var labelText = getLabelText({\r\n      labelDataIndex: dataIndex,\r\n      labelFetcher: labelFetcher,\r\n      defaultText: defaultInterpolatedText ? defaultInterpolatedText(interpolated) : interpolated + ''\r\n    }, labelInnerStore.statesModels, interpolated);\r\n    setLabelText(textEl, labelText);\r\n  }\r\n\r\n  textEl.percent = 0;\r\n  (labelInnerStore.prevValue == null ? initProps : updateProps)(textEl, {\r\n    // percent is used to prevent animation from being aborted #15916\r\n    percent: 1\r\n  }, animatableModel, dataIndex, null, during);\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { getFont } from '../../label/labelStyle.js';\r\nimport ZRText from 'zrender/lib/graphic/Text.js';\r\nvar PATH_COLOR = ['textStyle', 'color'];\r\nvar textStyleParams = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'padding', 'lineHeight', 'rich', 'width', 'height', 'overflow']; // TODO Performance improvement?\r\n\r\nvar tmpText = new ZRText();\r\n\r\nvar TextStyleMixin =\r\n/** @class */\r\nfunction () {\r\n  function TextStyleMixin() {}\r\n  /**\r\n   * Get color property or get color from option.textStyle.color\r\n   */\r\n  // TODO Callback\r\n\r\n\r\n  TextStyleMixin.prototype.getTextColor = function (isEmphasis) {\r\n    var ecModel = this.ecModel;\r\n    return this.getShallow('color') || (!isEmphasis && ecModel ? ecModel.get(PATH_COLOR) : null);\r\n  };\r\n  /**\r\n   * Create font string from fontStyle, fontWeight, fontSize, fontFamily\r\n   * @return {string}\r\n   */\r\n\r\n\r\n  TextStyleMixin.prototype.getFont = function () {\r\n    return getFont({\r\n      fontStyle: this.getShallow('fontStyle'),\r\n      fontWeight: this.getShallow('fontWeight'),\r\n      fontSize: this.getShallow('fontSize'),\r\n      fontFamily: this.getShallow('fontFamily')\r\n    }, this.ecModel);\r\n  };\r\n\r\n  TextStyleMixin.prototype.getTextRect = function (text) {\r\n    var style = {\r\n      text: text,\r\n      verticalAlign: this.getShallow('verticalAlign') || this.getShallow('baseline')\r\n    };\r\n\r\n    for (var i = 0; i < textStyleParams.length; i++) {\r\n      style[textStyleParams[i]] = this.getShallow(textStyleParams[i]);\r\n    }\r\n\r\n    tmpText.useStyle(style);\r\n    tmpText.update();\r\n    return tmpText.getBoundingRect();\r\n  };\r\n\r\n  return TextStyleMixin;\r\n}();\r\n\r\n;\r\nexport default TextStyleMixin;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport makeStyleMapper from './makeStyleMapper.js';\r\nexport var LINE_STYLE_KEY_MAP = [['lineWidth', 'width'], ['stroke', 'color'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['lineDash', 'type'], ['lineDashOffset', 'dashOffset'], ['lineCap', 'cap'], ['lineJoin', 'join'], ['miterLimit'] // Option decal is in `DecalObject` but style.decal is in `PatternObject`.\r\n// So do not transfer decal directly.\r\n];\r\nvar getLineStyle = makeStyleMapper(LINE_STYLE_KEY_MAP);\r\n\r\nvar LineStyleMixin =\r\n/** @class */\r\nfunction () {\r\n  function LineStyleMixin() {}\r\n\r\n  LineStyleMixin.prototype.getLineStyle = function (excludes) {\r\n    return getLineStyle(this, excludes);\r\n  };\r\n\r\n  return LineStyleMixin;\r\n}();\r\n\r\n;\r\nexport { LineStyleMixin };", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport makeStyleMapper from './makeStyleMapper.js';\r\nexport var ITEM_STYLE_KEY_MAP = [['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['lineDash', 'borderType'], ['lineDashOffset', 'borderDashOffset'], ['lineCap', 'borderCap'], ['lineJoin', 'borderJoin'], ['miterLimit', 'borderMiterLimit'] // Option decal is in `DecalObject` but style.decal is in `PatternObject`.\r\n// So do not transfer decal directly.\r\n];\r\nvar getItemStyle = makeStyleMapper(ITEM_STYLE_KEY_MAP);\r\n\r\nvar ItemStyleMixin =\r\n/** @class */\r\nfunction () {\r\n  function ItemStyleMixin() {}\r\n\r\n  ItemStyleMixin.prototype.getItemStyle = function (excludes, includes) {\r\n    return getItemStyle(this, excludes, includes);\r\n  };\r\n\r\n  return ItemStyleMixin;\r\n}();\r\n\r\nexport { ItemStyleMixin };", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport env from 'zrender/lib/core/env.js';\r\nimport { enableClassExtend, enableClassCheck } from '../util/clazz.js';\r\nimport { AreaStyleMixin } from './mixin/areaStyle.js';\r\nimport TextStyleMixin from './mixin/textStyle.js';\r\nimport { LineStyleMixin } from './mixin/lineStyle.js';\r\nimport { ItemStyleMixin } from './mixin/itemStyle.js';\r\nimport { mixin, clone, merge } from 'zrender/lib/core/util.js';\r\n\r\nvar Model =\r\n/** @class */\r\nfunction () {\r\n  function Model(option, parentModel, ecModel) {\r\n    this.parentModel = parentModel;\r\n    this.ecModel = ecModel;\r\n    this.option = option; // Simple optimization\r\n    // if (this.init) {\r\n    //     if (arguments.length <= 4) {\r\n    //         this.init(option, parentModel, ecModel, extraOpt);\r\n    //     }\r\n    //     else {\r\n    //         this.init.apply(this, arguments);\r\n    //     }\r\n    // }\r\n  }\r\n\r\n  Model.prototype.init = function (option, parentModel, ecModel) {\r\n    var rest = [];\r\n\r\n    for (var _i = 3; _i < arguments.length; _i++) {\r\n      rest[_i - 3] = arguments[_i];\r\n    }\r\n  };\r\n  /**\r\n   * Merge the input option to me.\r\n   */\r\n\r\n\r\n  Model.prototype.mergeOption = function (option, ecModel) {\r\n    merge(this.option, option, true);\r\n  }; // `path` can be 'a.b.c', so the return value type have to be `ModelOption`\r\n  // TODO: TYPE strict key check?\r\n  // get(path: string | string[], ignoreParent?: boolean): ModelOption;\r\n\r\n\r\n  Model.prototype.get = function (path, ignoreParent) {\r\n    if (path == null) {\r\n      return this.option;\r\n    }\r\n\r\n    return this._doGet(this.parsePath(path), !ignoreParent && this.parentModel);\r\n  };\r\n\r\n  Model.prototype.getShallow = function (key, ignoreParent) {\r\n    var option = this.option;\r\n    var val = option == null ? option : option[key];\r\n\r\n    if (val == null && !ignoreParent) {\r\n      var parentModel = this.parentModel;\r\n\r\n      if (parentModel) {\r\n        // FIXME:TS do not know how to make it works\r\n        val = parentModel.getShallow(key);\r\n      }\r\n    }\r\n\r\n    return val;\r\n  }; // `path` can be 'a.b.c', so the return value type have to be `Model<ModelOption>`\r\n  // getModel(path: string | string[], parentModel?: Model): Model;\r\n  // TODO 'a.b.c' is deprecated\r\n\r\n\r\n  Model.prototype.getModel = function (path, parentModel) {\r\n    var hasPath = path != null;\r\n    var pathFinal = hasPath ? this.parsePath(path) : null;\r\n    var obj = hasPath ? this._doGet(pathFinal) : this.option;\r\n    parentModel = parentModel || this.parentModel && this.parentModel.getModel(this.resolveParentPath(pathFinal));\r\n    return new Model(obj, parentModel, this.ecModel);\r\n  };\r\n  /**\r\n   * If model has option\r\n   */\r\n\r\n\r\n  Model.prototype.isEmpty = function () {\r\n    return this.option == null;\r\n  };\r\n\r\n  Model.prototype.restoreData = function () {}; // Pending\r\n\r\n\r\n  Model.prototype.clone = function () {\r\n    var Ctor = this.constructor;\r\n    return new Ctor(clone(this.option));\r\n  }; // setReadOnly(properties): void {\r\n  // clazzUtil.setReadOnly(this, properties);\r\n  // }\r\n  // If path is null/undefined, return null/undefined.\r\n\r\n\r\n  Model.prototype.parsePath = function (path) {\r\n    if (typeof path === 'string') {\r\n      return path.split('.');\r\n    }\r\n\r\n    return path;\r\n  }; // Resolve path for parent. Perhaps useful when parent use a different property.\r\n  // Default to be a identity resolver.\r\n  // Can be modified to a different resolver.\r\n\r\n\r\n  Model.prototype.resolveParentPath = function (path) {\r\n    return path;\r\n  }; // FIXME:TS check whether put this method here\r\n\r\n\r\n  Model.prototype.isAnimationEnabled = function () {\r\n    if (!env.node && this.option) {\r\n      if (this.option.animation != null) {\r\n        return !!this.option.animation;\r\n      } else if (this.parentModel) {\r\n        return this.parentModel.isAnimationEnabled();\r\n      }\r\n    }\r\n  };\r\n\r\n  Model.prototype._doGet = function (pathArr, parentModel) {\r\n    var obj = this.option;\r\n\r\n    if (!pathArr) {\r\n      return obj;\r\n    }\r\n\r\n    for (var i = 0; i < pathArr.length; i++) {\r\n      // Ignore empty\r\n      if (!pathArr[i]) {\r\n        continue;\r\n      } // obj could be number/string/... (like 0)\r\n\r\n\r\n      obj = obj && typeof obj === 'object' ? obj[pathArr[i]] : null;\r\n\r\n      if (obj == null) {\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (obj == null && parentModel) {\r\n      obj = parentModel._doGet(this.resolveParentPath(pathArr), parentModel.parentModel);\r\n    }\r\n\r\n    return obj;\r\n  };\r\n\r\n  return Model;\r\n}();\r\n\r\n; // Enable Model.extend.\r\n\r\nenableClassExtend(Model);\r\nenableClassCheck(Model);\r\nmixin(Model, LineStyleMixin);\r\nmixin(Model, ItemStyleMixin);\r\nmixin(Model, AreaStyleMixin);\r\nmixin(Model, TextStyleMixin);\r\nexport default Model;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\n/**\r\n * Language: English.\r\n */\r\nexport default {\r\n  time: {\r\n    month: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\r\n    monthAbbr: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n    dayOfWeek: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\r\n    dayOfWeekAbbr: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\r\n  },\r\n  legend: {\r\n    selector: {\r\n      all: 'All',\r\n      inverse: 'Inv'\r\n    }\r\n  },\r\n  toolbox: {\r\n    brush: {\r\n      title: {\r\n        rect: 'Box Select',\r\n        polygon: 'Lasso Select',\r\n        lineX: 'Horizontally Select',\r\n        lineY: 'Vertically Select',\r\n        keep: 'Keep Selections',\r\n        clear: 'Clear Selections'\r\n      }\r\n    },\r\n    dataView: {\r\n      title: 'Data View',\r\n      lang: ['Data View', 'Close', 'Refresh']\r\n    },\r\n    dataZoom: {\r\n      title: {\r\n        zoom: 'Zoom',\r\n        back: 'Zoom Reset'\r\n      }\r\n    },\r\n    magicType: {\r\n      title: {\r\n        line: 'Switch to Line Chart',\r\n        bar: 'Switch to Bar Chart',\r\n        stack: 'Stack',\r\n        tiled: 'Tile'\r\n      }\r\n    },\r\n    restore: {\r\n      title: 'Restore'\r\n    },\r\n    saveAsImage: {\r\n      title: 'Save as Image',\r\n      lang: ['Right Click to Save Image']\r\n    }\r\n  },\r\n  series: {\r\n    typeNames: {\r\n      pie: 'Pie chart',\r\n      bar: 'Bar chart',\r\n      line: 'Line chart',\r\n      scatter: 'Scatter plot',\r\n      effectScatter: 'Ripple scatter plot',\r\n      radar: 'Radar chart',\r\n      tree: 'Tree',\r\n      treemap: 'Treemap',\r\n      boxplot: 'Boxplot',\r\n      candlestick: 'Candlestick',\r\n      k: 'K line chart',\r\n      heatmap: 'Heat map',\r\n      map: 'Map',\r\n      parallel: 'Parallel coordinate map',\r\n      lines: 'Line graph',\r\n      graph: 'Relationship graph',\r\n      sankey: 'Sankey diagram',\r\n      funnel: 'Funnel chart',\r\n      gauge: 'Gauge',\r\n      pictorialBar: 'Pictorial bar',\r\n      themeRiver: 'Theme River Map',\r\n      sunburst: 'Sunburst'\r\n    }\r\n  },\r\n  aria: {\r\n    general: {\r\n      withTitle: 'This is a chart about \"{title}\"',\r\n      withoutTitle: 'This is a chart'\r\n    },\r\n    series: {\r\n      single: {\r\n        prefix: '',\r\n        withName: ' with type {seriesType} named {seriesName}.',\r\n        withoutName: ' with type {seriesType}.'\r\n      },\r\n      multiple: {\r\n        prefix: '. It consists of {seriesCount} series count.',\r\n        withName: ' The {seriesId} series is a {seriesType} representing {seriesName}.',\r\n        withoutName: ' The {seriesId} series is a {seriesType}.',\r\n        separator: {\r\n          middle: '',\r\n          end: ''\r\n        }\r\n      }\r\n    },\r\n    data: {\r\n      allData: 'The data is as follows: ',\r\n      partialData: 'The first {displayCnt} items are: ',\r\n      withName: 'the data for {name} is {value}',\r\n      withoutName: '{value}',\r\n      separator: {\r\n        middle: ', ',\r\n        end: '. '\r\n      }\r\n    }\r\n  }\r\n};", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nexport default {\r\n  time: {\r\n    month: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'],\r\n    monthAbbr: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],\r\n    dayOfWeek: ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'],\r\n    dayOfWeekAbbr: ['日', '一', '二', '三', '四', '五', '六']\r\n  },\r\n  legend: {\r\n    selector: {\r\n      all: '全选',\r\n      inverse: '反选'\r\n    }\r\n  },\r\n  toolbox: {\r\n    brush: {\r\n      title: {\r\n        rect: '矩形选择',\r\n        polygon: '圈选',\r\n        lineX: '横向选择',\r\n        lineY: '纵向选择',\r\n        keep: '保持选择',\r\n        clear: '清除选择'\r\n      }\r\n    },\r\n    dataView: {\r\n      title: '数据视图',\r\n      lang: ['数据视图', '关闭', '刷新']\r\n    },\r\n    dataZoom: {\r\n      title: {\r\n        zoom: '区域缩放',\r\n        back: '区域缩放还原'\r\n      }\r\n    },\r\n    magicType: {\r\n      title: {\r\n        line: '切换为折线图',\r\n        bar: '切换为柱状图',\r\n        stack: '切换为堆叠',\r\n        tiled: '切换为平铺'\r\n      }\r\n    },\r\n    restore: {\r\n      title: '还原'\r\n    },\r\n    saveAsImage: {\r\n      title: '保存为图片',\r\n      lang: ['右键另存为图片']\r\n    }\r\n  },\r\n  series: {\r\n    typeNames: {\r\n      pie: '饼图',\r\n      bar: '柱状图',\r\n      line: '折线图',\r\n      scatter: '散点图',\r\n      effectScatter: '涟漪散点图',\r\n      radar: '雷达图',\r\n      tree: '树图',\r\n      treemap: '矩形树图',\r\n      boxplot: '箱型图',\r\n      candlestick: 'K线图',\r\n      k: 'K线图',\r\n      heatmap: '热力图',\r\n      map: '地图',\r\n      parallel: '平行坐标图',\r\n      lines: '线图',\r\n      graph: '关系图',\r\n      sankey: '桑基图',\r\n      funnel: '漏斗图',\r\n      gauge: '仪表盘图',\r\n      pictorialBar: '象形柱图',\r\n      themeRiver: '主题河流图',\r\n      sunburst: '旭日图'\r\n    }\r\n  },\r\n  aria: {\r\n    general: {\r\n      withTitle: '这是一个关于“{title}”的图表。',\r\n      withoutTitle: '这是一个图表，'\r\n    },\r\n    series: {\r\n      single: {\r\n        prefix: '',\r\n        withName: '图表类型是{seriesType}，表示{seriesName}。',\r\n        withoutName: '图表类型是{seriesType}。'\r\n      },\r\n      multiple: {\r\n        prefix: '它由{seriesCount}个图表系列组成。',\r\n        withName: '第{seriesId}个系列是一个表示{seriesName}的{seriesType}，',\r\n        withoutName: '第{seriesId}个系列是一个{seriesType}，',\r\n        separator: {\r\n          middle: '；',\r\n          end: '。'\r\n        }\r\n      }\r\n    },\r\n    data: {\r\n      allData: '其数据是——',\r\n      partialData: '其中，前{displayCnt}项是——',\r\n      withName: '{name}的数据是{value}',\r\n      withoutName: '{value}',\r\n      separator: {\r\n        middle: '，',\r\n        end: ''\r\n      }\r\n    }\r\n  }\r\n};", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport Model from '../model/Model.js';\r\nimport env from 'zrender/lib/core/env.js'; // default import ZH and EN lang\r\n\r\nimport langEN from '../i18n/langEN.js';\r\nimport langZH from '../i18n/langZH.js';\r\nimport { isString, clone, merge } from 'zrender/lib/core/util.js';\r\nvar LOCALE_ZH = 'ZH';\r\nvar LOCALE_EN = 'EN';\r\nvar DEFAULT_LOCALE = LOCALE_EN;\r\nvar localeStorage = {};\r\nvar localeModels = {};\r\nexport var SYSTEM_LANG = !env.domSupported ? DEFAULT_LOCALE : function () {\r\n  var langStr = (\r\n  /* eslint-disable-next-line */\r\n  document.documentElement.lang || navigator.language || navigator.browserLanguage).toUpperCase();\r\n  return langStr.indexOf(LOCALE_ZH) > -1 ? LOCALE_ZH : DEFAULT_LOCALE;\r\n}();\r\nexport function registerLocale(locale, localeObj) {\r\n  locale = locale.toUpperCase();\r\n  localeModels[locale] = new Model(localeObj);\r\n  localeStorage[locale] = localeObj;\r\n} // export function getLocale(locale: string) {\r\n//     return localeStorage[locale];\r\n// }\r\n\r\nexport function createLocaleObject(locale) {\r\n  if (isString(locale)) {\r\n    var localeObj = localeStorage[locale.toUpperCase()] || {};\r\n\r\n    if (locale === LOCALE_ZH || locale === LOCALE_EN) {\r\n      return clone(localeObj);\r\n    } else {\r\n      return merge(clone(localeObj), clone(localeStorage[DEFAULT_LOCALE]), false);\r\n    }\r\n  } else {\r\n    return merge(clone(locale), clone(localeStorage[DEFAULT_LOCALE]), false);\r\n  }\r\n}\r\nexport function getLocaleModel(lang) {\r\n  return localeModels[lang];\r\n}\r\nexport function getDefaultLocaleModel() {\r\n  return localeModels[DEFAULT_LOCALE];\r\n} // Default locale\r\n\r\nregisterLocale(LOCALE_EN, langEN);\r\nregisterLocale(LOCALE_ZH, langZH);", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport { parseClassType } from './clazz.js';\r\nimport { makePrintable } from './log.js'; // A random offset\r\n\r\nvar base = Math.round(Math.random() * 10);\r\n/**\r\n * @public\r\n * @param {string} type\r\n * @return {string}\r\n */\r\n\r\nexport function getUID(type) {\r\n  // Considering the case of crossing js context,\r\n  // use Math.random to make id as unique as possible.\r\n  return [type || '', base++].join('_');\r\n}\r\n/**\r\n * Implements `SubTypeDefaulterManager` for `target`.\r\n */\r\n\r\nexport function enableSubTypeDefaulter(target) {\r\n  var subTypeDefaulters = {};\r\n\r\n  target.registerSubTypeDefaulter = function (componentType, defaulter) {\r\n    var componentTypeInfo = parseClassType(componentType);\r\n    subTypeDefaulters[componentTypeInfo.main] = defaulter;\r\n  };\r\n\r\n  target.determineSubType = function (componentType, option) {\r\n    var type = option.type;\r\n\r\n    if (!type) {\r\n      var componentTypeMain = parseClassType(componentType).main;\r\n\r\n      if (target.hasSubTypes(componentType) && subTypeDefaulters[componentTypeMain]) {\r\n        type = subTypeDefaulters[componentTypeMain](option);\r\n      }\r\n    }\r\n\r\n    return type;\r\n  };\r\n}\r\n/**\r\n * Implements `TopologicalTravelable<any>` for `entity`.\r\n *\r\n * Topological travel on Activity Network (Activity On Vertices).\r\n * Dependencies is defined in Model.prototype.dependencies, like ['xAxis', 'yAxis'].\r\n * If 'xAxis' or 'yAxis' is absent in componentTypeList, just ignore it in topology.\r\n * If there is circular dependencey, Error will be thrown.\r\n */\r\n\r\nexport function enableTopologicalTravel(entity, dependencyGetter) {\r\n  /**\r\n   * @param targetNameList Target Component type list.\r\n   *                       Can be ['aa', 'bb', 'aa.xx']\r\n   * @param fullNameList By which we can build dependency graph.\r\n   * @param callback Params: componentType, dependencies.\r\n   * @param context Scope of callback.\r\n   */\r\n  entity.topologicalTravel = function (targetNameList, fullNameList, callback, context) {\r\n    if (!targetNameList.length) {\r\n      return;\r\n    }\r\n\r\n    var result = makeDepndencyGraph(fullNameList);\r\n    var graph = result.graph;\r\n    var noEntryList = result.noEntryList;\r\n    var targetNameSet = {};\r\n    zrUtil.each(targetNameList, function (name) {\r\n      targetNameSet[name] = true;\r\n    });\r\n\r\n    while (noEntryList.length) {\r\n      var currComponentType = noEntryList.pop();\r\n      var currVertex = graph[currComponentType];\r\n      var isInTargetNameSet = !!targetNameSet[currComponentType];\r\n\r\n      if (isInTargetNameSet) {\r\n        callback.call(context, currComponentType, currVertex.originalDeps.slice());\r\n        delete targetNameSet[currComponentType];\r\n      }\r\n\r\n      zrUtil.each(currVertex.successor, isInTargetNameSet ? removeEdgeAndAdd : removeEdge);\r\n    }\r\n\r\n    zrUtil.each(targetNameSet, function () {\r\n      var errMsg = '';\r\n\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        errMsg = makePrintable('Circular dependency may exists: ', targetNameSet, targetNameList, fullNameList);\r\n      }\r\n\r\n      throw new Error(errMsg);\r\n    });\r\n\r\n    function removeEdge(succComponentType) {\r\n      graph[succComponentType].entryCount--;\r\n\r\n      if (graph[succComponentType].entryCount === 0) {\r\n        noEntryList.push(succComponentType);\r\n      }\r\n    } // Consider this case: legend depends on series, and we call\r\n    // chart.setOption({series: [...]}), where only series is in option.\r\n    // If we do not have 'removeEdgeAndAdd', legendModel.mergeOption will\r\n    // not be called, but only sereis.mergeOption is called. Thus legend\r\n    // have no chance to update its local record about series (like which\r\n    // name of series is available in legend).\r\n\r\n\r\n    function removeEdgeAndAdd(succComponentType) {\r\n      targetNameSet[succComponentType] = true;\r\n      removeEdge(succComponentType);\r\n    }\r\n  };\r\n\r\n  function makeDepndencyGraph(fullNameList) {\r\n    var graph = {};\r\n    var noEntryList = [];\r\n    zrUtil.each(fullNameList, function (name) {\r\n      var thisItem = createDependencyGraphItem(graph, name);\r\n      var originalDeps = thisItem.originalDeps = dependencyGetter(name);\r\n      var availableDeps = getAvailableDependencies(originalDeps, fullNameList);\r\n      thisItem.entryCount = availableDeps.length;\r\n\r\n      if (thisItem.entryCount === 0) {\r\n        noEntryList.push(name);\r\n      }\r\n\r\n      zrUtil.each(availableDeps, function (dependentName) {\r\n        if (zrUtil.indexOf(thisItem.predecessor, dependentName) < 0) {\r\n          thisItem.predecessor.push(dependentName);\r\n        }\r\n\r\n        var thatItem = createDependencyGraphItem(graph, dependentName);\r\n\r\n        if (zrUtil.indexOf(thatItem.successor, dependentName) < 0) {\r\n          thatItem.successor.push(name);\r\n        }\r\n      });\r\n    });\r\n    return {\r\n      graph: graph,\r\n      noEntryList: noEntryList\r\n    };\r\n  }\r\n\r\n  function createDependencyGraphItem(graph, name) {\r\n    if (!graph[name]) {\r\n      graph[name] = {\r\n        predecessor: [],\r\n        successor: []\r\n      };\r\n    }\r\n\r\n    return graph[name];\r\n  }\r\n\r\n  function getAvailableDependencies(originalDeps, fullNameList) {\r\n    var availableDeps = [];\r\n    zrUtil.each(originalDeps, function (dep) {\r\n      zrUtil.indexOf(fullNameList, dep) >= 0 && availableDeps.push(dep);\r\n    });\r\n    return availableDeps;\r\n  }\r\n}\r\nexport function inheritDefaultOption(superOption, subOption) {\r\n  // See also `model/Component.ts#getDefaultOption`\r\n  return zrUtil.merge(zrUtil.merge({}, superOption, true), subOption, true);\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport * as numberUtil from './number.js';\r\nimport { getDefaultLocaleModel, getLocaleModel, SYSTEM_LANG } from '../core/locale.js';\r\nimport Model from '../model/Model.js';\r\nexport var ONE_SECOND = 1000;\r\nexport var ONE_MINUTE = ONE_SECOND * 60;\r\nexport var ONE_HOUR = ONE_MINUTE * 60;\r\nexport var ONE_DAY = ONE_HOUR * 24;\r\nexport var ONE_YEAR = ONE_DAY * 365;\r\nexport var defaultLeveledFormatter = {\r\n  year: '{yyyy}',\r\n  month: '{MMM}',\r\n  day: '{d}',\r\n  hour: '{HH}:{mm}',\r\n  minute: '{HH}:{mm}',\r\n  second: '{HH}:{mm}:{ss}',\r\n  millisecond: '{HH}:{mm}:{ss} {SSS}',\r\n  none: '{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}'\r\n};\r\nvar fullDayFormatter = '{yyyy}-{MM}-{dd}';\r\nexport var fullLeveledFormatter = {\r\n  year: '{yyyy}',\r\n  month: '{yyyy}-{MM}',\r\n  day: fullDayFormatter,\r\n  hour: fullDayFormatter + ' ' + defaultLeveledFormatter.hour,\r\n  minute: fullDayFormatter + ' ' + defaultLeveledFormatter.minute,\r\n  second: fullDayFormatter + ' ' + defaultLeveledFormatter.second,\r\n  millisecond: defaultLeveledFormatter.none\r\n};\r\nexport var primaryTimeUnits = ['year', 'month', 'day', 'hour', 'minute', 'second', 'millisecond'];\r\nexport var timeUnits = ['year', 'half-year', 'quarter', 'month', 'week', 'half-week', 'day', 'half-day', 'quarter-day', 'hour', 'minute', 'second', 'millisecond'];\r\nexport function pad(str, len) {\r\n  str += '';\r\n  return '0000'.substr(0, len - str.length) + str;\r\n}\r\nexport function getPrimaryTimeUnit(timeUnit) {\r\n  switch (timeUnit) {\r\n    case 'half-year':\r\n    case 'quarter':\r\n      return 'month';\r\n\r\n    case 'week':\r\n    case 'half-week':\r\n      return 'day';\r\n\r\n    case 'half-day':\r\n    case 'quarter-day':\r\n      return 'hour';\r\n\r\n    default:\r\n      // year, minutes, second, milliseconds\r\n      return timeUnit;\r\n  }\r\n}\r\nexport function isPrimaryTimeUnit(timeUnit) {\r\n  return timeUnit === getPrimaryTimeUnit(timeUnit);\r\n}\r\nexport function getDefaultFormatPrecisionOfInterval(timeUnit) {\r\n  switch (timeUnit) {\r\n    case 'year':\r\n    case 'month':\r\n      return 'day';\r\n\r\n    case 'millisecond':\r\n      return 'millisecond';\r\n\r\n    default:\r\n      // Also for day, hour, minute, second\r\n      return 'second';\r\n  }\r\n}\r\nexport function format( // Note: The result based on `isUTC` are totally different, which can not be just simply\r\n// substituted by the result without `isUTC`. So we make the param `isUTC` mandatory.\r\ntime, template, isUTC, lang) {\r\n  var date = numberUtil.parseDate(time);\r\n  var y = date[fullYearGetterName(isUTC)]();\r\n  var M = date[monthGetterName(isUTC)]() + 1;\r\n  var q = Math.floor((M - 1) / 3) + 1;\r\n  var d = date[dateGetterName(isUTC)]();\r\n  var e = date['get' + (isUTC ? 'UTC' : '') + 'Day']();\r\n  var H = date[hoursGetterName(isUTC)]();\r\n  var h = (H - 1) % 12 + 1;\r\n  var m = date[minutesGetterName(isUTC)]();\r\n  var s = date[secondsGetterName(isUTC)]();\r\n  var S = date[millisecondsGetterName(isUTC)]();\r\n  var localeModel = lang instanceof Model ? lang : getLocaleModel(lang || SYSTEM_LANG) || getDefaultLocaleModel();\r\n  var timeModel = localeModel.getModel('time');\r\n  var month = timeModel.get('month');\r\n  var monthAbbr = timeModel.get('monthAbbr');\r\n  var dayOfWeek = timeModel.get('dayOfWeek');\r\n  var dayOfWeekAbbr = timeModel.get('dayOfWeekAbbr');\r\n  return (template || '').replace(/{yyyy}/g, y + '').replace(/{yy}/g, y % 100 + '').replace(/{Q}/g, q + '').replace(/{MMMM}/g, month[M - 1]).replace(/{MMM}/g, monthAbbr[M - 1]).replace(/{MM}/g, pad(M, 2)).replace(/{M}/g, M + '').replace(/{dd}/g, pad(d, 2)).replace(/{d}/g, d + '').replace(/{eeee}/g, dayOfWeek[e]).replace(/{ee}/g, dayOfWeekAbbr[e]).replace(/{e}/g, e + '').replace(/{HH}/g, pad(H, 2)).replace(/{H}/g, H + '').replace(/{hh}/g, pad(h + '', 2)).replace(/{h}/g, h + '').replace(/{mm}/g, pad(m, 2)).replace(/{m}/g, m + '').replace(/{ss}/g, pad(s, 2)).replace(/{s}/g, s + '').replace(/{SSS}/g, pad(S, 3)).replace(/{S}/g, S + '');\r\n}\r\nexport function leveledFormat(tick, idx, formatter, lang, isUTC) {\r\n  var template = null;\r\n\r\n  if (zrUtil.isString(formatter)) {\r\n    // Single formatter for all units at all levels\r\n    template = formatter;\r\n  } else if (zrUtil.isFunction(formatter)) {\r\n    // Callback formatter\r\n    template = formatter(tick.value, idx, {\r\n      level: tick.level\r\n    });\r\n  } else {\r\n    var defaults = zrUtil.extend({}, defaultLeveledFormatter);\r\n\r\n    if (tick.level > 0) {\r\n      for (var i = 0; i < primaryTimeUnits.length; ++i) {\r\n        defaults[primaryTimeUnits[i]] = \"{primary|\" + defaults[primaryTimeUnits[i]] + \"}\";\r\n      }\r\n    }\r\n\r\n    var mergedFormatter = formatter ? formatter.inherit === false ? formatter // Use formatter with bigger units\r\n    : zrUtil.defaults(formatter, defaults) : defaults;\r\n    var unit = getUnitFromValue(tick.value, isUTC);\r\n\r\n    if (mergedFormatter[unit]) {\r\n      template = mergedFormatter[unit];\r\n    } else if (mergedFormatter.inherit) {\r\n      // Unit formatter is not defined and should inherit from bigger units\r\n      var targetId = timeUnits.indexOf(unit);\r\n\r\n      for (var i = targetId - 1; i >= 0; --i) {\r\n        if (mergedFormatter[unit]) {\r\n          template = mergedFormatter[unit];\r\n          break;\r\n        }\r\n      }\r\n\r\n      template = template || defaults.none;\r\n    }\r\n\r\n    if (zrUtil.isArray(template)) {\r\n      var levelId = tick.level == null ? 0 : tick.level >= 0 ? tick.level : template.length + tick.level;\r\n      levelId = Math.min(levelId, template.length - 1);\r\n      template = template[levelId];\r\n    }\r\n  }\r\n\r\n  return format(new Date(tick.value), template, isUTC, lang);\r\n}\r\nexport function getUnitFromValue(value, isUTC) {\r\n  var date = numberUtil.parseDate(value);\r\n  var M = date[monthGetterName(isUTC)]() + 1;\r\n  var d = date[dateGetterName(isUTC)]();\r\n  var h = date[hoursGetterName(isUTC)]();\r\n  var m = date[minutesGetterName(isUTC)]();\r\n  var s = date[secondsGetterName(isUTC)]();\r\n  var S = date[millisecondsGetterName(isUTC)]();\r\n  var isSecond = S === 0;\r\n  var isMinute = isSecond && s === 0;\r\n  var isHour = isMinute && m === 0;\r\n  var isDay = isHour && h === 0;\r\n  var isMonth = isDay && d === 1;\r\n  var isYear = isMonth && M === 1;\r\n\r\n  if (isYear) {\r\n    return 'year';\r\n  } else if (isMonth) {\r\n    return 'month';\r\n  } else if (isDay) {\r\n    return 'day';\r\n  } else if (isHour) {\r\n    return 'hour';\r\n  } else if (isMinute) {\r\n    return 'minute';\r\n  } else if (isSecond) {\r\n    return 'second';\r\n  } else {\r\n    return 'millisecond';\r\n  }\r\n}\r\nexport function getUnitValue(value, unit, isUTC) {\r\n  var date = zrUtil.isNumber(value) ? numberUtil.parseDate(value) : value;\r\n  unit = unit || getUnitFromValue(value, isUTC);\r\n\r\n  switch (unit) {\r\n    case 'year':\r\n      return date[fullYearGetterName(isUTC)]();\r\n\r\n    case 'half-year':\r\n      return date[monthGetterName(isUTC)]() >= 6 ? 1 : 0;\r\n\r\n    case 'quarter':\r\n      return Math.floor((date[monthGetterName(isUTC)]() + 1) / 4);\r\n\r\n    case 'month':\r\n      return date[monthGetterName(isUTC)]();\r\n\r\n    case 'day':\r\n      return date[dateGetterName(isUTC)]();\r\n\r\n    case 'half-day':\r\n      return date[hoursGetterName(isUTC)]() / 24;\r\n\r\n    case 'hour':\r\n      return date[hoursGetterName(isUTC)]();\r\n\r\n    case 'minute':\r\n      return date[minutesGetterName(isUTC)]();\r\n\r\n    case 'second':\r\n      return date[secondsGetterName(isUTC)]();\r\n\r\n    case 'millisecond':\r\n      return date[millisecondsGetterName(isUTC)]();\r\n  }\r\n}\r\nexport function fullYearGetterName(isUTC) {\r\n  return isUTC ? 'getUTCFullYear' : 'getFullYear';\r\n}\r\nexport function monthGetterName(isUTC) {\r\n  return isUTC ? 'getUTCMonth' : 'getMonth';\r\n}\r\nexport function dateGetterName(isUTC) {\r\n  return isUTC ? 'getUTCDate' : 'getDate';\r\n}\r\nexport function hoursGetterName(isUTC) {\r\n  return isUTC ? 'getUTCHours' : 'getHours';\r\n}\r\nexport function minutesGetterName(isUTC) {\r\n  return isUTC ? 'getUTCMinutes' : 'getMinutes';\r\n}\r\nexport function secondsGetterName(isUTC) {\r\n  return isUTC ? 'getUTCSeconds' : 'getSeconds';\r\n}\r\nexport function millisecondsGetterName(isUTC) {\r\n  return isUTC ? 'getUTCMilliseconds' : 'getMilliseconds';\r\n}\r\nexport function fullYearSetterName(isUTC) {\r\n  return isUTC ? 'setUTCFullYear' : 'setFullYear';\r\n}\r\nexport function monthSetterName(isUTC) {\r\n  return isUTC ? 'setUTCMonth' : 'setMonth';\r\n}\r\nexport function dateSetterName(isUTC) {\r\n  return isUTC ? 'setUTCDate' : 'setDate';\r\n}\r\nexport function hoursSetterName(isUTC) {\r\n  return isUTC ? 'setUTCHours' : 'setHours';\r\n}\r\nexport function minutesSetterName(isUTC) {\r\n  return isUTC ? 'setUTCMinutes' : 'setMinutes';\r\n}\r\nexport function secondsSetterName(isUTC) {\r\n  return isUTC ? 'setUTCSeconds' : 'setSeconds';\r\n}\r\nexport function millisecondsSetterName(isUTC) {\r\n  return isUTC ? 'setUTCMilliseconds' : 'setMilliseconds';\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { Text } from '../util/graphic.js';\r\nexport function getTextRect(text, font, align, verticalAlign, padding, rich, truncate, lineHeight) {\r\n  var textEl = new Text({\r\n    style: {\r\n      text: text,\r\n      font: font,\r\n      align: align,\r\n      verticalAlign: verticalAlign,\r\n      padding: padding,\r\n      rich: rich,\r\n      overflow: truncate ? 'truncate' : null,\r\n      lineHeight: lineHeight\r\n    }\r\n  });\r\n  return textEl.getBoundingRect();\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport { encodeHTML } from 'zrender/lib/core/dom.js';\r\nimport { parseDate, isNumeric, numericToNumber } from './number.js';\r\nimport { format as timeFormat, pad } from './time.js';\r\nimport { deprecateReplaceLog } from './log.js';\r\n/**\r\n * Add a comma each three digit.\r\n */\r\n\r\nexport function addCommas(x) {\r\n  if (!isNumeric(x)) {\r\n    return zrUtil.isString(x) ? x : '-';\r\n  }\r\n\r\n  var parts = (x + '').split('.');\r\n  return parts[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g, '$1,') + (parts.length > 1 ? '.' + parts[1] : '');\r\n}\r\nexport function toCamelCase(str, upperCaseFirst) {\r\n  str = (str || '').toLowerCase().replace(/-(.)/g, function (match, group1) {\r\n    return group1.toUpperCase();\r\n  });\r\n\r\n  if (upperCaseFirst && str) {\r\n    str = str.charAt(0).toUpperCase() + str.slice(1);\r\n  }\r\n\r\n  return str;\r\n}\r\nexport var normalizeCssArray = zrUtil.normalizeCssArray;\r\nexport { encodeHTML };\r\n/**\r\n * Make value user readable for tooltip and label.\r\n * \"User readable\":\r\n *     Try to not print programmer-specific text like NaN, Infinity, null, undefined.\r\n *     Avoid to display an empty string, which users can not recognize there is\r\n *     a value and it might look like a bug.\r\n */\r\n\r\nexport function makeValueReadable(value, valueType, useUTC) {\r\n  var USER_READABLE_DEFUALT_TIME_PATTERN = '{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}';\r\n\r\n  function stringToUserReadable(str) {\r\n    return str && zrUtil.trim(str) ? str : '-';\r\n  }\r\n\r\n  function isNumberUserReadable(num) {\r\n    return !!(num != null && !isNaN(num) && isFinite(num));\r\n  }\r\n\r\n  var isTypeTime = valueType === 'time';\r\n  var isValueDate = value instanceof Date;\r\n\r\n  if (isTypeTime || isValueDate) {\r\n    var date = isTypeTime ? parseDate(value) : value;\r\n\r\n    if (!isNaN(+date)) {\r\n      return timeFormat(date, USER_READABLE_DEFUALT_TIME_PATTERN, useUTC);\r\n    } else if (isValueDate) {\r\n      return '-';\r\n    } // In other cases, continue to try to display the value in the following code.\r\n\r\n  }\r\n\r\n  if (valueType === 'ordinal') {\r\n    return zrUtil.isStringSafe(value) ? stringToUserReadable(value) : zrUtil.isNumber(value) ? isNumberUserReadable(value) ? value + '' : '-' : '-';\r\n  } // By default.\r\n\r\n\r\n  var numericResult = numericToNumber(value);\r\n  return isNumberUserReadable(numericResult) ? addCommas(numericResult) : zrUtil.isStringSafe(value) ? stringToUserReadable(value) : typeof value === 'boolean' ? value + '' : '-';\r\n}\r\nvar TPL_VAR_ALIAS = ['a', 'b', 'c', 'd', 'e', 'f', 'g'];\r\n\r\nvar wrapVar = function (varName, seriesIdx) {\r\n  return '{' + varName + (seriesIdx == null ? '' : seriesIdx) + '}';\r\n};\r\n/**\r\n * Template formatter\r\n * @param {Array.<Object>|Object} paramsList\r\n */\r\n\r\n\r\nexport function formatTpl(tpl, paramsList, encode) {\r\n  if (!zrUtil.isArray(paramsList)) {\r\n    paramsList = [paramsList];\r\n  }\r\n\r\n  var seriesLen = paramsList.length;\r\n\r\n  if (!seriesLen) {\r\n    return '';\r\n  }\r\n\r\n  var $vars = paramsList[0].$vars || [];\r\n\r\n  for (var i = 0; i < $vars.length; i++) {\r\n    var alias = TPL_VAR_ALIAS[i];\r\n    tpl = tpl.replace(wrapVar(alias), wrapVar(alias, 0));\r\n  }\r\n\r\n  for (var seriesIdx = 0; seriesIdx < seriesLen; seriesIdx++) {\r\n    for (var k = 0; k < $vars.length; k++) {\r\n      var val = paramsList[seriesIdx][$vars[k]];\r\n      tpl = tpl.replace(wrapVar(TPL_VAR_ALIAS[k], seriesIdx), encode ? encodeHTML(val) : val);\r\n    }\r\n  }\r\n\r\n  return tpl;\r\n}\r\n/**\r\n * simple Template formatter\r\n */\r\n\r\nexport function formatTplSimple(tpl, param, encode) {\r\n  zrUtil.each(param, function (value, key) {\r\n    tpl = tpl.replace('{' + key + '}', encode ? encodeHTML(value) : value);\r\n  });\r\n  return tpl;\r\n}\r\nexport function getTooltipMarker(inOpt, extraCssText) {\r\n  var opt = zrUtil.isString(inOpt) ? {\r\n    color: inOpt,\r\n    extraCssText: extraCssText\r\n  } : inOpt || {};\r\n  var color = opt.color;\r\n  var type = opt.type;\r\n  extraCssText = opt.extraCssText;\r\n  var renderMode = opt.renderMode || 'html';\r\n\r\n  if (!color) {\r\n    return '';\r\n  }\r\n\r\n  if (renderMode === 'html') {\r\n    return type === 'subItem' ? '<span style=\"display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;' + 'border-radius:4px;width:4px;height:4px;background-color:' // Only support string\r\n    + encodeHTML(color) + ';' + (extraCssText || '') + '\"></span>' : '<span style=\"display:inline-block;margin-right:4px;' + 'border-radius:10px;width:10px;height:10px;background-color:' + encodeHTML(color) + ';' + (extraCssText || '') + '\"></span>';\r\n  } else {\r\n    // Should better not to auto generate style name by auto-increment number here.\r\n    // Because this util is usually called in tooltip formatter, which is probably\r\n    // called repeatedly when mouse move and the auto-increment number increases fast.\r\n    // Users can make their own style name by theirselves, make it unique and readable.\r\n    var markerId = opt.markerId || 'markerX';\r\n    return {\r\n      renderMode: renderMode,\r\n      content: '{' + markerId + '|}  ',\r\n      style: type === 'subItem' ? {\r\n        width: 4,\r\n        height: 4,\r\n        borderRadius: 2,\r\n        backgroundColor: color\r\n      } : {\r\n        width: 10,\r\n        height: 10,\r\n        borderRadius: 5,\r\n        backgroundColor: color\r\n      }\r\n    };\r\n  }\r\n}\r\n/**\r\n * @deprecated Use `time/format` instead.\r\n * ISO Date format\r\n * @param {string} tpl\r\n * @param {number} value\r\n * @param {boolean} [isUTC=false] Default in local time.\r\n *           see `module:echarts/scale/Time`\r\n *           and `module:echarts/util/number#parseDate`.\r\n * @inner\r\n */\r\n\r\nexport function formatTime(tpl, value, isUTC) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    deprecateReplaceLog('echarts.format.formatTime', 'echarts.time.format');\r\n  }\r\n\r\n  if (tpl === 'week' || tpl === 'month' || tpl === 'quarter' || tpl === 'half-year' || tpl === 'year') {\r\n    tpl = 'MM-dd\\nyyyy';\r\n  }\r\n\r\n  var date = parseDate(value);\r\n  var getUTC = isUTC ? 'getUTC' : 'get';\r\n  var y = date[getUTC + 'FullYear']();\r\n  var M = date[getUTC + 'Month']() + 1;\r\n  var d = date[getUTC + 'Date']();\r\n  var h = date[getUTC + 'Hours']();\r\n  var m = date[getUTC + 'Minutes']();\r\n  var s = date[getUTC + 'Seconds']();\r\n  var S = date[getUTC + 'Milliseconds']();\r\n  tpl = tpl.replace('MM', pad(M, 2)).replace('M', M).replace('yyyy', y).replace('yy', pad(y % 100 + '', 2)).replace('dd', pad(d, 2)).replace('d', d).replace('hh', pad(h, 2)).replace('h', h).replace('mm', pad(m, 2)).replace('m', m).replace('ss', pad(s, 2)).replace('s', s).replace('SSS', pad(S, 3));\r\n  return tpl;\r\n}\r\n/**\r\n * Capital first\r\n * @param {string} str\r\n * @return {string}\r\n */\r\n\r\nexport function capitalFirst(str) {\r\n  return str ? str.charAt(0).toUpperCase() + str.substr(1) : str;\r\n}\r\n/**\r\n * @return Never be null/undefined.\r\n */\r\n\r\nexport function convertToColorString(color, defaultColor) {\r\n  defaultColor = defaultColor || 'transparent';\r\n  return zrUtil.isString(color) ? color : zrUtil.isObject(color) ? color.colorStops && (color.colorStops[0] || {}).color || defaultColor : defaultColor;\r\n}\r\nexport { truncateText } from 'zrender/lib/graphic/helper/parseText.js';\r\n/**\r\n * open new tab\r\n * @param link url\r\n * @param target blank or self\r\n */\r\n\r\nexport function windowOpen(link, target) {\r\n  /* global window */\r\n  if (target === '_blank' || target === 'blank') {\r\n    var blank = window.open();\r\n    blank.opener = null;\r\n    blank.location.href = link;\r\n  } else {\r\n    window.open(link, target);\r\n  }\r\n}\r\nexport { getTextRect } from '../legacy/getTextRect.js';", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n// Layout helpers for each component positioning\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\r\nimport { parsePercent } from './number.js';\r\nimport * as formatUtil from './format.js';\r\nvar each = zrUtil.each;\r\n/**\r\n * @public\r\n */\r\n\r\nexport var LOCATION_PARAMS = ['left', 'right', 'top', 'bottom', 'width', 'height'];\r\n/**\r\n * @public\r\n */\r\n\r\nexport var HV_NAMES = [['width', 'left', 'right'], ['height', 'top', 'bottom']];\r\n\r\nfunction boxLayout(orient, group, gap, maxWidth, maxHeight) {\r\n  var x = 0;\r\n  var y = 0;\r\n\r\n  if (maxWidth == null) {\r\n    maxWidth = Infinity;\r\n  }\r\n\r\n  if (maxHeight == null) {\r\n    maxHeight = Infinity;\r\n  }\r\n\r\n  var currentLineMaxSize = 0;\r\n  group.eachChild(function (child, idx) {\r\n    var rect = child.getBoundingRect();\r\n    var nextChild = group.childAt(idx + 1);\r\n    var nextChildRect = nextChild && nextChild.getBoundingRect();\r\n    var nextX;\r\n    var nextY;\r\n\r\n    if (orient === 'horizontal') {\r\n      var moveX = rect.width + (nextChildRect ? -nextChildRect.x + rect.x : 0);\r\n      nextX = x + moveX; // Wrap when width exceeds maxWidth or meet a `newline` group\r\n      // FIXME compare before adding gap?\r\n\r\n      if (nextX > maxWidth || child.newline) {\r\n        x = 0;\r\n        nextX = moveX;\r\n        y += currentLineMaxSize + gap;\r\n        currentLineMaxSize = rect.height;\r\n      } else {\r\n        // FIXME: consider rect.y is not `0`?\r\n        currentLineMaxSize = Math.max(currentLineMaxSize, rect.height);\r\n      }\r\n    } else {\r\n      var moveY = rect.height + (nextChildRect ? -nextChildRect.y + rect.y : 0);\r\n      nextY = y + moveY; // Wrap when width exceeds maxHeight or meet a `newline` group\r\n\r\n      if (nextY > maxHeight || child.newline) {\r\n        x += currentLineMaxSize + gap;\r\n        y = 0;\r\n        nextY = moveY;\r\n        currentLineMaxSize = rect.width;\r\n      } else {\r\n        currentLineMaxSize = Math.max(currentLineMaxSize, rect.width);\r\n      }\r\n    }\r\n\r\n    if (child.newline) {\r\n      return;\r\n    }\r\n\r\n    child.x = x;\r\n    child.y = y;\r\n    child.markRedraw();\r\n    orient === 'horizontal' ? x = nextX + gap : y = nextY + gap;\r\n  });\r\n}\r\n/**\r\n * VBox or HBox layouting\r\n * @param {string} orient\r\n * @param {module:zrender/graphic/Group} group\r\n * @param {number} gap\r\n * @param {number} [width=Infinity]\r\n * @param {number} [height=Infinity]\r\n */\r\n\r\n\r\nexport var box = boxLayout;\r\n/**\r\n * VBox layouting\r\n * @param {module:zrender/graphic/Group} group\r\n * @param {number} gap\r\n * @param {number} [width=Infinity]\r\n * @param {number} [height=Infinity]\r\n */\r\n\r\nexport var vbox = zrUtil.curry(boxLayout, 'vertical');\r\n/**\r\n * HBox layouting\r\n * @param {module:zrender/graphic/Group} group\r\n * @param {number} gap\r\n * @param {number} [width=Infinity]\r\n * @param {number} [height=Infinity]\r\n */\r\n\r\nexport var hbox = zrUtil.curry(boxLayout, 'horizontal');\r\n/**\r\n * If x or x2 is not specified or 'center' 'left' 'right',\r\n * the width would be as long as possible.\r\n * If y or y2 is not specified or 'middle' 'top' 'bottom',\r\n * the height would be as long as possible.\r\n */\r\n\r\nexport function getAvailableSize(positionInfo, containerRect, margin) {\r\n  var containerWidth = containerRect.width;\r\n  var containerHeight = containerRect.height;\r\n  var x = parsePercent(positionInfo.left, containerWidth);\r\n  var y = parsePercent(positionInfo.top, containerHeight);\r\n  var x2 = parsePercent(positionInfo.right, containerWidth);\r\n  var y2 = parsePercent(positionInfo.bottom, containerHeight);\r\n  (isNaN(x) || isNaN(parseFloat(positionInfo.left))) && (x = 0);\r\n  (isNaN(x2) || isNaN(parseFloat(positionInfo.right))) && (x2 = containerWidth);\r\n  (isNaN(y) || isNaN(parseFloat(positionInfo.top))) && (y = 0);\r\n  (isNaN(y2) || isNaN(parseFloat(positionInfo.bottom))) && (y2 = containerHeight);\r\n  margin = formatUtil.normalizeCssArray(margin || 0);\r\n  return {\r\n    width: Math.max(x2 - x - margin[1] - margin[3], 0),\r\n    height: Math.max(y2 - y - margin[0] - margin[2], 0)\r\n  };\r\n}\r\n/**\r\n * Parse position info.\r\n */\r\n\r\nexport function getLayoutRect(positionInfo, containerRect, margin) {\r\n  margin = formatUtil.normalizeCssArray(margin || 0);\r\n  var containerWidth = containerRect.width;\r\n  var containerHeight = containerRect.height;\r\n  var left = parsePercent(positionInfo.left, containerWidth);\r\n  var top = parsePercent(positionInfo.top, containerHeight);\r\n  var right = parsePercent(positionInfo.right, containerWidth);\r\n  var bottom = parsePercent(positionInfo.bottom, containerHeight);\r\n  var width = parsePercent(positionInfo.width, containerWidth);\r\n  var height = parsePercent(positionInfo.height, containerHeight);\r\n  var verticalMargin = margin[2] + margin[0];\r\n  var horizontalMargin = margin[1] + margin[3];\r\n  var aspect = positionInfo.aspect; // If width is not specified, calculate width from left and right\r\n\r\n  if (isNaN(width)) {\r\n    width = containerWidth - right - horizontalMargin - left;\r\n  }\r\n\r\n  if (isNaN(height)) {\r\n    height = containerHeight - bottom - verticalMargin - top;\r\n  }\r\n\r\n  if (aspect != null) {\r\n    // If width and height are not given\r\n    // 1. Graph should not exceeds the container\r\n    // 2. Aspect must be keeped\r\n    // 3. Graph should take the space as more as possible\r\n    // FIXME\r\n    // Margin is not considered, because there is no case that both\r\n    // using margin and aspect so far.\r\n    if (isNaN(width) && isNaN(height)) {\r\n      if (aspect > containerWidth / containerHeight) {\r\n        width = containerWidth * 0.8;\r\n      } else {\r\n        height = containerHeight * 0.8;\r\n      }\r\n    } // Calculate width or height with given aspect\r\n\r\n\r\n    if (isNaN(width)) {\r\n      width = aspect * height;\r\n    }\r\n\r\n    if (isNaN(height)) {\r\n      height = width / aspect;\r\n    }\r\n  } // If left is not specified, calculate left from right and width\r\n\r\n\r\n  if (isNaN(left)) {\r\n    left = containerWidth - right - width - horizontalMargin;\r\n  }\r\n\r\n  if (isNaN(top)) {\r\n    top = containerHeight - bottom - height - verticalMargin;\r\n  } // Align left and top\r\n\r\n\r\n  switch (positionInfo.left || positionInfo.right) {\r\n    case 'center':\r\n      left = containerWidth / 2 - width / 2 - margin[3];\r\n      break;\r\n\r\n    case 'right':\r\n      left = containerWidth - width - horizontalMargin;\r\n      break;\r\n  }\r\n\r\n  switch (positionInfo.top || positionInfo.bottom) {\r\n    case 'middle':\r\n    case 'center':\r\n      top = containerHeight / 2 - height / 2 - margin[0];\r\n      break;\r\n\r\n    case 'bottom':\r\n      top = containerHeight - height - verticalMargin;\r\n      break;\r\n  } // If something is wrong and left, top, width, height are calculated as NaN\r\n\r\n\r\n  left = left || 0;\r\n  top = top || 0;\r\n\r\n  if (isNaN(width)) {\r\n    // Width may be NaN if only one value is given except width\r\n    width = containerWidth - horizontalMargin - left - (right || 0);\r\n  }\r\n\r\n  if (isNaN(height)) {\r\n    // Height may be NaN if only one value is given except height\r\n    height = containerHeight - verticalMargin - top - (bottom || 0);\r\n  }\r\n\r\n  var rect = new BoundingRect(left + margin[3], top + margin[0], width, height);\r\n  rect.margin = margin;\r\n  return rect;\r\n}\r\n/**\r\n * Position a zr element in viewport\r\n *  Group position is specified by either\r\n *  {left, top}, {right, bottom}\r\n *  If all properties exists, right and bottom will be igonred.\r\n *\r\n * Logic:\r\n *     1. Scale (against origin point in parent coord)\r\n *     2. Rotate (against origin point in parent coord)\r\n *     3. Translate (with el.position by this method)\r\n * So this method only fixes the last step 'Translate', which does not affect\r\n * scaling and rotating.\r\n *\r\n * If be called repeatedly with the same input el, the same result will be gotten.\r\n *\r\n * Return true if the layout happened.\r\n *\r\n * @param el Should have `getBoundingRect` method.\r\n * @param positionInfo\r\n * @param positionInfo.left\r\n * @param positionInfo.top\r\n * @param positionInfo.right\r\n * @param positionInfo.bottom\r\n * @param positionInfo.width Only for opt.boundingModel: 'raw'\r\n * @param positionInfo.height Only for opt.boundingModel: 'raw'\r\n * @param containerRect\r\n * @param margin\r\n * @param opt\r\n * @param opt.hv Only horizontal or only vertical. Default to be [1, 1]\r\n * @param opt.boundingMode\r\n *        Specify how to calculate boundingRect when locating.\r\n *        'all': Position the boundingRect that is transformed and uioned\r\n *               both itself and its descendants.\r\n *               This mode simplies confine the elements in the bounding\r\n *               of their container (e.g., using 'right: 0').\r\n *        'raw': Position the boundingRect that is not transformed and only itself.\r\n *               This mode is useful when you want a element can overflow its\r\n *               container. (Consider a rotated circle needs to be located in a corner.)\r\n *               In this mode positionInfo.width/height can only be number.\r\n */\r\n\r\nexport function positionElement(el, positionInfo, containerRect, margin, opt, out) {\r\n  var h = !opt || !opt.hv || opt.hv[0];\r\n  var v = !opt || !opt.hv || opt.hv[1];\r\n  var boundingMode = opt && opt.boundingMode || 'all';\r\n  out = out || el;\r\n  out.x = el.x;\r\n  out.y = el.y;\r\n\r\n  if (!h && !v) {\r\n    return false;\r\n  }\r\n\r\n  var rect;\r\n\r\n  if (boundingMode === 'raw') {\r\n    rect = el.type === 'group' ? new BoundingRect(0, 0, +positionInfo.width || 0, +positionInfo.height || 0) : el.getBoundingRect();\r\n  } else {\r\n    rect = el.getBoundingRect();\r\n\r\n    if (el.needLocalTransform()) {\r\n      var transform = el.getLocalTransform(); // Notice: raw rect may be inner object of el,\r\n      // which should not be modified.\r\n\r\n      rect = rect.clone();\r\n      rect.applyTransform(transform);\r\n    }\r\n  } // The real width and height can not be specified but calculated by the given el.\r\n\r\n\r\n  var layoutRect = getLayoutRect(zrUtil.defaults({\r\n    width: rect.width,\r\n    height: rect.height\r\n  }, positionInfo), containerRect, margin); // Because 'tranlate' is the last step in transform\r\n  // (see zrender/core/Transformable#getLocalTransform),\r\n  // we can just only modify el.position to get final result.\r\n\r\n  var dx = h ? layoutRect.x - rect.x : 0;\r\n  var dy = v ? layoutRect.y - rect.y : 0;\r\n\r\n  if (boundingMode === 'raw') {\r\n    out.x = dx;\r\n    out.y = dy;\r\n  } else {\r\n    out.x += dx;\r\n    out.y += dy;\r\n  }\r\n\r\n  if (out === el) {\r\n    el.markRedraw();\r\n  }\r\n\r\n  return true;\r\n}\r\n/**\r\n * @param option Contains some of the properties in HV_NAMES.\r\n * @param hvIdx 0: horizontal; 1: vertical.\r\n */\r\n\r\nexport function sizeCalculable(option, hvIdx) {\r\n  return option[HV_NAMES[hvIdx][0]] != null || option[HV_NAMES[hvIdx][1]] != null && option[HV_NAMES[hvIdx][2]] != null;\r\n}\r\nexport function fetchLayoutMode(ins) {\r\n  var layoutMode = ins.layoutMode || ins.constructor.layoutMode;\r\n  return zrUtil.isObject(layoutMode) ? layoutMode : layoutMode ? {\r\n    type: layoutMode\r\n  } : null;\r\n}\r\n/**\r\n * Consider Case:\r\n * When default option has {left: 0, width: 100}, and we set {right: 0}\r\n * through setOption or media query, using normal zrUtil.merge will cause\r\n * {right: 0} does not take effect.\r\n *\r\n * @example\r\n * ComponentModel.extend({\r\n *     init: function () {\r\n *         ...\r\n *         let inputPositionParams = layout.getLayoutParams(option);\r\n *         this.mergeOption(inputPositionParams);\r\n *     },\r\n *     mergeOption: function (newOption) {\r\n *         newOption && zrUtil.merge(thisOption, newOption, true);\r\n *         layout.mergeLayoutParam(thisOption, newOption);\r\n *     }\r\n * });\r\n *\r\n * @param targetOption\r\n * @param newOption\r\n * @param opt\r\n */\r\n\r\nexport function mergeLayoutParam(targetOption, newOption, opt) {\r\n  var ignoreSize = opt && opt.ignoreSize;\r\n  !zrUtil.isArray(ignoreSize) && (ignoreSize = [ignoreSize, ignoreSize]);\r\n  var hResult = merge(HV_NAMES[0], 0);\r\n  var vResult = merge(HV_NAMES[1], 1);\r\n  copy(HV_NAMES[0], targetOption, hResult);\r\n  copy(HV_NAMES[1], targetOption, vResult);\r\n\r\n  function merge(names, hvIdx) {\r\n    var newParams = {};\r\n    var newValueCount = 0;\r\n    var merged = {};\r\n    var mergedValueCount = 0;\r\n    var enoughParamNumber = 2;\r\n    each(names, function (name) {\r\n      merged[name] = targetOption[name];\r\n    });\r\n    each(names, function (name) {\r\n      // Consider case: newOption.width is null, which is\r\n      // set by user for removing width setting.\r\n      hasProp(newOption, name) && (newParams[name] = merged[name] = newOption[name]);\r\n      hasValue(newParams, name) && newValueCount++;\r\n      hasValue(merged, name) && mergedValueCount++;\r\n    });\r\n\r\n    if (ignoreSize[hvIdx]) {\r\n      // Only one of left/right is premitted to exist.\r\n      if (hasValue(newOption, names[1])) {\r\n        merged[names[2]] = null;\r\n      } else if (hasValue(newOption, names[2])) {\r\n        merged[names[1]] = null;\r\n      }\r\n\r\n      return merged;\r\n    } // Case: newOption: {width: ..., right: ...},\r\n    // or targetOption: {right: ...} and newOption: {width: ...},\r\n    // There is no conflict when merged only has params count\r\n    // little than enoughParamNumber.\r\n\r\n\r\n    if (mergedValueCount === enoughParamNumber || !newValueCount) {\r\n      return merged;\r\n    } // Case: newOption: {width: ..., right: ...},\r\n    // Than we can make sure user only want those two, and ignore\r\n    // all origin params in targetOption.\r\n    else if (newValueCount >= enoughParamNumber) {\r\n        return newParams;\r\n      } else {\r\n        // Chose another param from targetOption by priority.\r\n        for (var i = 0; i < names.length; i++) {\r\n          var name_1 = names[i];\r\n\r\n          if (!hasProp(newParams, name_1) && hasProp(targetOption, name_1)) {\r\n            newParams[name_1] = targetOption[name_1];\r\n            break;\r\n          }\r\n        }\r\n\r\n        return newParams;\r\n      }\r\n  }\r\n\r\n  function hasProp(obj, name) {\r\n    return obj.hasOwnProperty(name);\r\n  }\r\n\r\n  function hasValue(obj, name) {\r\n    return obj[name] != null && obj[name] !== 'auto';\r\n  }\r\n\r\n  function copy(names, target, source) {\r\n    each(names, function (name) {\r\n      target[name] = source[name];\r\n    });\r\n  }\r\n}\r\n/**\r\n * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\r\n */\r\n\r\nexport function getLayoutParams(source) {\r\n  return copyLayoutParams({}, source);\r\n}\r\n/**\r\n * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\r\n * @param {Object} source\r\n * @return {Object} Result contains those props.\r\n */\r\n\r\nexport function copyLayoutParams(target, source) {\r\n  source && target && each(LOCATION_PARAMS, function (name) {\r\n    source.hasOwnProperty(name) && (target[name] = source[name]);\r\n  });\r\n  return target;\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport Model from './Model.js';\r\nimport * as componentUtil from '../util/component.js';\r\nimport { enableClassManagement, parseClassType, isExtendedClass, mountExtend } from '../util/clazz.js';\r\nimport { makeInner, queryReferringComponents } from '../util/model.js';\r\nimport * as layout from '../util/layout.js';\r\nvar inner = makeInner();\r\n\r\nvar ComponentModel =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(ComponentModel, _super);\r\n\r\n  function ComponentModel(option, parentModel, ecModel) {\r\n    var _this = _super.call(this, option, parentModel, ecModel) || this;\r\n\r\n    _this.uid = componentUtil.getUID('ec_cpt_model');\r\n    return _this;\r\n  }\r\n\r\n  ComponentModel.prototype.init = function (option, parentModel, ecModel) {\r\n    this.mergeDefaultAndTheme(option, ecModel);\r\n  };\r\n\r\n  ComponentModel.prototype.mergeDefaultAndTheme = function (option, ecModel) {\r\n    var layoutMode = layout.fetchLayoutMode(this);\r\n    var inputPositionParams = layoutMode ? layout.getLayoutParams(option) : {};\r\n    var themeModel = ecModel.getTheme();\r\n    zrUtil.merge(option, themeModel.get(this.mainType));\r\n    zrUtil.merge(option, this.getDefaultOption());\r\n\r\n    if (layoutMode) {\r\n      layout.mergeLayoutParam(option, inputPositionParams, layoutMode);\r\n    }\r\n  };\r\n\r\n  ComponentModel.prototype.mergeOption = function (option, ecModel) {\r\n    zrUtil.merge(this.option, option, true);\r\n    var layoutMode = layout.fetchLayoutMode(this);\r\n\r\n    if (layoutMode) {\r\n      layout.mergeLayoutParam(this.option, option, layoutMode);\r\n    }\r\n  };\r\n  /**\r\n   * Called immediately after `init` or `mergeOption` of this instance called.\r\n   */\r\n\r\n\r\n  ComponentModel.prototype.optionUpdated = function (newCptOption, isInit) {};\r\n  /**\r\n   * [How to declare defaultOption]:\r\n   *\r\n   * (A) If using class declaration in typescript (since echarts 5):\r\n   * ```ts\r\n   * import {ComponentOption} from '../model/option.js';\r\n   * export interface XxxOption extends ComponentOption {\r\n   *     aaa: number\r\n   * }\r\n   * export class XxxModel extends Component {\r\n   *     static type = 'xxx';\r\n   *     static defaultOption: XxxOption = {\r\n   *         aaa: 123\r\n   *     }\r\n   * }\r\n   * Component.registerClass(XxxModel);\r\n   * ```\r\n   * ```ts\r\n   * import {inheritDefaultOption} from '../util/component.js';\r\n   * import {XxxModel, XxxOption} from './XxxModel.js';\r\n   * export interface XxxSubOption extends XxxOption {\r\n   *     bbb: number\r\n   * }\r\n   * class XxxSubModel extends XxxModel {\r\n   *     static defaultOption: XxxSubOption = inheritDefaultOption(XxxModel.defaultOption, {\r\n   *         bbb: 456\r\n   *     })\r\n   *     fn() {\r\n   *         let opt = this.getDefaultOption();\r\n   *         // opt is {aaa: 123, bbb: 456}\r\n   *     }\r\n   * }\r\n   * ```\r\n   *\r\n   * (B) If using class extend (previous approach in echarts 3 & 4):\r\n   * ```js\r\n   * let XxxComponent = Component.extend({\r\n   *     defaultOption: {\r\n   *         xx: 123\r\n   *     }\r\n   * })\r\n   * ```\r\n   * ```js\r\n   * let XxxSubComponent = XxxComponent.extend({\r\n   *     defaultOption: {\r\n   *         yy: 456\r\n   *     },\r\n   *     fn: function () {\r\n   *         let opt = this.getDefaultOption();\r\n   *         // opt is {xx: 123, yy: 456}\r\n   *     }\r\n   * })\r\n   * ```\r\n   */\r\n\r\n\r\n  ComponentModel.prototype.getDefaultOption = function () {\r\n    var ctor = this.constructor; // If using class declaration, it is different to travel super class\r\n    // in legacy env and auto merge defaultOption. So if using class\r\n    // declaration, defaultOption should be merged manually.\r\n\r\n    if (!isExtendedClass(ctor)) {\r\n      // When using ts class, defaultOption must be declared as static.\r\n      return ctor.defaultOption;\r\n    } // FIXME: remove this approach?\r\n\r\n\r\n    var fields = inner(this);\r\n\r\n    if (!fields.defaultOption) {\r\n      var optList = [];\r\n      var clz = ctor;\r\n\r\n      while (clz) {\r\n        var opt = clz.prototype.defaultOption;\r\n        opt && optList.push(opt);\r\n        clz = clz.superClass;\r\n      }\r\n\r\n      var defaultOption = {};\r\n\r\n      for (var i = optList.length - 1; i >= 0; i--) {\r\n        defaultOption = zrUtil.merge(defaultOption, optList[i], true);\r\n      }\r\n\r\n      fields.defaultOption = defaultOption;\r\n    }\r\n\r\n    return fields.defaultOption;\r\n  };\r\n  /**\r\n   * Notice: always force to input param `useDefault` in case that forget to consider it.\r\n   * The same behavior as `modelUtil.parseFinder`.\r\n   *\r\n   * @param useDefault In many cases like series refer axis and axis refer grid,\r\n   *        If axis index / axis id not specified, use the first target as default.\r\n   *        In other cases like dataZoom refer axis, if not specified, measn no refer.\r\n   */\r\n\r\n\r\n  ComponentModel.prototype.getReferringComponents = function (mainType, opt) {\r\n    var indexKey = mainType + 'Index';\r\n    var idKey = mainType + 'Id';\r\n    return queryReferringComponents(this.ecModel, mainType, {\r\n      index: this.get(indexKey, true),\r\n      id: this.get(idKey, true)\r\n    }, opt);\r\n  };\r\n\r\n  ComponentModel.prototype.getBoxLayoutParams = function () {\r\n    // Consider itself having box layout configs.\r\n    var boxLayoutModel = this;\r\n    return {\r\n      left: boxLayoutModel.get('left'),\r\n      top: boxLayoutModel.get('top'),\r\n      right: boxLayoutModel.get('right'),\r\n      bottom: boxLayoutModel.get('bottom'),\r\n      width: boxLayoutModel.get('width'),\r\n      height: boxLayoutModel.get('height')\r\n    };\r\n  };\r\n  /**\r\n   * Get key for zlevel.\r\n   * If developers don't configure zlevel. We will assign zlevel to series based on the key.\r\n   * For example, lines with trail effect and progressive series will in an individual zlevel.\r\n   */\r\n\r\n\r\n  ComponentModel.prototype.getZLevelKey = function () {\r\n    return '';\r\n  };\r\n\r\n  ComponentModel.prototype.setZLevel = function (zlevel) {\r\n    this.option.zlevel = zlevel;\r\n  };\r\n\r\n  ComponentModel.protoInitialize = function () {\r\n    var proto = ComponentModel.prototype;\r\n    proto.type = 'component';\r\n    proto.id = '';\r\n    proto.name = '';\r\n    proto.mainType = '';\r\n    proto.subType = '';\r\n    proto.componentIndex = 0;\r\n  }();\r\n\r\n  return ComponentModel;\r\n}(Model);\r\n\r\nmountExtend(ComponentModel, Model);\r\nenableClassManagement(ComponentModel);\r\ncomponentUtil.enableSubTypeDefaulter(ComponentModel);\r\ncomponentUtil.enableTopologicalTravel(ComponentModel, getDependencies);\r\n\r\nfunction getDependencies(componentType) {\r\n  var deps = [];\r\n  zrUtil.each(ComponentModel.getClassesByMainType(componentType), function (clz) {\r\n    deps = deps.concat(clz.dependencies || clz.prototype.dependencies || []);\r\n  }); // Ensure main type.\r\n\r\n  deps = zrUtil.map(deps, function (type) {\r\n    return parseClassType(type).main;\r\n  }); // Hack dataset for convenience.\r\n\r\n  if (componentType !== 'dataset' && zrUtil.indexOf(deps, 'dataset') <= 0) {\r\n    deps.unshift('dataset');\r\n  }\r\n\r\n  return deps;\r\n}\r\n\r\nexport default ComponentModel;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { makeInner, normalizeToArray } from '../../util/model.js';\r\nvar innerColor = makeInner();\r\nvar innerDecal = makeInner();\r\n\r\nvar PaletteMixin =\r\n/** @class */\r\nfunction () {\r\n  function PaletteMixin() {}\r\n\r\n  PaletteMixin.prototype.getColorFromPalette = function (name, scope, requestNum) {\r\n    var defaultPalette = normalizeToArray(this.get('color', true));\r\n    var layeredPalette = this.get('colorLayer', true);\r\n    return getFromPalette(this, innerColor, defaultPalette, layeredPalette, name, scope, requestNum);\r\n  };\r\n\r\n  PaletteMixin.prototype.clearColorPalette = function () {\r\n    clearPalette(this, innerColor);\r\n  };\r\n\r\n  return PaletteMixin;\r\n}();\r\n\r\nexport function getDecalFromPalette(ecModel, name, scope, requestNum) {\r\n  var defaultDecals = normalizeToArray(ecModel.get(['aria', 'decal', 'decals']));\r\n  return getFromPalette(ecModel, innerDecal, defaultDecals, null, name, scope, requestNum);\r\n}\r\n\r\nfunction getNearestPalette(palettes, requestColorNum) {\r\n  var paletteNum = palettes.length; // TODO palettes must be in order\r\n\r\n  for (var i = 0; i < paletteNum; i++) {\r\n    if (palettes[i].length > requestColorNum) {\r\n      return palettes[i];\r\n    }\r\n  }\r\n\r\n  return palettes[paletteNum - 1];\r\n}\r\n/**\r\n * @param name MUST NOT be null/undefined. Otherwise call this function\r\n *             twise with the same parameters will get different result.\r\n * @param scope default this.\r\n * @return Can be null/undefined\r\n */\r\n\r\n\r\nfunction getFromPalette(that, inner, defaultPalette, layeredPalette, name, scope, requestNum) {\r\n  scope = scope || that;\r\n  var scopeFields = inner(scope);\r\n  var paletteIdx = scopeFields.paletteIdx || 0;\r\n  var paletteNameMap = scopeFields.paletteNameMap = scopeFields.paletteNameMap || {}; // Use `hasOwnProperty` to avoid conflict with Object.prototype.\r\n\r\n  if (paletteNameMap.hasOwnProperty(name)) {\r\n    return paletteNameMap[name];\r\n  }\r\n\r\n  var palette = requestNum == null || !layeredPalette ? defaultPalette : getNearestPalette(layeredPalette, requestNum); // In case can't find in layered color palette.\r\n\r\n  palette = palette || defaultPalette;\r\n\r\n  if (!palette || !palette.length) {\r\n    return;\r\n  }\r\n\r\n  var pickedPaletteItem = palette[paletteIdx];\r\n\r\n  if (name) {\r\n    paletteNameMap[name] = pickedPaletteItem;\r\n  }\r\n\r\n  scopeFields.paletteIdx = (paletteIdx + 1) % palette.length;\r\n  return pickedPaletteItem;\r\n}\r\n\r\nfunction clearPalette(that, inner) {\r\n  inner(that).paletteIdx = 0;\r\n  inner(that).paletteNameMap = {};\r\n}\r\n\r\nexport { PaletteMixin };", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { createHashMap } from 'zrender/lib/core/util.js';\r\n;\r\n;\r\n;\r\nexport var VISUAL_DIMENSIONS = createHashMap(['tooltip', 'label', 'itemName', 'itemId', 'itemGroupId', 'seriesName']);\r\nexport var SOURCE_FORMAT_ORIGINAL = 'original';\r\nexport var SOURCE_FORMAT_ARRAY_ROWS = 'arrayRows';\r\nexport var SOURCE_FORMAT_OBJECT_ROWS = 'objectRows';\r\nexport var SOURCE_FORMAT_KEYED_COLUMNS = 'keyedColumns';\r\nexport var SOURCE_FORMAT_TYPED_ARRAY = 'typedArray';\r\nexport var SOURCE_FORMAT_UNKNOWN = 'unknown';\r\nexport var SERIES_LAYOUT_BY_COLUMN = 'column';\r\nexport var SERIES_LAYOUT_BY_ROW = 'row';\r\n;\r\n;\r\n;\r\n;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { makeInner, getDataItemValue, queryReferringComponents, SINGLE_REFERRING } from '../../util/model.js';\r\nimport { createHashMap, each, isArray, isString, isObject, isTypedArray } from 'zrender/lib/core/util.js';\r\nimport { SOURCE_FORMAT_ORIGINAL, SOURCE_FORMAT_ARRAY_ROWS, SOURCE_FORMAT_OBJECT_ROWS, SERIES_LAYOUT_BY_ROW, SOURCE_FORMAT_KEYED_COLUMNS } from '../../util/types.js'; // The result of `guessOrdinal`.\r\n\r\nexport var BE_ORDINAL = {\r\n  Must: 1,\r\n  Might: 2,\r\n  Not: 3 // Other cases\r\n\r\n};\r\nvar innerGlobalModel = makeInner();\r\n/**\r\n * MUST be called before mergeOption of all series.\r\n */\r\n\r\nexport function resetSourceDefaulter(ecModel) {\r\n  // `datasetMap` is used to make default encode.\r\n  innerGlobalModel(ecModel).datasetMap = createHashMap();\r\n}\r\n/**\r\n * [The strategy of the arrengment of data dimensions for dataset]:\r\n * \"value way\": all axes are non-category axes. So series one by one take\r\n *     several (the number is coordSysDims.length) dimensions from dataset.\r\n *     The result of data arrengment of data dimensions like:\r\n *     | ser0_x | ser0_y | ser1_x | ser1_y | ser2_x | ser2_y |\r\n * \"category way\": at least one axis is category axis. So the the first data\r\n *     dimension is always mapped to the first category axis and shared by\r\n *     all of the series. The other data dimensions are taken by series like\r\n *     \"value way\" does.\r\n *     The result of data arrengment of data dimensions like:\r\n *     | ser_shared_x | ser0_y | ser1_y | ser2_y |\r\n *\r\n * @return encode Never be `null/undefined`.\r\n */\r\n\r\nexport function makeSeriesEncodeForAxisCoordSys(coordDimensions, seriesModel, source) {\r\n  var encode = {};\r\n  var datasetModel = querySeriesUpstreamDatasetModel(seriesModel); // Currently only make default when using dataset, util more reqirements occur.\r\n\r\n  if (!datasetModel || !coordDimensions) {\r\n    return encode;\r\n  }\r\n\r\n  var encodeItemName = [];\r\n  var encodeSeriesName = [];\r\n  var ecModel = seriesModel.ecModel;\r\n  var datasetMap = innerGlobalModel(ecModel).datasetMap;\r\n  var key = datasetModel.uid + '_' + source.seriesLayoutBy;\r\n  var baseCategoryDimIndex;\r\n  var categoryWayValueDimStart;\r\n  coordDimensions = coordDimensions.slice();\r\n  each(coordDimensions, function (coordDimInfoLoose, coordDimIdx) {\r\n    var coordDimInfo = isObject(coordDimInfoLoose) ? coordDimInfoLoose : coordDimensions[coordDimIdx] = {\r\n      name: coordDimInfoLoose\r\n    };\r\n\r\n    if (coordDimInfo.type === 'ordinal' && baseCategoryDimIndex == null) {\r\n      baseCategoryDimIndex = coordDimIdx;\r\n      categoryWayValueDimStart = getDataDimCountOnCoordDim(coordDimInfo);\r\n    }\r\n\r\n    encode[coordDimInfo.name] = [];\r\n  });\r\n  var datasetRecord = datasetMap.get(key) || datasetMap.set(key, {\r\n    categoryWayDim: categoryWayValueDimStart,\r\n    valueWayDim: 0\r\n  }); // TODO\r\n  // Auto detect first time axis and do arrangement.\r\n\r\n  each(coordDimensions, function (coordDimInfo, coordDimIdx) {\r\n    var coordDimName = coordDimInfo.name;\r\n    var count = getDataDimCountOnCoordDim(coordDimInfo); // In value way.\r\n\r\n    if (baseCategoryDimIndex == null) {\r\n      var start = datasetRecord.valueWayDim;\r\n      pushDim(encode[coordDimName], start, count);\r\n      pushDim(encodeSeriesName, start, count);\r\n      datasetRecord.valueWayDim += count; // ??? TODO give a better default series name rule?\r\n      // especially when encode x y specified.\r\n      // consider: when multiple series share one dimension\r\n      // category axis, series name should better use\r\n      // the other dimension name. On the other hand, use\r\n      // both dimensions name.\r\n    } // In category way, the first category axis.\r\n    else if (baseCategoryDimIndex === coordDimIdx) {\r\n        pushDim(encode[coordDimName], 0, count);\r\n        pushDim(encodeItemName, 0, count);\r\n      } // In category way, the other axis.\r\n      else {\r\n          var start = datasetRecord.categoryWayDim;\r\n          pushDim(encode[coordDimName], start, count);\r\n          pushDim(encodeSeriesName, start, count);\r\n          datasetRecord.categoryWayDim += count;\r\n        }\r\n  });\r\n\r\n  function pushDim(dimIdxArr, idxFrom, idxCount) {\r\n    for (var i = 0; i < idxCount; i++) {\r\n      dimIdxArr.push(idxFrom + i);\r\n    }\r\n  }\r\n\r\n  function getDataDimCountOnCoordDim(coordDimInfo) {\r\n    var dimsDef = coordDimInfo.dimsDef;\r\n    return dimsDef ? dimsDef.length : 1;\r\n  }\r\n\r\n  encodeItemName.length && (encode.itemName = encodeItemName);\r\n  encodeSeriesName.length && (encode.seriesName = encodeSeriesName);\r\n  return encode;\r\n}\r\n/**\r\n * Work for data like [{name: ..., value: ...}, ...].\r\n *\r\n * @return encode Never be `null/undefined`.\r\n */\r\n\r\nexport function makeSeriesEncodeForNameBased(seriesModel, source, dimCount) {\r\n  var encode = {};\r\n  var datasetModel = querySeriesUpstreamDatasetModel(seriesModel); // Currently only make default when using dataset, util more reqirements occur.\r\n\r\n  if (!datasetModel) {\r\n    return encode;\r\n  }\r\n\r\n  var sourceFormat = source.sourceFormat;\r\n  var dimensionsDefine = source.dimensionsDefine;\r\n  var potentialNameDimIndex;\r\n\r\n  if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS || sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS) {\r\n    each(dimensionsDefine, function (dim, idx) {\r\n      if ((isObject(dim) ? dim.name : dim) === 'name') {\r\n        potentialNameDimIndex = idx;\r\n      }\r\n    });\r\n  }\r\n\r\n  var idxResult = function () {\r\n    var idxRes0 = {};\r\n    var idxRes1 = {};\r\n    var guessRecords = []; // 5 is an experience value.\r\n\r\n    for (var i = 0, len = Math.min(5, dimCount); i < len; i++) {\r\n      var guessResult = doGuessOrdinal(source.data, sourceFormat, source.seriesLayoutBy, dimensionsDefine, source.startIndex, i);\r\n      guessRecords.push(guessResult);\r\n      var isPureNumber = guessResult === BE_ORDINAL.Not; // [Strategy of idxRes0]: find the first BE_ORDINAL.Not as the value dim,\r\n      // and then find a name dim with the priority:\r\n      // \"BE_ORDINAL.Might|BE_ORDINAL.Must\" > \"other dim\" > \"the value dim itself\".\r\n\r\n      if (isPureNumber && idxRes0.v == null && i !== potentialNameDimIndex) {\r\n        idxRes0.v = i;\r\n      }\r\n\r\n      if (idxRes0.n == null || idxRes0.n === idxRes0.v || !isPureNumber && guessRecords[idxRes0.n] === BE_ORDINAL.Not) {\r\n        idxRes0.n = i;\r\n      }\r\n\r\n      if (fulfilled(idxRes0) && guessRecords[idxRes0.n] !== BE_ORDINAL.Not) {\r\n        return idxRes0;\r\n      } // [Strategy of idxRes1]: if idxRes0 not satisfied (that is, no BE_ORDINAL.Not),\r\n      // find the first BE_ORDINAL.Might as the value dim,\r\n      // and then find a name dim with the priority:\r\n      // \"other dim\" > \"the value dim itself\".\r\n      // That is for backward compat: number-like (e.g., `'3'`, `'55'`) can be\r\n      // treated as number.\r\n\r\n\r\n      if (!isPureNumber) {\r\n        if (guessResult === BE_ORDINAL.Might && idxRes1.v == null && i !== potentialNameDimIndex) {\r\n          idxRes1.v = i;\r\n        }\r\n\r\n        if (idxRes1.n == null || idxRes1.n === idxRes1.v) {\r\n          idxRes1.n = i;\r\n        }\r\n      }\r\n    }\r\n\r\n    function fulfilled(idxResult) {\r\n      return idxResult.v != null && idxResult.n != null;\r\n    }\r\n\r\n    return fulfilled(idxRes0) ? idxRes0 : fulfilled(idxRes1) ? idxRes1 : null;\r\n  }();\r\n\r\n  if (idxResult) {\r\n    encode.value = [idxResult.v]; // `potentialNameDimIndex` has highest priority.\r\n\r\n    var nameDimIndex = potentialNameDimIndex != null ? potentialNameDimIndex : idxResult.n; // By default, label uses itemName in charts.\r\n    // So we don't set encodeLabel here.\r\n\r\n    encode.itemName = [nameDimIndex];\r\n    encode.seriesName = [nameDimIndex];\r\n  }\r\n\r\n  return encode;\r\n}\r\n/**\r\n * @return If return null/undefined, indicate that should not use datasetModel.\r\n */\r\n\r\nexport function querySeriesUpstreamDatasetModel(seriesModel) {\r\n  // Caution: consider the scenario:\r\n  // A dataset is declared and a series is not expected to use the dataset,\r\n  // and at the beginning `setOption({series: { noData })` (just prepare other\r\n  // option but no data), then `setOption({series: {data: [...]}); In this case,\r\n  // the user should set an empty array to avoid that dataset is used by default.\r\n  var thisData = seriesModel.get('data', true);\r\n\r\n  if (!thisData) {\r\n    return queryReferringComponents(seriesModel.ecModel, 'dataset', {\r\n      index: seriesModel.get('datasetIndex', true),\r\n      id: seriesModel.get('datasetId', true)\r\n    }, SINGLE_REFERRING).models[0];\r\n  }\r\n}\r\n/**\r\n * @return Always return an array event empty.\r\n */\r\n\r\nexport function queryDatasetUpstreamDatasetModels(datasetModel) {\r\n  // Only these attributes declared, we by defualt reference to `datasetIndex: 0`.\r\n  // Otherwise, no reference.\r\n  if (!datasetModel.get('transform', true) && !datasetModel.get('fromTransformResult', true)) {\r\n    return [];\r\n  }\r\n\r\n  return queryReferringComponents(datasetModel.ecModel, 'dataset', {\r\n    index: datasetModel.get('fromDatasetIndex', true),\r\n    id: datasetModel.get('fromDatasetId', true)\r\n  }, SINGLE_REFERRING).models;\r\n}\r\n/**\r\n * The rule should not be complex, otherwise user might not\r\n * be able to known where the data is wrong.\r\n * The code is ugly, but how to make it neat?\r\n */\r\n\r\nexport function guessOrdinal(source, dimIndex) {\r\n  return doGuessOrdinal(source.data, source.sourceFormat, source.seriesLayoutBy, source.dimensionsDefine, source.startIndex, dimIndex);\r\n} // dimIndex may be overflow source data.\r\n// return {BE_ORDINAL}\r\n\r\nfunction doGuessOrdinal(data, sourceFormat, seriesLayoutBy, dimensionsDefine, startIndex, dimIndex) {\r\n  var result; // Experience value.\r\n\r\n  var maxLoop = 5;\r\n\r\n  if (isTypedArray(data)) {\r\n    return BE_ORDINAL.Not;\r\n  } // When sourceType is 'objectRows' or 'keyedColumns', dimensionsDefine\r\n  // always exists in source.\r\n\r\n\r\n  var dimName;\r\n  var dimType;\r\n\r\n  if (dimensionsDefine) {\r\n    var dimDefItem = dimensionsDefine[dimIndex];\r\n\r\n    if (isObject(dimDefItem)) {\r\n      dimName = dimDefItem.name;\r\n      dimType = dimDefItem.type;\r\n    } else if (isString(dimDefItem)) {\r\n      dimName = dimDefItem;\r\n    }\r\n  }\r\n\r\n  if (dimType != null) {\r\n    return dimType === 'ordinal' ? BE_ORDINAL.Must : BE_ORDINAL.Not;\r\n  }\r\n\r\n  if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS) {\r\n    var dataArrayRows = data;\r\n\r\n    if (seriesLayoutBy === SERIES_LAYOUT_BY_ROW) {\r\n      var sample = dataArrayRows[dimIndex];\r\n\r\n      for (var i = 0; i < (sample || []).length && i < maxLoop; i++) {\r\n        if ((result = detectValue(sample[startIndex + i])) != null) {\r\n          return result;\r\n        }\r\n      }\r\n    } else {\r\n      for (var i = 0; i < dataArrayRows.length && i < maxLoop; i++) {\r\n        var row = dataArrayRows[startIndex + i];\r\n\r\n        if (row && (result = detectValue(row[dimIndex])) != null) {\r\n          return result;\r\n        }\r\n      }\r\n    }\r\n  } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS) {\r\n    var dataObjectRows = data;\r\n\r\n    if (!dimName) {\r\n      return BE_ORDINAL.Not;\r\n    }\r\n\r\n    for (var i = 0; i < dataObjectRows.length && i < maxLoop; i++) {\r\n      var item = dataObjectRows[i];\r\n\r\n      if (item && (result = detectValue(item[dimName])) != null) {\r\n        return result;\r\n      }\r\n    }\r\n  } else if (sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS) {\r\n    var dataKeyedColumns = data;\r\n\r\n    if (!dimName) {\r\n      return BE_ORDINAL.Not;\r\n    }\r\n\r\n    var sample = dataKeyedColumns[dimName];\r\n\r\n    if (!sample || isTypedArray(sample)) {\r\n      return BE_ORDINAL.Not;\r\n    }\r\n\r\n    for (var i = 0; i < sample.length && i < maxLoop; i++) {\r\n      if ((result = detectValue(sample[i])) != null) {\r\n        return result;\r\n      }\r\n    }\r\n  } else if (sourceFormat === SOURCE_FORMAT_ORIGINAL) {\r\n    var dataOriginal = data;\r\n\r\n    for (var i = 0; i < dataOriginal.length && i < maxLoop; i++) {\r\n      var item = dataOriginal[i];\r\n      var val = getDataItemValue(item);\r\n\r\n      if (!isArray(val)) {\r\n        return BE_ORDINAL.Not;\r\n      }\r\n\r\n      if ((result = detectValue(val[dimIndex])) != null) {\r\n        return result;\r\n      }\r\n    }\r\n  }\r\n\r\n  function detectValue(val) {\r\n    var beStr = isString(val); // Consider usage convenience, '1', '2' will be treated as \"number\".\r\n    // `isFinit('')` get `true`.\r\n\r\n    if (val != null && isFinite(val) && val !== '') {\r\n      return beStr ? BE_ORDINAL.Might : BE_ORDINAL.Not;\r\n    } else if (beStr && val !== '-') {\r\n      return BE_ORDINAL.Must;\r\n    }\r\n  }\r\n\r\n  return BE_ORDINAL.Not;\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { isTypedArray, clone, createHashMap, isArray, isObject, isArrayLike, hasOwn, assert, each, map, isNumber, isString, keys } from 'zrender/lib/core/util.js';\r\nimport { SOURCE_FORMAT_ORIGINAL, SERIES_LAYOUT_BY_COLUMN, SOURCE_FORMAT_UNKNOWN, SOURCE_FORMAT_KEYED_COLUMNS, SOURCE_FORMAT_TYPED_ARRAY, SOURCE_FORMAT_ARRAY_ROWS, SOURCE_FORMAT_OBJECT_ROWS, SERIES_LAYOUT_BY_ROW } from '../util/types.js';\r\nimport { getDataItemValue } from '../util/model.js';\r\nimport { BE_ORDINAL, guessOrdinal } from './helper/sourceHelper.js';\r\n; // @inner\r\n\r\nvar SourceImpl =\r\n/** @class */\r\nfunction () {\r\n  function SourceImpl(fields) {\r\n    this.data = fields.data || (fields.sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS ? {} : []);\r\n    this.sourceFormat = fields.sourceFormat || SOURCE_FORMAT_UNKNOWN; // Visit config\r\n\r\n    this.seriesLayoutBy = fields.seriesLayoutBy || SERIES_LAYOUT_BY_COLUMN;\r\n    this.startIndex = fields.startIndex || 0;\r\n    this.dimensionsDetectedCount = fields.dimensionsDetectedCount;\r\n    this.metaRawOption = fields.metaRawOption;\r\n    var dimensionsDefine = this.dimensionsDefine = fields.dimensionsDefine;\r\n\r\n    if (dimensionsDefine) {\r\n      for (var i = 0; i < dimensionsDefine.length; i++) {\r\n        var dim = dimensionsDefine[i];\r\n\r\n        if (dim.type == null) {\r\n          if (guessOrdinal(this, i) === BE_ORDINAL.Must) {\r\n            dim.type = 'ordinal';\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return SourceImpl;\r\n}();\r\n\r\nexport function isSourceInstance(val) {\r\n  return val instanceof SourceImpl;\r\n}\r\n/**\r\n * Create a source from option.\r\n * NOTE: Created source is immutable. Don't change any properties in it.\r\n */\r\n\r\nexport function createSource(sourceData, thisMetaRawOption, // can be null. If not provided, auto detect it from `sourceData`.\r\nsourceFormat) {\r\n  sourceFormat = sourceFormat || detectSourceFormat(sourceData);\r\n  var seriesLayoutBy = thisMetaRawOption.seriesLayoutBy;\r\n  var determined = determineSourceDimensions(sourceData, sourceFormat, seriesLayoutBy, thisMetaRawOption.sourceHeader, thisMetaRawOption.dimensions);\r\n  var source = new SourceImpl({\r\n    data: sourceData,\r\n    sourceFormat: sourceFormat,\r\n    seriesLayoutBy: seriesLayoutBy,\r\n    dimensionsDefine: determined.dimensionsDefine,\r\n    startIndex: determined.startIndex,\r\n    dimensionsDetectedCount: determined.dimensionsDetectedCount,\r\n    metaRawOption: clone(thisMetaRawOption)\r\n  });\r\n  return source;\r\n}\r\n/**\r\n * Wrap original series data for some compatibility cases.\r\n */\r\n\r\nexport function createSourceFromSeriesDataOption(data) {\r\n  return new SourceImpl({\r\n    data: data,\r\n    sourceFormat: isTypedArray(data) ? SOURCE_FORMAT_TYPED_ARRAY : SOURCE_FORMAT_ORIGINAL\r\n  });\r\n}\r\n/**\r\n * Clone source but excludes source data.\r\n */\r\n\r\nexport function cloneSourceShallow(source) {\r\n  return new SourceImpl({\r\n    data: source.data,\r\n    sourceFormat: source.sourceFormat,\r\n    seriesLayoutBy: source.seriesLayoutBy,\r\n    dimensionsDefine: clone(source.dimensionsDefine),\r\n    startIndex: source.startIndex,\r\n    dimensionsDetectedCount: source.dimensionsDetectedCount\r\n  });\r\n}\r\n/**\r\n * Note: An empty array will be detected as `SOURCE_FORMAT_ARRAY_ROWS`.\r\n */\r\n\r\nexport function detectSourceFormat(data) {\r\n  var sourceFormat = SOURCE_FORMAT_UNKNOWN;\r\n\r\n  if (isTypedArray(data)) {\r\n    sourceFormat = SOURCE_FORMAT_TYPED_ARRAY;\r\n  } else if (isArray(data)) {\r\n    // FIXME Whether tolerate null in top level array?\r\n    if (data.length === 0) {\r\n      sourceFormat = SOURCE_FORMAT_ARRAY_ROWS;\r\n    }\r\n\r\n    for (var i = 0, len = data.length; i < len; i++) {\r\n      var item = data[i];\r\n\r\n      if (item == null) {\r\n        continue;\r\n      } else if (isArray(item)) {\r\n        sourceFormat = SOURCE_FORMAT_ARRAY_ROWS;\r\n        break;\r\n      } else if (isObject(item)) {\r\n        sourceFormat = SOURCE_FORMAT_OBJECT_ROWS;\r\n        break;\r\n      }\r\n    }\r\n  } else if (isObject(data)) {\r\n    for (var key in data) {\r\n      if (hasOwn(data, key) && isArrayLike(data[key])) {\r\n        sourceFormat = SOURCE_FORMAT_KEYED_COLUMNS;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  return sourceFormat;\r\n}\r\n/**\r\n * Determine the source definitions from data standalone dimensions definitions\r\n * are not specified.\r\n */\r\n\r\nfunction determineSourceDimensions(data, sourceFormat, seriesLayoutBy, sourceHeader, // standalone raw dimensions definition, like:\r\n// {\r\n//     dimensions: ['aa', 'bb', { name: 'cc', type: 'time' }]\r\n// }\r\n// in `dataset` or `series`\r\ndimensionsDefine) {\r\n  var dimensionsDetectedCount;\r\n  var startIndex; // PENDING: Could data be null/undefined here?\r\n  // currently, if `dataset.source` not specified, error thrown.\r\n  // if `series.data` not specified, nothing rendered without error thrown.\r\n  // Should test these cases.\r\n\r\n  if (!data) {\r\n    return {\r\n      dimensionsDefine: normalizeDimensionsOption(dimensionsDefine),\r\n      startIndex: startIndex,\r\n      dimensionsDetectedCount: dimensionsDetectedCount\r\n    };\r\n  }\r\n\r\n  if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS) {\r\n    var dataArrayRows = data; // Rule: Most of the first line are string: it is header.\r\n    // Caution: consider a line with 5 string and 1 number,\r\n    // it still can not be sure it is a head, because the\r\n    // 5 string may be 5 values of category columns.\r\n\r\n    if (sourceHeader === 'auto' || sourceHeader == null) {\r\n      arrayRowsTravelFirst(function (val) {\r\n        // '-' is regarded as null/undefined.\r\n        if (val != null && val !== '-') {\r\n          if (isString(val)) {\r\n            startIndex == null && (startIndex = 1);\r\n          } else {\r\n            startIndex = 0;\r\n          }\r\n        } // 10 is an experience number, avoid long loop.\r\n\r\n      }, seriesLayoutBy, dataArrayRows, 10);\r\n    } else {\r\n      startIndex = isNumber(sourceHeader) ? sourceHeader : sourceHeader ? 1 : 0;\r\n    }\r\n\r\n    if (!dimensionsDefine && startIndex === 1) {\r\n      dimensionsDefine = [];\r\n      arrayRowsTravelFirst(function (val, index) {\r\n        dimensionsDefine[index] = val != null ? val + '' : '';\r\n      }, seriesLayoutBy, dataArrayRows, Infinity);\r\n    }\r\n\r\n    dimensionsDetectedCount = dimensionsDefine ? dimensionsDefine.length : seriesLayoutBy === SERIES_LAYOUT_BY_ROW ? dataArrayRows.length : dataArrayRows[0] ? dataArrayRows[0].length : null;\r\n  } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS) {\r\n    if (!dimensionsDefine) {\r\n      dimensionsDefine = objectRowsCollectDimensions(data);\r\n    }\r\n  } else if (sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS) {\r\n    if (!dimensionsDefine) {\r\n      dimensionsDefine = [];\r\n      each(data, function (colArr, key) {\r\n        dimensionsDefine.push(key);\r\n      });\r\n    }\r\n  } else if (sourceFormat === SOURCE_FORMAT_ORIGINAL) {\r\n    var value0 = getDataItemValue(data[0]);\r\n    dimensionsDetectedCount = isArray(value0) && value0.length || 1;\r\n  } else if (sourceFormat === SOURCE_FORMAT_TYPED_ARRAY) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assert(!!dimensionsDefine, 'dimensions must be given if data is TypedArray.');\r\n    }\r\n  }\r\n\r\n  return {\r\n    startIndex: startIndex,\r\n    dimensionsDefine: normalizeDimensionsOption(dimensionsDefine),\r\n    dimensionsDetectedCount: dimensionsDetectedCount\r\n  };\r\n}\r\n\r\nfunction objectRowsCollectDimensions(data) {\r\n  var firstIndex = 0;\r\n  var obj;\r\n\r\n  while (firstIndex < data.length && !(obj = data[firstIndex++])) {} // jshint ignore: line\r\n\r\n\r\n  if (obj) {\r\n    return keys(obj);\r\n  }\r\n} // Consider dimensions defined like ['A', 'price', 'B', 'price', 'C', 'price'],\r\n// which is reasonable. But dimension name is duplicated.\r\n// Returns undefined or an array contains only object without null/undefined or string.\r\n\r\n\r\nfunction normalizeDimensionsOption(dimensionsDefine) {\r\n  if (!dimensionsDefine) {\r\n    // The meaning of null/undefined is different from empty array.\r\n    return;\r\n  }\r\n\r\n  var nameMap = createHashMap();\r\n  return map(dimensionsDefine, function (rawItem, index) {\r\n    rawItem = isObject(rawItem) ? rawItem : {\r\n      name: rawItem\r\n    }; // Other fields will be discarded.\r\n\r\n    var item = {\r\n      name: rawItem.name,\r\n      displayName: rawItem.displayName,\r\n      type: rawItem.type\r\n    }; // User can set null in dimensions.\r\n    // We don't auto specify name, otherwise a given name may\r\n    // cause it to be referred unexpectedly.\r\n\r\n    if (item.name == null) {\r\n      return item;\r\n    } // Also consider number form like 2012.\r\n\r\n\r\n    item.name += ''; // User may also specify displayName.\r\n    // displayName will always exists except user not\r\n    // specified or dim name is not specified or detected.\r\n    // (A auto generated dim name will not be used as\r\n    // displayName).\r\n\r\n    if (item.displayName == null) {\r\n      item.displayName = item.name;\r\n    }\r\n\r\n    var exist = nameMap.get(item.name);\r\n\r\n    if (!exist) {\r\n      nameMap.set(item.name, {\r\n        count: 1\r\n      });\r\n    } else {\r\n      item.name += '-' + exist.count++;\r\n    }\r\n\r\n    return item;\r\n  });\r\n}\r\n\r\nfunction arrayRowsTravelFirst(cb, seriesLayoutBy, data, maxLoop) {\r\n  if (seriesLayoutBy === SERIES_LAYOUT_BY_ROW) {\r\n    for (var i = 0; i < data.length && i < maxLoop; i++) {\r\n      cb(data[i] ? data[i][0] : null, i);\r\n    }\r\n  } else {\r\n    var value0 = data[0] || [];\r\n\r\n    for (var i = 0; i < value0.length && i < maxLoop; i++) {\r\n      cb(value0[i], i);\r\n    }\r\n  }\r\n}\r\n\r\nexport function shouldRetrieveDataByName(source) {\r\n  var sourceFormat = source.sourceFormat;\r\n  return sourceFormat === SOURCE_FORMAT_OBJECT_ROWS || sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS;\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nvar _a, _b, _c; // TODO\r\n// ??? refactor? check the outer usage of data provider.\r\n// merge with defaultDimValueGetter?\r\n\r\n\r\nimport { isTypedArray, extend, assert, each, isObject, bind } from 'zrender/lib/core/util.js';\r\nimport { getDataItemValue } from '../../util/model.js';\r\nimport { createSourceFromSeriesDataOption, isSourceInstance } from '../Source.js';\r\nimport { SOURCE_FORMAT_ORIGINAL, SOURCE_FORMAT_OBJECT_ROWS, SOURCE_FORMAT_KEYED_COLUMNS, SOURCE_FORMAT_TYPED_ARRAY, SOURCE_FORMAT_ARRAY_ROWS, SERIES_LAYOUT_BY_COLUMN, SERIES_LAYOUT_BY_ROW } from '../../util/types.js';\r\nvar providerMethods;\r\nvar mountMethods;\r\n/**\r\n * If normal array used, mutable chunk size is supported.\r\n * If typed array used, chunk size must be fixed.\r\n */\r\n\r\nvar DefaultDataProvider =\r\n/** @class */\r\nfunction () {\r\n  function DefaultDataProvider(sourceParam, dimSize) {\r\n    // let source: Source;\r\n    var source = !isSourceInstance(sourceParam) ? createSourceFromSeriesDataOption(sourceParam) : sourceParam; // declare source is Source;\r\n\r\n    this._source = source;\r\n    var data = this._data = source.data; // Typed array. TODO IE10+?\r\n\r\n    if (source.sourceFormat === SOURCE_FORMAT_TYPED_ARRAY) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        if (dimSize == null) {\r\n          throw new Error('Typed array data must specify dimension size');\r\n        }\r\n      }\r\n\r\n      this._offset = 0;\r\n      this._dimSize = dimSize;\r\n      this._data = data;\r\n    }\r\n\r\n    mountMethods(this, data, source);\r\n  }\r\n\r\n  DefaultDataProvider.prototype.getSource = function () {\r\n    return this._source;\r\n  };\r\n\r\n  DefaultDataProvider.prototype.count = function () {\r\n    return 0;\r\n  };\r\n\r\n  DefaultDataProvider.prototype.getItem = function (idx, out) {\r\n    return;\r\n  };\r\n\r\n  DefaultDataProvider.prototype.appendData = function (newData) {};\r\n\r\n  DefaultDataProvider.prototype.clean = function () {};\r\n\r\n  DefaultDataProvider.protoInitialize = function () {\r\n    // PENDING: To avoid potential incompat (e.g., prototype\r\n    // is visited somewhere), still init them on prototype.\r\n    var proto = DefaultDataProvider.prototype;\r\n    proto.pure = false;\r\n    proto.persistent = true;\r\n  }();\r\n\r\n  DefaultDataProvider.internalField = function () {\r\n    var _a;\r\n\r\n    mountMethods = function (provider, data, source) {\r\n      var sourceFormat = source.sourceFormat;\r\n      var seriesLayoutBy = source.seriesLayoutBy;\r\n      var startIndex = source.startIndex;\r\n      var dimsDef = source.dimensionsDefine;\r\n      var methods = providerMethods[getMethodMapKey(sourceFormat, seriesLayoutBy)];\r\n\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        assert(methods, 'Invalide sourceFormat: ' + sourceFormat);\r\n      }\r\n\r\n      extend(provider, methods);\r\n\r\n      if (sourceFormat === SOURCE_FORMAT_TYPED_ARRAY) {\r\n        provider.getItem = getItemForTypedArray;\r\n        provider.count = countForTypedArray;\r\n        provider.fillStorage = fillStorageForTypedArray;\r\n      } else {\r\n        var rawItemGetter = getRawSourceItemGetter(sourceFormat, seriesLayoutBy);\r\n        provider.getItem = bind(rawItemGetter, null, data, startIndex, dimsDef);\r\n        var rawCounter = getRawSourceDataCounter(sourceFormat, seriesLayoutBy);\r\n        provider.count = bind(rawCounter, null, data, startIndex, dimsDef);\r\n      }\r\n    };\r\n\r\n    var getItemForTypedArray = function (idx, out) {\r\n      idx = idx - this._offset;\r\n      out = out || [];\r\n      var data = this._data;\r\n      var dimSize = this._dimSize;\r\n      var offset = dimSize * idx;\r\n\r\n      for (var i = 0; i < dimSize; i++) {\r\n        out[i] = data[offset + i];\r\n      }\r\n\r\n      return out;\r\n    };\r\n\r\n    var fillStorageForTypedArray = function (start, end, storage, extent) {\r\n      var data = this._data;\r\n      var dimSize = this._dimSize;\r\n\r\n      for (var dim = 0; dim < dimSize; dim++) {\r\n        var dimExtent = extent[dim];\r\n        var min = dimExtent[0] == null ? Infinity : dimExtent[0];\r\n        var max = dimExtent[1] == null ? -Infinity : dimExtent[1];\r\n        var count = end - start;\r\n        var arr = storage[dim];\r\n\r\n        for (var i = 0; i < count; i++) {\r\n          // appendData with TypedArray will always do replace in provider.\r\n          var val = data[i * dimSize + dim];\r\n          arr[start + i] = val;\r\n          val < min && (min = val);\r\n          val > max && (max = val);\r\n        }\r\n\r\n        dimExtent[0] = min;\r\n        dimExtent[1] = max;\r\n      }\r\n    };\r\n\r\n    var countForTypedArray = function () {\r\n      return this._data ? this._data.length / this._dimSize : 0;\r\n    };\r\n\r\n    providerMethods = (_a = {}, _a[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_COLUMN] = {\r\n      pure: true,\r\n      appendData: appendDataSimply\r\n    }, _a[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_ROW] = {\r\n      pure: true,\r\n      appendData: function () {\r\n        throw new Error('Do not support appendData when set seriesLayoutBy: \"row\".');\r\n      }\r\n    }, _a[SOURCE_FORMAT_OBJECT_ROWS] = {\r\n      pure: true,\r\n      appendData: appendDataSimply\r\n    }, _a[SOURCE_FORMAT_KEYED_COLUMNS] = {\r\n      pure: true,\r\n      appendData: function (newData) {\r\n        var data = this._data;\r\n        each(newData, function (newCol, key) {\r\n          var oldCol = data[key] || (data[key] = []);\r\n\r\n          for (var i = 0; i < (newCol || []).length; i++) {\r\n            oldCol.push(newCol[i]);\r\n          }\r\n        });\r\n      }\r\n    }, _a[SOURCE_FORMAT_ORIGINAL] = {\r\n      appendData: appendDataSimply\r\n    }, _a[SOURCE_FORMAT_TYPED_ARRAY] = {\r\n      persistent: false,\r\n      pure: true,\r\n      appendData: function (newData) {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n          assert(isTypedArray(newData), 'Added data must be TypedArray if data in initialization is TypedArray');\r\n        }\r\n\r\n        this._data = newData;\r\n      },\r\n      // Clean self if data is already used.\r\n      clean: function () {\r\n        // PENDING\r\n        this._offset += this.count();\r\n        this._data = null;\r\n      }\r\n    }, _a);\r\n\r\n    function appendDataSimply(newData) {\r\n      for (var i = 0; i < newData.length; i++) {\r\n        this._data.push(newData[i]);\r\n      }\r\n    }\r\n  }();\r\n\r\n  return DefaultDataProvider;\r\n}();\r\n\r\nexport { DefaultDataProvider };\r\n\r\nvar getItemSimply = function (rawData, startIndex, dimsDef, idx) {\r\n  return rawData[idx];\r\n};\r\n\r\nvar rawSourceItemGetterMap = (_a = {}, _a[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_COLUMN] = function (rawData, startIndex, dimsDef, idx) {\r\n  return rawData[idx + startIndex];\r\n}, _a[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_ROW] = function (rawData, startIndex, dimsDef, idx, out) {\r\n  idx += startIndex;\r\n  var item = out || [];\r\n  var data = rawData;\r\n\r\n  for (var i = 0; i < data.length; i++) {\r\n    var row = data[i];\r\n    item[i] = row ? row[idx] : null;\r\n  }\r\n\r\n  return item;\r\n}, _a[SOURCE_FORMAT_OBJECT_ROWS] = getItemSimply, _a[SOURCE_FORMAT_KEYED_COLUMNS] = function (rawData, startIndex, dimsDef, idx, out) {\r\n  var item = out || [];\r\n\r\n  for (var i = 0; i < dimsDef.length; i++) {\r\n    var dimName = dimsDef[i].name;\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      if (dimName == null) {\r\n        throw new Error();\r\n      }\r\n    }\r\n\r\n    var col = rawData[dimName];\r\n    item[i] = col ? col[idx] : null;\r\n  }\r\n\r\n  return item;\r\n}, _a[SOURCE_FORMAT_ORIGINAL] = getItemSimply, _a);\r\nexport function getRawSourceItemGetter(sourceFormat, seriesLayoutBy) {\r\n  var method = rawSourceItemGetterMap[getMethodMapKey(sourceFormat, seriesLayoutBy)];\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    assert(method, 'Do not support get item on \"' + sourceFormat + '\", \"' + seriesLayoutBy + '\".');\r\n  }\r\n\r\n  return method;\r\n}\r\n\r\nvar countSimply = function (rawData, startIndex, dimsDef) {\r\n  return rawData.length;\r\n};\r\n\r\nvar rawSourceDataCounterMap = (_b = {}, _b[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_COLUMN] = function (rawData, startIndex, dimsDef) {\r\n  return Math.max(0, rawData.length - startIndex);\r\n}, _b[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_ROW] = function (rawData, startIndex, dimsDef) {\r\n  var row = rawData[0];\r\n  return row ? Math.max(0, row.length - startIndex) : 0;\r\n}, _b[SOURCE_FORMAT_OBJECT_ROWS] = countSimply, _b[SOURCE_FORMAT_KEYED_COLUMNS] = function (rawData, startIndex, dimsDef) {\r\n  var dimName = dimsDef[0].name;\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (dimName == null) {\r\n      throw new Error();\r\n    }\r\n  }\r\n\r\n  var col = rawData[dimName];\r\n  return col ? col.length : 0;\r\n}, _b[SOURCE_FORMAT_ORIGINAL] = countSimply, _b);\r\nexport function getRawSourceDataCounter(sourceFormat, seriesLayoutBy) {\r\n  var method = rawSourceDataCounterMap[getMethodMapKey(sourceFormat, seriesLayoutBy)];\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    assert(method, 'Do not support count on \"' + sourceFormat + '\", \"' + seriesLayoutBy + '\".');\r\n  }\r\n\r\n  return method;\r\n}\r\n\r\nvar getRawValueSimply = function (dataItem, dimIndex, property) {\r\n  return dataItem[dimIndex];\r\n};\r\n\r\nvar rawSourceValueGetterMap = (_c = {}, _c[SOURCE_FORMAT_ARRAY_ROWS] = getRawValueSimply, _c[SOURCE_FORMAT_OBJECT_ROWS] = function (dataItem, dimIndex, property) {\r\n  return dataItem[property];\r\n}, _c[SOURCE_FORMAT_KEYED_COLUMNS] = getRawValueSimply, _c[SOURCE_FORMAT_ORIGINAL] = function (dataItem, dimIndex, property) {\r\n  // FIXME: In some case (markpoint in geo (geo-map.html)),\r\n  // dataItem is {coord: [...]}\r\n  var value = getDataItemValue(dataItem);\r\n  return !(value instanceof Array) ? value : value[dimIndex];\r\n}, _c[SOURCE_FORMAT_TYPED_ARRAY] = getRawValueSimply, _c);\r\nexport function getRawSourceValueGetter(sourceFormat) {\r\n  var method = rawSourceValueGetterMap[sourceFormat];\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    assert(method, 'Do not support get value on \"' + sourceFormat + '\".');\r\n  }\r\n\r\n  return method;\r\n}\r\n\r\nfunction getMethodMapKey(sourceFormat, seriesLayoutBy) {\r\n  return sourceFormat === SOURCE_FORMAT_ARRAY_ROWS ? sourceFormat + '_' + seriesLayoutBy : sourceFormat;\r\n} // ??? FIXME can these logic be more neat: getRawValue, getRawDataItem,\r\n// Consider persistent.\r\n// Caution: why use raw value to display on label or tooltip?\r\n// A reason is to avoid format. For example time value we do not know\r\n// how to format is expected. More over, if stack is used, calculated\r\n// value may be 0.91000000001, which have brings trouble to display.\r\n// TODO: consider how to treat null/undefined/NaN when display?\r\n\r\n\r\nexport function retrieveRawValue(data, dataIndex, // If dimIndex is null/undefined, return OptionDataItem.\r\n// Otherwise, return OptionDataValue.\r\ndim) {\r\n  if (!data) {\r\n    return;\r\n  } // Consider data may be not persistent.\r\n\r\n\r\n  var dataItem = data.getRawDataItem(dataIndex);\r\n\r\n  if (dataItem == null) {\r\n    return;\r\n  }\r\n\r\n  var store = data.getStore();\r\n  var sourceFormat = store.getSource().sourceFormat;\r\n\r\n  if (dim != null) {\r\n    var dimIndex = data.getDimensionIndex(dim);\r\n    var property = store.getDimensionProperty(dimIndex);\r\n    return getRawSourceValueGetter(sourceFormat)(dataItem, dimIndex, property);\r\n  } else {\r\n    var result = dataItem;\r\n\r\n    if (sourceFormat === SOURCE_FORMAT_ORIGINAL) {\r\n      result = getDataItemValue(dataItem);\r\n    }\r\n\r\n    return result;\r\n  }\r\n}\r\n/**\r\n * Compatible with some cases (in pie, map) like:\r\n * data: [{name: 'xx', value: 5, selected: true}, ...]\r\n * where only sourceFormat is 'original' and 'objectRows' supported.\r\n *\r\n * // TODO\r\n * Supported detail options in data item when using 'arrayRows'.\r\n *\r\n * @param data\r\n * @param dataIndex\r\n * @param attr like 'selected'\r\n */\r\n\r\nexport function retrieveRawAttr(data, dataIndex, attr) {\r\n  if (!data) {\r\n    return;\r\n  }\r\n\r\n  var sourceFormat = data.getStore().getSource().sourceFormat;\r\n\r\n  if (sourceFormat !== SOURCE_FORMAT_ORIGINAL && sourceFormat !== SOURCE_FORMAT_OBJECT_ROWS) {\r\n    return;\r\n  }\r\n\r\n  var dataItem = data.getRawDataItem(dataIndex);\r\n\r\n  if (sourceFormat === SOURCE_FORMAT_ORIGINAL && !isObject(dataItem)) {\r\n    dataItem = null;\r\n  }\r\n\r\n  if (dataItem) {\r\n    return dataItem[attr];\r\n  }\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport { retrieveRawValue } from '../../data/helper/dataProvider.js';\r\nimport { formatTpl } from '../../util/format.js';\r\nimport { error, makePrintable } from '../../util/log.js';\r\nvar DIMENSION_LABEL_REG = /\\{@(.+?)\\}/g;\r\n\r\nvar DataFormatMixin =\r\n/** @class */\r\nfunction () {\r\n  function DataFormatMixin() {}\r\n  /**\r\n   * Get params for formatter\r\n   */\r\n\r\n\r\n  DataFormatMixin.prototype.getDataParams = function (dataIndex, dataType) {\r\n    var data = this.getData(dataType);\r\n    var rawValue = this.getRawValue(dataIndex, dataType);\r\n    var rawDataIndex = data.getRawIndex(dataIndex);\r\n    var name = data.getName(dataIndex);\r\n    var itemOpt = data.getRawDataItem(dataIndex);\r\n    var style = data.getItemVisual(dataIndex, 'style');\r\n    var color = style && style[data.getItemVisual(dataIndex, 'drawType') || 'fill'];\r\n    var borderColor = style && style.stroke;\r\n    var mainType = this.mainType;\r\n    var isSeries = mainType === 'series';\r\n    var userOutput = data.userOutput && data.userOutput.get();\r\n    return {\r\n      componentType: mainType,\r\n      componentSubType: this.subType,\r\n      componentIndex: this.componentIndex,\r\n      seriesType: isSeries ? this.subType : null,\r\n      seriesIndex: this.seriesIndex,\r\n      seriesId: isSeries ? this.id : null,\r\n      seriesName: isSeries ? this.name : null,\r\n      name: name,\r\n      dataIndex: rawDataIndex,\r\n      data: itemOpt,\r\n      dataType: dataType,\r\n      value: rawValue,\r\n      color: color,\r\n      borderColor: borderColor,\r\n      dimensionNames: userOutput ? userOutput.fullDimensions : null,\r\n      encode: userOutput ? userOutput.encode : null,\r\n      // Param name list for mapping `a`, `b`, `c`, `d`, `e`\r\n      $vars: ['seriesName', 'name', 'value']\r\n    };\r\n  };\r\n  /**\r\n   * Format label\r\n   * @param dataIndex\r\n   * @param status 'normal' by default\r\n   * @param dataType\r\n   * @param labelDimIndex Only used in some chart that\r\n   *        use formatter in different dimensions, like radar.\r\n   * @param formatter Formatter given outside.\r\n   * @return return null/undefined if no formatter\r\n   */\r\n\r\n\r\n  DataFormatMixin.prototype.getFormattedLabel = function (dataIndex, status, dataType, labelDimIndex, formatter, extendParams) {\r\n    status = status || 'normal';\r\n    var data = this.getData(dataType);\r\n    var params = this.getDataParams(dataIndex, dataType);\r\n\r\n    if (extendParams) {\r\n      params.value = extendParams.interpolatedValue;\r\n    }\r\n\r\n    if (labelDimIndex != null && zrUtil.isArray(params.value)) {\r\n      params.value = params.value[labelDimIndex];\r\n    }\r\n\r\n    if (!formatter) {\r\n      var itemModel = data.getItemModel(dataIndex); // @ts-ignore\r\n\r\n      formatter = itemModel.get(status === 'normal' ? ['label', 'formatter'] : [status, 'label', 'formatter']);\r\n    }\r\n\r\n    if (zrUtil.isFunction(formatter)) {\r\n      params.status = status;\r\n      params.dimensionIndex = labelDimIndex;\r\n      return formatter(params);\r\n    } else if (zrUtil.isString(formatter)) {\r\n      var str = formatTpl(formatter, params); // Support 'aaa{@[3]}bbb{@product}ccc'.\r\n      // Do not support '}' in dim name util have to.\r\n\r\n      return str.replace(DIMENSION_LABEL_REG, function (origin, dimStr) {\r\n        var len = dimStr.length;\r\n        var dimLoose = dimStr;\r\n\r\n        if (dimLoose.charAt(0) === '[' && dimLoose.charAt(len - 1) === ']') {\r\n          dimLoose = +dimLoose.slice(1, len - 1); // Also support: '[]' => 0\r\n\r\n          if (process.env.NODE_ENV !== 'production') {\r\n            if (isNaN(dimLoose)) {\r\n              error(\"Invalide label formatter: @\" + dimStr + \", only support @[0], @[1], @[2], ...\");\r\n            }\r\n          }\r\n        }\r\n\r\n        var val = retrieveRawValue(data, dataIndex, dimLoose);\r\n\r\n        if (extendParams && zrUtil.isArray(extendParams.interpolatedValue)) {\r\n          var dimIndex = data.getDimensionIndex(dimLoose);\r\n\r\n          if (dimIndex >= 0) {\r\n            val = extendParams.interpolatedValue[dimIndex];\r\n          }\r\n        }\r\n\r\n        return val != null ? val + '' : '';\r\n      });\r\n    }\r\n  };\r\n  /**\r\n   * Get raw value in option\r\n   */\r\n\r\n\r\n  DataFormatMixin.prototype.getRawValue = function (idx, dataType) {\r\n    return retrieveRawValue(this.getData(dataType), idx);\r\n  };\r\n  /**\r\n   * Should be implemented.\r\n   * @param {number} dataIndex\r\n   * @param {boolean} [multipleSeries=false]\r\n   * @param {string} [dataType]\r\n   */\r\n\r\n\r\n  DataFormatMixin.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\r\n    // Empty function\r\n    return;\r\n  };\r\n\r\n  return DataFormatMixin;\r\n}();\r\n\r\nexport { DataFormatMixin };\r\n; // PENDING: previously we accept this type when calling `formatTooltip`,\r\n// but guess little chance has been used outside. Do we need to backward\r\n// compat it?\r\n// type TooltipFormatResultLegacyObject = {\r\n//     // `html` means the markup language text, either in 'html' or 'richText'.\r\n//     // The name `html` is not appropriate because in 'richText' it is not a HTML\r\n//     // string. But still support it for backward compatibility.\r\n//     html: string;\r\n//     markers: Dictionary<ColorString>;\r\n// };\r\n\r\n/**\r\n * For backward compat, normalize the return from `formatTooltip`.\r\n */\r\n\r\nexport function normalizeTooltipFormatResult(result) {\r\n  var markupText; // let markers: Dictionary<ColorString>;\r\n\r\n  var markupFragment;\r\n\r\n  if (zrUtil.isObject(result)) {\r\n    if (result.type) {\r\n      markupFragment = result;\r\n    } else {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        console.warn('The return type of `formatTooltip` is not supported: ' + makePrintable(result));\r\n      }\r\n    } // else {\r\n    //     markupText = (result as TooltipFormatResultLegacyObject).html;\r\n    //     markers = (result as TooltipFormatResultLegacyObject).markers;\r\n    //     if (markersExisting) {\r\n    //         markers = zrUtil.merge(markersExisting, markers);\r\n    //     }\r\n    // }\r\n\r\n  } else {\r\n    markupText = result;\r\n  }\r\n\r\n  return {\r\n    text: markupText,\r\n    // markers: markers || markersExisting,\r\n    frag: markupFragment\r\n  };\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { assert, isArray } from 'zrender/lib/core/util.js';\r\n;\r\n/**\r\n * @param {Object} define\r\n * @return See the return of `createTask`.\r\n */\r\n\r\nexport function createTask(define) {\r\n  return new Task(define);\r\n}\r\n\r\nvar Task =\r\n/** @class */\r\nfunction () {\r\n  function Task(define) {\r\n    define = define || {};\r\n    this._reset = define.reset;\r\n    this._plan = define.plan;\r\n    this._count = define.count;\r\n    this._onDirty = define.onDirty;\r\n    this._dirty = true;\r\n  }\r\n  /**\r\n   * @param step Specified step.\r\n   * @param skip Skip customer perform call.\r\n   * @param modBy Sampling window size.\r\n   * @param modDataCount Sampling count.\r\n   * @return whether unfinished.\r\n   */\r\n\r\n\r\n  Task.prototype.perform = function (performArgs) {\r\n    var upTask = this._upstream;\r\n    var skip = performArgs && performArgs.skip; // TODO some refactor.\r\n    // Pull data. Must pull data each time, because context.data\r\n    // may be updated by Series.setData.\r\n\r\n    if (this._dirty && upTask) {\r\n      var context = this.context;\r\n      context.data = context.outputData = upTask.context.outputData;\r\n    }\r\n\r\n    if (this.__pipeline) {\r\n      this.__pipeline.currentTask = this;\r\n    }\r\n\r\n    var planResult;\r\n\r\n    if (this._plan && !skip) {\r\n      planResult = this._plan(this.context);\r\n    } // Support sharding by mod, which changes the render sequence and makes the rendered graphic\r\n    // elements uniformed distributed when progress, especially when moving or zooming.\r\n\r\n\r\n    var lastModBy = normalizeModBy(this._modBy);\r\n    var lastModDataCount = this._modDataCount || 0;\r\n    var modBy = normalizeModBy(performArgs && performArgs.modBy);\r\n    var modDataCount = performArgs && performArgs.modDataCount || 0;\r\n\r\n    if (lastModBy !== modBy || lastModDataCount !== modDataCount) {\r\n      planResult = 'reset';\r\n    }\r\n\r\n    function normalizeModBy(val) {\r\n      !(val >= 1) && (val = 1); // jshint ignore:line\r\n\r\n      return val;\r\n    }\r\n\r\n    var forceFirstProgress;\r\n\r\n    if (this._dirty || planResult === 'reset') {\r\n      this._dirty = false;\r\n      forceFirstProgress = this._doReset(skip);\r\n    }\r\n\r\n    this._modBy = modBy;\r\n    this._modDataCount = modDataCount;\r\n    var step = performArgs && performArgs.step;\r\n\r\n    if (upTask) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        assert(upTask._outputDueEnd != null);\r\n      }\r\n\r\n      this._dueEnd = upTask._outputDueEnd;\r\n    } // DataTask or overallTask\r\n    else {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n          assert(!this._progress || this._count);\r\n        }\r\n\r\n        this._dueEnd = this._count ? this._count(this.context) : Infinity;\r\n      } // Note: Stubs, that its host overall task let it has progress, has progress.\r\n    // If no progress, pass index from upstream to downstream each time plan called.\r\n\r\n\r\n    if (this._progress) {\r\n      var start = this._dueIndex;\r\n      var end = Math.min(step != null ? this._dueIndex + step : Infinity, this._dueEnd);\r\n\r\n      if (!skip && (forceFirstProgress || start < end)) {\r\n        var progress = this._progress;\r\n\r\n        if (isArray(progress)) {\r\n          for (var i = 0; i < progress.length; i++) {\r\n            this._doProgress(progress[i], start, end, modBy, modDataCount);\r\n          }\r\n        } else {\r\n          this._doProgress(progress, start, end, modBy, modDataCount);\r\n        }\r\n      }\r\n\r\n      this._dueIndex = end; // If no `outputDueEnd`, assume that output data and\r\n      // input data is the same, so use `dueIndex` as `outputDueEnd`.\r\n\r\n      var outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : end;\r\n\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        // ??? Can not rollback.\r\n        assert(outputDueEnd >= this._outputDueEnd);\r\n      }\r\n\r\n      this._outputDueEnd = outputDueEnd;\r\n    } else {\r\n      // (1) Some overall task has no progress.\r\n      // (2) Stubs, that its host overall task do not let it has progress, has no progress.\r\n      // This should always be performed so it can be passed to downstream.\r\n      this._dueIndex = this._outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : this._dueEnd;\r\n    }\r\n\r\n    return this.unfinished();\r\n  };\r\n\r\n  Task.prototype.dirty = function () {\r\n    this._dirty = true;\r\n    this._onDirty && this._onDirty(this.context);\r\n  };\r\n\r\n  Task.prototype._doProgress = function (progress, start, end, modBy, modDataCount) {\r\n    iterator.reset(start, end, modBy, modDataCount);\r\n    this._callingProgress = progress;\r\n\r\n    this._callingProgress({\r\n      start: start,\r\n      end: end,\r\n      count: end - start,\r\n      next: iterator.next\r\n    }, this.context);\r\n  };\r\n\r\n  Task.prototype._doReset = function (skip) {\r\n    this._dueIndex = this._outputDueEnd = this._dueEnd = 0;\r\n    this._settedOutputEnd = null;\r\n    var progress;\r\n    var forceFirstProgress;\r\n\r\n    if (!skip && this._reset) {\r\n      progress = this._reset(this.context);\r\n\r\n      if (progress && progress.progress) {\r\n        forceFirstProgress = progress.forceFirstProgress;\r\n        progress = progress.progress;\r\n      } // To simplify no progress checking, array must has item.\r\n\r\n\r\n      if (isArray(progress) && !progress.length) {\r\n        progress = null;\r\n      }\r\n    }\r\n\r\n    this._progress = progress;\r\n    this._modBy = this._modDataCount = null;\r\n    var downstream = this._downstream;\r\n    downstream && downstream.dirty();\r\n    return forceFirstProgress;\r\n  };\r\n\r\n  Task.prototype.unfinished = function () {\r\n    return this._progress && this._dueIndex < this._dueEnd;\r\n  };\r\n  /**\r\n   * @param downTask The downstream task.\r\n   * @return The downstream task.\r\n   */\r\n\r\n\r\n  Task.prototype.pipe = function (downTask) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assert(downTask && !downTask._disposed && downTask !== this);\r\n    } // If already downstream, do not dirty downTask.\r\n\r\n\r\n    if (this._downstream !== downTask || this._dirty) {\r\n      this._downstream = downTask;\r\n      downTask._upstream = this;\r\n      downTask.dirty();\r\n    }\r\n  };\r\n\r\n  Task.prototype.dispose = function () {\r\n    if (this._disposed) {\r\n      return;\r\n    }\r\n\r\n    this._upstream && (this._upstream._downstream = null);\r\n    this._downstream && (this._downstream._upstream = null);\r\n    this._dirty = false;\r\n    this._disposed = true;\r\n  };\r\n\r\n  Task.prototype.getUpstream = function () {\r\n    return this._upstream;\r\n  };\r\n\r\n  Task.prototype.getDownstream = function () {\r\n    return this._downstream;\r\n  };\r\n\r\n  Task.prototype.setOutputEnd = function (end) {\r\n    // This only happens in dataTask, dataZoom, map, currently.\r\n    // where dataZoom do not set end each time, but only set\r\n    // when reset. So we should record the set end, in case\r\n    // that the stub of dataZoom perform again and earse the\r\n    // set end by upstream.\r\n    this._outputDueEnd = this._settedOutputEnd = end;\r\n  };\r\n\r\n  return Task;\r\n}();\r\n\r\nexport { Task };\r\n\r\nvar iterator = function () {\r\n  var end;\r\n  var current;\r\n  var modBy;\r\n  var modDataCount;\r\n  var winCount;\r\n  var it = {\r\n    reset: function (s, e, sStep, sCount) {\r\n      current = s;\r\n      end = e;\r\n      modBy = sStep;\r\n      modDataCount = sCount;\r\n      winCount = Math.ceil(modDataCount / modBy);\r\n      it.next = modBy > 1 && modDataCount > 0 ? modNext : sequentialNext;\r\n    }\r\n  };\r\n  return it;\r\n\r\n  function sequentialNext() {\r\n    return current < end ? current++ : null;\r\n  }\r\n\r\n  function modNext() {\r\n    var dataIndex = current % winCount * modBy + Math.ceil(current / winCount);\r\n    var result = current >= end ? null : dataIndex < modDataCount ? dataIndex // If modDataCount is smaller than data.count() (consider `appendData` case),\r\n    // Use normal linear rendering mode.\r\n    : current;\r\n    current++;\r\n    return result;\r\n  }\r\n}(); // -----------------------------------------------------------------------------\r\n// For stream debug (Should be commented out after used!)\r\n// @usage: printTask(this, 'begin');\r\n// @usage: printTask(this, null, {someExtraProp});\r\n// @usage: Use `__idxInPipeline` as conditional breakpiont.\r\n//\r\n// window.printTask = function (task: any, prefix: string, extra: { [key: string]: unknown }): void {\r\n//     window.ecTaskUID == null && (window.ecTaskUID = 0);\r\n//     task.uidDebug == null && (task.uidDebug = `task_${window.ecTaskUID++}`);\r\n//     task.agent && task.agent.uidDebug == null && (task.agent.uidDebug = `task_${window.ecTaskUID++}`);\r\n//     let props = [];\r\n//     if (task.__pipeline) {\r\n//         let val = `${task.__idxInPipeline}/${task.__pipeline.tail.__idxInPipeline} ${task.agent ? '(stub)' : ''}`;\r\n//         props.push({text: '__idxInPipeline/total', value: val});\r\n//     } else {\r\n//         let stubCount = 0;\r\n//         task.agentStubMap.each(() => stubCount++);\r\n//         props.push({text: 'idx', value: `overall (stubs: ${stubCount})`});\r\n//     }\r\n//     props.push({text: 'uid', value: task.uidDebug});\r\n//     if (task.__pipeline) {\r\n//         props.push({text: 'pipelineId', value: task.__pipeline.id});\r\n//         task.agent && props.push(\r\n//             {text: 'stubFor', value: task.agent.uidDebug}\r\n//         );\r\n//     }\r\n//     props.push(\r\n//         {text: 'dirty', value: task._dirty},\r\n//         {text: 'dueIndex', value: task._dueIndex},\r\n//         {text: 'dueEnd', value: task._dueEnd},\r\n//         {text: 'outputDueEnd', value: task._outputDueEnd}\r\n//     );\r\n//     if (extra) {\r\n//         Object.keys(extra).forEach(key => {\r\n//             props.push({text: key, value: extra[key]});\r\n//         });\r\n//     }\r\n//     let args = ['color: blue'];\r\n//     let msg = `%c[${prefix || 'T'}] %c` + props.map(item => (\r\n//         args.push('color: green', 'color: red'),\r\n//         `${item.text}: %c${item.value}`\r\n//     )).join('%c, ');\r\n//     console.log.apply(console, [msg].concat(args));\r\n//     // console.log(this);\r\n// };\r\n// window.printPipeline = function (task: any, prefix: string) {\r\n//     const pipeline = task.__pipeline;\r\n//     let currTask = pipeline.head;\r\n//     while (currTask) {\r\n//         window.printTask(currTask, prefix);\r\n//         currTask = currTask._downstream;\r\n//     }\r\n// };\r\n// window.showChain = function (chainHeadTask) {\r\n//     var chain = [];\r\n//     var task = chainHeadTask;\r\n//     while (task) {\r\n//         chain.push({\r\n//             task: task,\r\n//             up: task._upstream,\r\n//             down: task._downstream,\r\n//             idxInPipeline: task.__idxInPipeline\r\n//         });\r\n//         task = task._downstream;\r\n//     }\r\n//     return chain;\r\n// };\r\n// window.findTaskInChain = function (task, chainHeadTask) {\r\n//     let chain = window.showChain(chainHeadTask);\r\n//     let result = [];\r\n//     for (let i = 0; i < chain.length; i++) {\r\n//         let chainItem = chain[i];\r\n//         if (chainItem.task === task) {\r\n//             result.push(i);\r\n//         }\r\n//     }\r\n//     return result;\r\n// };\r\n// window.printChainAEachInChainB = function (chainHeadTaskA, chainHeadTaskB) {\r\n//     let chainA = window.showChain(chainHeadTaskA);\r\n//     for (let i = 0; i < chainA.length; i++) {\r\n//         console.log('chainAIdx:', i, 'inChainB:', window.findTaskInChain(chainA[i].task, chainHeadTaskB));\r\n//     }\r\n// };", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { parseDate, numericToNumber } from '../../util/number.js';\r\nimport { createHashMap, trim, hasOwn, isString, isNumber } from 'zrender/lib/core/util.js';\r\nimport { throwError } from '../../util/log.js';\r\n/**\r\n * Convert raw the value in to inner value in List.\r\n *\r\n * [Performance sensitive]\r\n *\r\n * [Caution]: this is the key logic of user value parser.\r\n * For backward compatibility, do not modify it until you have to!\r\n */\r\n\r\nexport function parseDataValue(value, // For high performance, do not omit the second param.\r\nopt) {\r\n  // Performance sensitive.\r\n  var dimType = opt && opt.type;\r\n\r\n  if (dimType === 'ordinal') {\r\n    // If given value is a category string\r\n    return value;\r\n  }\r\n\r\n  if (dimType === 'time' // spead up when using timestamp\r\n  && !isNumber(value) && value != null && value !== '-') {\r\n    value = +parseDate(value);\r\n  } // dimType defaults 'number'.\r\n  // If dimType is not ordinal and value is null or undefined or NaN or '-',\r\n  // parse to NaN.\r\n  // number-like string (like ' 123 ') can be converted to a number.\r\n  // where null/undefined or other string will be converted to NaN.\r\n\r\n\r\n  return value == null || value === '' ? NaN // If string (like '-'), using '+' parse to NaN\r\n  // If object, also parse to NaN\r\n  : +value;\r\n}\r\n;\r\nvar valueParserMap = createHashMap({\r\n  'number': function (val) {\r\n    // Do not use `numericToNumber` here. We have `numericToNumber` by default.\r\n    // Here the number parser can have loose rule:\r\n    // enable to cut suffix: \"120px\" => 120, \"14%\" => 14.\r\n    return parseFloat(val);\r\n  },\r\n  'time': function (val) {\r\n    // return timestamp.\r\n    return +parseDate(val);\r\n  },\r\n  'trim': function (val) {\r\n    return isString(val) ? trim(val) : val;\r\n  }\r\n});\r\nexport function getRawValueParser(type) {\r\n  return valueParserMap.get(type);\r\n}\r\nvar ORDER_COMPARISON_OP_MAP = {\r\n  lt: function (lval, rval) {\r\n    return lval < rval;\r\n  },\r\n  lte: function (lval, rval) {\r\n    return lval <= rval;\r\n  },\r\n  gt: function (lval, rval) {\r\n    return lval > rval;\r\n  },\r\n  gte: function (lval, rval) {\r\n    return lval >= rval;\r\n  }\r\n};\r\n\r\nvar FilterOrderComparator =\r\n/** @class */\r\nfunction () {\r\n  function FilterOrderComparator(op, rval) {\r\n    if (!isNumber(rval)) {\r\n      var errMsg = '';\r\n\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        errMsg = 'rvalue of \"<\", \">\", \"<=\", \">=\" can only be number in filter.';\r\n      }\r\n\r\n      throwError(errMsg);\r\n    }\r\n\r\n    this._opFn = ORDER_COMPARISON_OP_MAP[op];\r\n    this._rvalFloat = numericToNumber(rval);\r\n  } // Performance sensitive.\r\n\r\n\r\n  FilterOrderComparator.prototype.evaluate = function (lval) {\r\n    // Most cases is 'number', and typeof maybe 10 times faseter than parseFloat.\r\n    return isNumber(lval) ? this._opFn(lval, this._rvalFloat) : this._opFn(numericToNumber(lval), this._rvalFloat);\r\n  };\r\n\r\n  return FilterOrderComparator;\r\n}();\r\n\r\nvar SortOrderComparator =\r\n/** @class */\r\nfunction () {\r\n  /**\r\n   * @param order by default: 'asc'\r\n   * @param incomparable by default: Always on the tail.\r\n   *        That is, if 'asc' => 'max', if 'desc' => 'min'\r\n   *        See the definition of \"incomparable\" in [SORT_COMPARISON_RULE].\r\n   */\r\n  function SortOrderComparator(order, incomparable) {\r\n    var isDesc = order === 'desc';\r\n    this._resultLT = isDesc ? 1 : -1;\r\n\r\n    if (incomparable == null) {\r\n      incomparable = isDesc ? 'min' : 'max';\r\n    }\r\n\r\n    this._incomparable = incomparable === 'min' ? -Infinity : Infinity;\r\n  } // See [SORT_COMPARISON_RULE].\r\n  // Performance sensitive.\r\n\r\n\r\n  SortOrderComparator.prototype.evaluate = function (lval, rval) {\r\n    // Most cases is 'number', and typeof maybe 10 times faseter than parseFloat.\r\n    var lvalFloat = isNumber(lval) ? lval : numericToNumber(lval);\r\n    var rvalFloat = isNumber(rval) ? rval : numericToNumber(rval);\r\n    var lvalNotNumeric = isNaN(lvalFloat);\r\n    var rvalNotNumeric = isNaN(rvalFloat);\r\n\r\n    if (lvalNotNumeric) {\r\n      lvalFloat = this._incomparable;\r\n    }\r\n\r\n    if (rvalNotNumeric) {\r\n      rvalFloat = this._incomparable;\r\n    }\r\n\r\n    if (lvalNotNumeric && rvalNotNumeric) {\r\n      var lvalIsStr = isString(lval);\r\n      var rvalIsStr = isString(rval);\r\n\r\n      if (lvalIsStr) {\r\n        lvalFloat = rvalIsStr ? lval : 0;\r\n      }\r\n\r\n      if (rvalIsStr) {\r\n        rvalFloat = lvalIsStr ? rval : 0;\r\n      }\r\n    }\r\n\r\n    return lvalFloat < rvalFloat ? this._resultLT : lvalFloat > rvalFloat ? -this._resultLT : 0;\r\n  };\r\n\r\n  return SortOrderComparator;\r\n}();\r\n\r\nexport { SortOrderComparator };\r\n\r\nvar FilterEqualityComparator =\r\n/** @class */\r\nfunction () {\r\n  function FilterEqualityComparator(isEq, rval) {\r\n    this._rval = rval;\r\n    this._isEQ = isEq;\r\n    this._rvalTypeof = typeof rval;\r\n    this._rvalFloat = numericToNumber(rval);\r\n  } // Performance sensitive.\r\n\r\n\r\n  FilterEqualityComparator.prototype.evaluate = function (lval) {\r\n    var eqResult = lval === this._rval;\r\n\r\n    if (!eqResult) {\r\n      var lvalTypeof = typeof lval;\r\n\r\n      if (lvalTypeof !== this._rvalTypeof && (lvalTypeof === 'number' || this._rvalTypeof === 'number')) {\r\n        eqResult = numericToNumber(lval) === this._rvalFloat;\r\n      }\r\n    }\r\n\r\n    return this._isEQ ? eqResult : !eqResult;\r\n  };\r\n\r\n  return FilterEqualityComparator;\r\n}();\r\n/**\r\n * [FILTER_COMPARISON_RULE]\r\n * `lt`|`lte`|`gt`|`gte`:\r\n * + rval must be a number. And lval will be converted to number (`numericToNumber`) to compare.\r\n * `eq`:\r\n * + If same type, compare with `===`.\r\n * + If there is one number, convert to number (`numericToNumber`) to compare.\r\n * + Else return `false`.\r\n * `ne`:\r\n * + Not `eq`.\r\n *\r\n *\r\n * [SORT_COMPARISON_RULE]\r\n * All the values are grouped into three categories:\r\n * + \"numeric\" (number and numeric string)\r\n * + \"non-numeric-string\" (string that excluding numeric string)\r\n * + \"others\"\r\n * \"numeric\" vs \"numeric\": values are ordered by number order.\r\n * \"non-numeric-string\" vs \"non-numeric-string\": values are ordered by ES spec (#sec-abstract-relational-comparison).\r\n * \"others\" vs \"others\": do not change order (always return 0).\r\n * \"numeric\" vs \"non-numeric-string\": \"non-numeric-string\" is treated as \"incomparable\".\r\n * \"number\" vs \"others\": \"others\" is treated as \"incomparable\".\r\n * \"non-numeric-string\" vs \"others\": \"others\" is treated as \"incomparable\".\r\n * \"incomparable\" will be seen as -Infinity or Infinity (depends on the settings).\r\n * MEMO:\r\n *   Non-numeric string sort makes sense when we need to put the items with the same tag together.\r\n *   But if we support string sort, we still need to avoid the misleading like `'2' > '12'`,\r\n *   So we treat \"numeric-string\" sorted by number order rather than string comparison.\r\n *\r\n *\r\n * [CHECK_LIST_OF_THE_RULE_DESIGN]\r\n * + Do not support string comparison until required. And also need to\r\n *   avoid the misleading of \"2\" > \"12\".\r\n * + Should avoid the misleading case:\r\n *   `\" 22 \" gte \"22\"` is `true` but `\" 22 \" eq \"22\"` is `false`.\r\n * + JS bad case should be avoided: null <= 0, [] <= 0, ' ' <= 0, ...\r\n * + Only \"numeric\" can be converted to comparable number, otherwise converted to NaN.\r\n *   See `util/number.ts#numericToNumber`.\r\n *\r\n * @return If `op` is not `RelationalOperator`, return null;\r\n */\r\n\r\n\r\nexport function createFilterComparator(op, rval) {\r\n  return op === 'eq' || op === 'ne' ? new FilterEqualityComparator(op === 'eq', rval) : hasOwn(ORDER_COMPARISON_OP_MAP, op) ? new FilterOrderComparator(op, rval) : null;\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { SERIES_LAYOUT_BY_COLUMN, SOURCE_FORMAT_OBJECT_ROWS, SOURCE_FORMAT_ARRAY_ROWS } from '../../util/types.js';\r\nimport { normalizeToArray } from '../../util/model.js';\r\nimport { createHashMap, bind, each, hasOwn, map, clone, isObject, extend, isNumber } from 'zrender/lib/core/util.js';\r\nimport { getRawSourceItemGetter, getRawSourceDataCounter, getRawSourceValueGetter } from './dataProvider.js';\r\nimport { parseDataValue } from './dataValueHelper.js';\r\nimport { log, makePrintable, throwError } from '../../util/log.js';\r\nimport { createSource, detectSourceFormat } from '../Source.js';\r\n/**\r\n * TODO: disable writable.\r\n * This structure will be exposed to users.\r\n */\r\n\r\nvar ExternalSource =\r\n/** @class */\r\nfunction () {\r\n  function ExternalSource() {}\r\n\r\n  ExternalSource.prototype.getRawData = function () {\r\n    // Only built-in transform available.\r\n    throw new Error('not supported');\r\n  };\r\n\r\n  ExternalSource.prototype.getRawDataItem = function (dataIndex) {\r\n    // Only built-in transform available.\r\n    throw new Error('not supported');\r\n  };\r\n\r\n  ExternalSource.prototype.cloneRawData = function () {\r\n    return;\r\n  };\r\n  /**\r\n   * @return If dimension not found, return null/undefined.\r\n   */\r\n\r\n\r\n  ExternalSource.prototype.getDimensionInfo = function (dim) {\r\n    return;\r\n  };\r\n  /**\r\n   * dimensions defined if and only if either:\r\n   * (a) dataset.dimensions are declared.\r\n   * (b) dataset data include dimensions definitions in data (detected or via specified `sourceHeader`).\r\n   * If dimensions are defined, `dimensionInfoAll` is corresponding to\r\n   * the defined dimensions.\r\n   * Otherwise, `dimensionInfoAll` is determined by data columns.\r\n   * @return Always return an array (even empty array).\r\n   */\r\n\r\n\r\n  ExternalSource.prototype.cloneAllDimensionInfo = function () {\r\n    return;\r\n  };\r\n\r\n  ExternalSource.prototype.count = function () {\r\n    return;\r\n  };\r\n  /**\r\n   * Only support by dimension index.\r\n   * No need to support by dimension name in transform function,\r\n   * because transform function is not case-specific, no need to use name literally.\r\n   */\r\n\r\n\r\n  ExternalSource.prototype.retrieveValue = function (dataIndex, dimIndex) {\r\n    return;\r\n  };\r\n\r\n  ExternalSource.prototype.retrieveValueFromItem = function (dataItem, dimIndex) {\r\n    return;\r\n  };\r\n\r\n  ExternalSource.prototype.convertValue = function (rawVal, dimInfo) {\r\n    return parseDataValue(rawVal, dimInfo);\r\n  };\r\n\r\n  return ExternalSource;\r\n}();\r\n\r\nexport { ExternalSource };\r\n\r\nfunction createExternalSource(internalSource, externalTransform) {\r\n  var extSource = new ExternalSource();\r\n  var data = internalSource.data;\r\n  var sourceFormat = extSource.sourceFormat = internalSource.sourceFormat;\r\n  var sourceHeaderCount = internalSource.startIndex;\r\n  var errMsg = '';\r\n\r\n  if (internalSource.seriesLayoutBy !== SERIES_LAYOUT_BY_COLUMN) {\r\n    // For the logic simplicity in transformer, only 'culumn' is\r\n    // supported in data transform. Otherwise, the `dimensionsDefine`\r\n    // might be detected by 'row', which probably confuses users.\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      errMsg = '`seriesLayoutBy` of upstream dataset can only be \"column\" in data transform.';\r\n    }\r\n\r\n    throwError(errMsg);\r\n  } // [MEMO]\r\n  // Create a new dimensions structure for exposing.\r\n  // Do not expose all dimension info to users directly.\r\n  // Because the dimension is probably auto detected from data and not might reliable.\r\n  // Should not lead the transformers to think that is reliable and return it.\r\n  // See [DIMENSION_INHERIT_RULE] in `sourceManager.ts`.\r\n\r\n\r\n  var dimensions = [];\r\n  var dimsByName = {};\r\n  var dimsDef = internalSource.dimensionsDefine;\r\n\r\n  if (dimsDef) {\r\n    each(dimsDef, function (dimDef, idx) {\r\n      var name = dimDef.name;\r\n      var dimDefExt = {\r\n        index: idx,\r\n        name: name,\r\n        displayName: dimDef.displayName\r\n      };\r\n      dimensions.push(dimDefExt); // Users probably do not specify dimension name. For simplicity, data transform\r\n      // does not generate dimension name.\r\n\r\n      if (name != null) {\r\n        // Dimension name should not be duplicated.\r\n        // For simplicity, data transform forbids name duplication, do not generate\r\n        // new name like module `completeDimensions.ts` did, but just tell users.\r\n        var errMsg_1 = '';\r\n\r\n        if (hasOwn(dimsByName, name)) {\r\n          if (process.env.NODE_ENV !== 'production') {\r\n            errMsg_1 = 'dimension name \"' + name + '\" duplicated.';\r\n          }\r\n\r\n          throwError(errMsg_1);\r\n        }\r\n\r\n        dimsByName[name] = dimDefExt;\r\n      }\r\n    });\r\n  } // If dimension definitions are not defined and can not be detected.\r\n  // e.g., pure data `[[11, 22], ...]`.\r\n  else {\r\n      for (var i = 0; i < internalSource.dimensionsDetectedCount || 0; i++) {\r\n        // Do not generete name or anything others. The consequence process in\r\n        // `transform` or `series` probably have there own name generation strategry.\r\n        dimensions.push({\r\n          index: i\r\n        });\r\n      }\r\n    } // Implement public methods:\r\n\r\n\r\n  var rawItemGetter = getRawSourceItemGetter(sourceFormat, SERIES_LAYOUT_BY_COLUMN);\r\n\r\n  if (externalTransform.__isBuiltIn) {\r\n    extSource.getRawDataItem = function (dataIndex) {\r\n      return rawItemGetter(data, sourceHeaderCount, dimensions, dataIndex);\r\n    };\r\n\r\n    extSource.getRawData = bind(getRawData, null, internalSource);\r\n  }\r\n\r\n  extSource.cloneRawData = bind(cloneRawData, null, internalSource);\r\n  var rawCounter = getRawSourceDataCounter(sourceFormat, SERIES_LAYOUT_BY_COLUMN);\r\n  extSource.count = bind(rawCounter, null, data, sourceHeaderCount, dimensions);\r\n  var rawValueGetter = getRawSourceValueGetter(sourceFormat);\r\n\r\n  extSource.retrieveValue = function (dataIndex, dimIndex) {\r\n    var rawItem = rawItemGetter(data, sourceHeaderCount, dimensions, dataIndex);\r\n    return retrieveValueFromItem(rawItem, dimIndex);\r\n  };\r\n\r\n  var retrieveValueFromItem = extSource.retrieveValueFromItem = function (dataItem, dimIndex) {\r\n    if (dataItem == null) {\r\n      return;\r\n    }\r\n\r\n    var dimDef = dimensions[dimIndex]; // When `dimIndex` is `null`, `rawValueGetter` return the whole item.\r\n\r\n    if (dimDef) {\r\n      return rawValueGetter(dataItem, dimIndex, dimDef.name);\r\n    }\r\n  };\r\n\r\n  extSource.getDimensionInfo = bind(getDimensionInfo, null, dimensions, dimsByName);\r\n  extSource.cloneAllDimensionInfo = bind(cloneAllDimensionInfo, null, dimensions);\r\n  return extSource;\r\n}\r\n\r\nfunction getRawData(upstream) {\r\n  var sourceFormat = upstream.sourceFormat;\r\n\r\n  if (!isSupportedSourceFormat(sourceFormat)) {\r\n    var errMsg = '';\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      errMsg = '`getRawData` is not supported in source format ' + sourceFormat;\r\n    }\r\n\r\n    throwError(errMsg);\r\n  }\r\n\r\n  return upstream.data;\r\n}\r\n\r\nfunction cloneRawData(upstream) {\r\n  var sourceFormat = upstream.sourceFormat;\r\n  var data = upstream.data;\r\n\r\n  if (!isSupportedSourceFormat(sourceFormat)) {\r\n    var errMsg = '';\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      errMsg = '`cloneRawData` is not supported in source format ' + sourceFormat;\r\n    }\r\n\r\n    throwError(errMsg);\r\n  }\r\n\r\n  if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS) {\r\n    var result = [];\r\n\r\n    for (var i = 0, len = data.length; i < len; i++) {\r\n      // Not strictly clone for performance\r\n      result.push(data[i].slice());\r\n    }\r\n\r\n    return result;\r\n  } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS) {\r\n    var result = [];\r\n\r\n    for (var i = 0, len = data.length; i < len; i++) {\r\n      // Not strictly clone for performance\r\n      result.push(extend({}, data[i]));\r\n    }\r\n\r\n    return result;\r\n  }\r\n}\r\n\r\nfunction getDimensionInfo(dimensions, dimsByName, dim) {\r\n  if (dim == null) {\r\n    return;\r\n  } // Keep the same logic as `List::getDimension` did.\r\n\r\n\r\n  if (isNumber(dim) // If being a number-like string but not being defined a dimension name.\r\n  || !isNaN(dim) && !hasOwn(dimsByName, dim)) {\r\n    return dimensions[dim];\r\n  } else if (hasOwn(dimsByName, dim)) {\r\n    return dimsByName[dim];\r\n  }\r\n}\r\n\r\nfunction cloneAllDimensionInfo(dimensions) {\r\n  return clone(dimensions);\r\n}\r\n\r\nvar externalTransformMap = createHashMap();\r\nexport function registerExternalTransform(externalTransform) {\r\n  externalTransform = clone(externalTransform);\r\n  var type = externalTransform.type;\r\n  var errMsg = '';\r\n\r\n  if (!type) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      errMsg = 'Must have a `type` when `registerTransform`.';\r\n    }\r\n\r\n    throwError(errMsg);\r\n  }\r\n\r\n  var typeParsed = type.split(':');\r\n\r\n  if (typeParsed.length !== 2) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      errMsg = 'Name must include namespace like \"ns:regression\".';\r\n    }\r\n\r\n    throwError(errMsg);\r\n  } // Namespace 'echarts:xxx' is official namespace, where the transforms should\r\n  // be called directly via 'xxx' rather than 'echarts:xxx'.\r\n\r\n\r\n  var isBuiltIn = false;\r\n\r\n  if (typeParsed[0] === 'echarts') {\r\n    type = typeParsed[1];\r\n    isBuiltIn = true;\r\n  }\r\n\r\n  externalTransform.__isBuiltIn = isBuiltIn;\r\n  externalTransformMap.set(type, externalTransform);\r\n}\r\nexport function applyDataTransform(rawTransOption, sourceList, infoForPrint) {\r\n  var pipedTransOption = normalizeToArray(rawTransOption);\r\n  var pipeLen = pipedTransOption.length;\r\n  var errMsg = '';\r\n\r\n  if (!pipeLen) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      errMsg = 'If `transform` declared, it should at least contain one transform.';\r\n    }\r\n\r\n    throwError(errMsg);\r\n  }\r\n\r\n  for (var i = 0, len = pipeLen; i < len; i++) {\r\n    var transOption = pipedTransOption[i];\r\n    sourceList = applySingleDataTransform(transOption, sourceList, infoForPrint, pipeLen === 1 ? null : i); // piped transform only support single input, except the fist one.\r\n    // piped transform only support single output, except the last one.\r\n\r\n    if (i !== len - 1) {\r\n      sourceList.length = Math.max(sourceList.length, 1);\r\n    }\r\n  }\r\n\r\n  return sourceList;\r\n}\r\n\r\nfunction applySingleDataTransform(transOption, upSourceList, infoForPrint, // If `pipeIndex` is null/undefined, no piped transform.\r\npipeIndex) {\r\n  var errMsg = '';\r\n\r\n  if (!upSourceList.length) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      errMsg = 'Must have at least one upstream dataset.';\r\n    }\r\n\r\n    throwError(errMsg);\r\n  }\r\n\r\n  if (!isObject(transOption)) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      errMsg = 'transform declaration must be an object rather than ' + typeof transOption + '.';\r\n    }\r\n\r\n    throwError(errMsg);\r\n  }\r\n\r\n  var transType = transOption.type;\r\n  var externalTransform = externalTransformMap.get(transType);\r\n\r\n  if (!externalTransform) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      errMsg = 'Can not find transform on type \"' + transType + '\".';\r\n    }\r\n\r\n    throwError(errMsg);\r\n  } // Prepare source\r\n\r\n\r\n  var extUpSourceList = map(upSourceList, function (upSource) {\r\n    return createExternalSource(upSource, externalTransform);\r\n  });\r\n  var resultList = normalizeToArray(externalTransform.transform({\r\n    upstream: extUpSourceList[0],\r\n    upstreamList: extUpSourceList,\r\n    config: clone(transOption.config)\r\n  }));\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (transOption.print) {\r\n      var printStrArr = map(resultList, function (extSource) {\r\n        var pipeIndexStr = pipeIndex != null ? ' === pipe index: ' + pipeIndex : '';\r\n        return ['=== dataset index: ' + infoForPrint.datasetIndex + pipeIndexStr + ' ===', '- transform result data:', makePrintable(extSource.data), '- transform result dimensions:', makePrintable(extSource.dimensions)].join('\\n');\r\n      }).join('\\n');\r\n      log(printStrArr);\r\n    }\r\n  }\r\n\r\n  return map(resultList, function (result, resultIndex) {\r\n    var errMsg = '';\r\n\r\n    if (!isObject(result)) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        errMsg = 'A transform should not return some empty results.';\r\n      }\r\n\r\n      throwError(errMsg);\r\n    }\r\n\r\n    if (!result.data) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        errMsg = 'Transform result data should be not be null or undefined';\r\n      }\r\n\r\n      throwError(errMsg);\r\n    }\r\n\r\n    var sourceFormat = detectSourceFormat(result.data);\r\n\r\n    if (!isSupportedSourceFormat(sourceFormat)) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        errMsg = 'Transform result data should be array rows or object rows.';\r\n      }\r\n\r\n      throwError(errMsg);\r\n    }\r\n\r\n    var resultMetaRawOption;\r\n    var firstUpSource = upSourceList[0];\r\n    /**\r\n     * Intuitively, the end users known the content of the original `dataset.source`,\r\n     * calucating the transform result in mind.\r\n     * Suppose the original `dataset.source` is:\r\n     * ```js\r\n     * [\r\n     *     ['product', '2012', '2013', '2014', '2015'],\r\n     *     ['AAA', 41.1, 30.4, 65.1, 53.3],\r\n     *     ['BBB', 86.5, 92.1, 85.7, 83.1],\r\n     *     ['CCC', 24.1, 67.2, 79.5, 86.4]\r\n     * ]\r\n     * ```\r\n     * The dimension info have to be detected from the source data.\r\n     * Some of the transformers (like filter, sort) will follow the dimension info\r\n     * of upstream, while others use new dimensions (like aggregate).\r\n     * Transformer can output a field `dimensions` to define the its own output dimensions.\r\n     * We also allow transformers to ignore the output `dimensions` field, and\r\n     * inherit the upstream dimensions definition. It can reduce the burden of handling\r\n     * dimensions in transformers.\r\n     *\r\n     * See also [DIMENSION_INHERIT_RULE] in `sourceManager.ts`.\r\n     */\r\n\r\n    if (firstUpSource && resultIndex === 0 // If transformer returns `dimensions`, it means that the transformer has different\r\n    // dimensions definitions. We do not inherit anything from upstream.\r\n    && !result.dimensions) {\r\n      var startIndex = firstUpSource.startIndex; // We copy the header of upstream to the result, because:\r\n      // (1) The returned data always does not contain header line and can not be used\r\n      // as dimension-detection. In this case we can not use \"detected dimensions\" of\r\n      // upstream directly, because it might be detected based on different `seriesLayoutBy`.\r\n      // (2) We should support that the series read the upstream source in `seriesLayoutBy: 'row'`.\r\n      // So the original detected header should be add to the result, otherwise they can not be read.\r\n\r\n      if (startIndex) {\r\n        result.data = firstUpSource.data.slice(0, startIndex).concat(result.data);\r\n      }\r\n\r\n      resultMetaRawOption = {\r\n        seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN,\r\n        sourceHeader: startIndex,\r\n        dimensions: firstUpSource.metaRawOption.dimensions\r\n      };\r\n    } else {\r\n      resultMetaRawOption = {\r\n        seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN,\r\n        sourceHeader: 0,\r\n        dimensions: result.dimensions\r\n      };\r\n    }\r\n\r\n    return createSource(result.data, resultMetaRawOption, null);\r\n  });\r\n}\r\n\r\nfunction isSupportedSourceFormat(sourceFormat) {\r\n  return sourceFormat === SOURCE_FORMAT_ARRAY_ROWS || sourceFormat === SOURCE_FORMAT_OBJECT_ROWS;\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { assert, clone, createHashMap, isFunction, keys, map, reduce } from 'zrender/lib/core/util.js';\r\nimport { parseDataValue } from './helper/dataValueHelper.js';\r\nimport { shouldRetrieveDataByName } from './Source.js';\r\nvar UNDEFINED = 'undefined';\r\n/* global Float64Array, Int32Array, Uint32Array, Uint16Array */\r\n// Caution: MUST not use `new CtorUint32Array(arr, 0, len)`, because the Ctor of array is\r\n// different from the Ctor of typed array.\r\n\r\nexport var CtorUint32Array = typeof Uint32Array === UNDEFINED ? Array : Uint32Array;\r\nexport var CtorUint16Array = typeof Uint16Array === UNDEFINED ? Array : Uint16Array;\r\nexport var CtorInt32Array = typeof Int32Array === UNDEFINED ? Array : Int32Array;\r\nexport var CtorFloat64Array = typeof Float64Array === UNDEFINED ? Array : Float64Array;\r\n/**\r\n * Multi dimensional data store\r\n */\r\n\r\nvar dataCtors = {\r\n  'float': CtorFloat64Array,\r\n  'int': CtorInt32Array,\r\n  // Ordinal data type can be string or int\r\n  'ordinal': Array,\r\n  'number': Array,\r\n  'time': CtorFloat64Array\r\n};\r\nvar defaultDimValueGetters;\r\n\r\nfunction getIndicesCtor(rawCount) {\r\n  // The possible max value in this._indicies is always this._rawCount despite of filtering.\r\n  return rawCount > 65535 ? CtorUint32Array : CtorUint16Array;\r\n}\r\n\r\n;\r\n\r\nfunction getInitialExtent() {\r\n  return [Infinity, -Infinity];\r\n}\r\n\r\n;\r\n\r\nfunction cloneChunk(originalChunk) {\r\n  var Ctor = originalChunk.constructor; // Only shallow clone is enough when Array.\r\n\r\n  return Ctor === Array ? originalChunk.slice() : new Ctor(originalChunk);\r\n}\r\n\r\nfunction prepareStore(store, dimIdx, dimType, end, append) {\r\n  var DataCtor = dataCtors[dimType || 'float'];\r\n\r\n  if (append) {\r\n    var oldStore = store[dimIdx];\r\n    var oldLen = oldStore && oldStore.length;\r\n\r\n    if (!(oldLen === end)) {\r\n      var newStore = new DataCtor(end); // The cost of the copy is probably inconsiderable\r\n      // within the initial chunkSize.\r\n\r\n      for (var j = 0; j < oldLen; j++) {\r\n        newStore[j] = oldStore[j];\r\n      }\r\n\r\n      store[dimIdx] = newStore;\r\n    }\r\n  } else {\r\n    store[dimIdx] = new DataCtor(end);\r\n  }\r\n}\r\n\r\n;\r\n/**\r\n * Basically, DataStore API keep immutable.\r\n */\r\n\r\nvar DataStore =\r\n/** @class */\r\nfunction () {\r\n  function DataStore() {\r\n    this._chunks = []; // It will not be calculated until needed.\r\n\r\n    this._rawExtent = [];\r\n    this._extent = [];\r\n    this._count = 0;\r\n    this._rawCount = 0;\r\n    this._calcDimNameToIdx = createHashMap();\r\n  }\r\n  /**\r\n   * Initialize from data\r\n   */\r\n\r\n\r\n  DataStore.prototype.initData = function (provider, inputDimensions, dimValueGetter) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assert(isFunction(provider.getItem) && isFunction(provider.count), 'Invalid data provider.');\r\n    }\r\n\r\n    this._provider = provider; // Clear\r\n\r\n    this._chunks = [];\r\n    this._indices = null;\r\n    this.getRawIndex = this._getRawIdxIdentity;\r\n    var source = provider.getSource();\r\n    var defaultGetter = this.defaultDimValueGetter = defaultDimValueGetters[source.sourceFormat]; // Default dim value getter\r\n\r\n    this._dimValueGetter = dimValueGetter || defaultGetter; // Reset raw extent.\r\n\r\n    this._rawExtent = [];\r\n    var willRetrieveDataByName = shouldRetrieveDataByName(source);\r\n    this._dimensions = map(inputDimensions, function (dim) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        if (willRetrieveDataByName) {\r\n          assert(dim.property != null);\r\n        }\r\n      }\r\n\r\n      return {\r\n        // Only pick these two props. Not leak other properties like orderMeta.\r\n        type: dim.type,\r\n        property: dim.property\r\n      };\r\n    });\r\n\r\n    this._initDataFromProvider(0, provider.count());\r\n  };\r\n\r\n  DataStore.prototype.getProvider = function () {\r\n    return this._provider;\r\n  };\r\n  /**\r\n   * Caution: even when a `source` instance owned by a series, the created data store\r\n   * may still be shared by different sereis (the source hash does not use all `source`\r\n   * props, see `sourceManager`). In this case, the `source` props that are not used in\r\n   * hash (like `source.dimensionDefine`) probably only belongs to a certain series and\r\n   * thus should not be fetch here.\r\n   */\r\n\r\n\r\n  DataStore.prototype.getSource = function () {\r\n    return this._provider.getSource();\r\n  };\r\n  /**\r\n   * @caution Only used in dataStack.\r\n   */\r\n\r\n\r\n  DataStore.prototype.ensureCalculationDimension = function (dimName, type) {\r\n    var calcDimNameToIdx = this._calcDimNameToIdx;\r\n    var dimensions = this._dimensions;\r\n    var calcDimIdx = calcDimNameToIdx.get(dimName);\r\n\r\n    if (calcDimIdx != null) {\r\n      if (dimensions[calcDimIdx].type === type) {\r\n        return calcDimIdx;\r\n      }\r\n    } else {\r\n      calcDimIdx = dimensions.length;\r\n    }\r\n\r\n    dimensions[calcDimIdx] = {\r\n      type: type\r\n    };\r\n    calcDimNameToIdx.set(dimName, calcDimIdx);\r\n    this._chunks[calcDimIdx] = new dataCtors[type || 'float'](this._rawCount);\r\n    this._rawExtent[calcDimIdx] = getInitialExtent();\r\n    return calcDimIdx;\r\n  };\r\n\r\n  DataStore.prototype.collectOrdinalMeta = function (dimIdx, ordinalMeta) {\r\n    var chunk = this._chunks[dimIdx];\r\n    var dim = this._dimensions[dimIdx];\r\n    var rawExtents = this._rawExtent;\r\n    var offset = dim.ordinalOffset || 0;\r\n    var len = chunk.length;\r\n\r\n    if (offset === 0) {\r\n      // We need to reset the rawExtent if collect is from start.\r\n      // Because this dimension may be guessed as number and calcuating a wrong extent.\r\n      rawExtents[dimIdx] = getInitialExtent();\r\n    }\r\n\r\n    var dimRawExtent = rawExtents[dimIdx]; // Parse from previous data offset. len may be changed after appendData\r\n\r\n    for (var i = offset; i < len; i++) {\r\n      var val = chunk[i] = ordinalMeta.parseAndCollect(chunk[i]);\r\n\r\n      if (!isNaN(val)) {\r\n        dimRawExtent[0] = Math.min(val, dimRawExtent[0]);\r\n        dimRawExtent[1] = Math.max(val, dimRawExtent[1]);\r\n      }\r\n    }\r\n\r\n    dim.ordinalMeta = ordinalMeta;\r\n    dim.ordinalOffset = len;\r\n    dim.type = 'ordinal'; // Force to be ordinal\r\n  };\r\n\r\n  DataStore.prototype.getOrdinalMeta = function (dimIdx) {\r\n    var dimInfo = this._dimensions[dimIdx];\r\n    var ordinalMeta = dimInfo.ordinalMeta;\r\n    return ordinalMeta;\r\n  };\r\n\r\n  DataStore.prototype.getDimensionProperty = function (dimIndex) {\r\n    var item = this._dimensions[dimIndex];\r\n    return item && item.property;\r\n  };\r\n  /**\r\n   * Caution: Can be only called on raw data (before `this._indices` created).\r\n   */\r\n\r\n\r\n  DataStore.prototype.appendData = function (data) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assert(!this._indices, 'appendData can only be called on raw data.');\r\n    }\r\n\r\n    var provider = this._provider;\r\n    var start = this.count();\r\n    provider.appendData(data);\r\n    var end = provider.count();\r\n\r\n    if (!provider.persistent) {\r\n      end += start;\r\n    }\r\n\r\n    if (start < end) {\r\n      this._initDataFromProvider(start, end, true);\r\n    }\r\n\r\n    return [start, end];\r\n  };\r\n\r\n  DataStore.prototype.appendValues = function (values, minFillLen) {\r\n    var chunks = this._chunks;\r\n    var dimensions = this._dimensions;\r\n    var dimLen = dimensions.length;\r\n    var rawExtent = this._rawExtent;\r\n    var start = this.count();\r\n    var end = start + Math.max(values.length, minFillLen || 0);\r\n\r\n    for (var i = 0; i < dimLen; i++) {\r\n      var dim = dimensions[i];\r\n      prepareStore(chunks, i, dim.type, end, true);\r\n    }\r\n\r\n    var emptyDataItem = [];\r\n\r\n    for (var idx = start; idx < end; idx++) {\r\n      var sourceIdx = idx - start; // Store the data by dimensions\r\n\r\n      for (var dimIdx = 0; dimIdx < dimLen; dimIdx++) {\r\n        var dim = dimensions[dimIdx];\r\n        var val = defaultDimValueGetters.arrayRows.call(this, values[sourceIdx] || emptyDataItem, dim.property, sourceIdx, dimIdx);\r\n        chunks[dimIdx][idx] = val;\r\n        var dimRawExtent = rawExtent[dimIdx];\r\n        val < dimRawExtent[0] && (dimRawExtent[0] = val);\r\n        val > dimRawExtent[1] && (dimRawExtent[1] = val);\r\n      }\r\n    }\r\n\r\n    this._rawCount = this._count = end;\r\n    return {\r\n      start: start,\r\n      end: end\r\n    };\r\n  };\r\n\r\n  DataStore.prototype._initDataFromProvider = function (start, end, append) {\r\n    var provider = this._provider;\r\n    var chunks = this._chunks;\r\n    var dimensions = this._dimensions;\r\n    var dimLen = dimensions.length;\r\n    var rawExtent = this._rawExtent;\r\n    var dimNames = map(dimensions, function (dim) {\r\n      return dim.property;\r\n    });\r\n\r\n    for (var i = 0; i < dimLen; i++) {\r\n      var dim = dimensions[i];\r\n\r\n      if (!rawExtent[i]) {\r\n        rawExtent[i] = getInitialExtent();\r\n      }\r\n\r\n      prepareStore(chunks, i, dim.type, end, append);\r\n    }\r\n\r\n    if (provider.fillStorage) {\r\n      provider.fillStorage(start, end, chunks, rawExtent);\r\n    } else {\r\n      var dataItem = [];\r\n\r\n      for (var idx = start; idx < end; idx++) {\r\n        // NOTICE: Try not to write things into dataItem\r\n        dataItem = provider.getItem(idx, dataItem); // Each data item is value\r\n        // [1, 2]\r\n        // 2\r\n        // Bar chart, line chart which uses category axis\r\n        // only gives the 'y' value. 'x' value is the indices of category\r\n        // Use a tempValue to normalize the value to be a (x, y) value\r\n        // Store the data by dimensions\r\n\r\n        for (var dimIdx = 0; dimIdx < dimLen; dimIdx++) {\r\n          var dimStorage = chunks[dimIdx]; // PENDING NULL is empty or zero\r\n\r\n          var val = this._dimValueGetter(dataItem, dimNames[dimIdx], idx, dimIdx);\r\n\r\n          dimStorage[idx] = val;\r\n          var dimRawExtent = rawExtent[dimIdx];\r\n          val < dimRawExtent[0] && (dimRawExtent[0] = val);\r\n          val > dimRawExtent[1] && (dimRawExtent[1] = val);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!provider.persistent && provider.clean) {\r\n      // Clean unused data if data source is typed array.\r\n      provider.clean();\r\n    }\r\n\r\n    this._rawCount = this._count = end; // Reset data extent\r\n\r\n    this._extent = [];\r\n  };\r\n\r\n  DataStore.prototype.count = function () {\r\n    return this._count;\r\n  };\r\n  /**\r\n   * Get value. Return NaN if idx is out of range.\r\n   */\r\n\r\n\r\n  DataStore.prototype.get = function (dim, idx) {\r\n    if (!(idx >= 0 && idx < this._count)) {\r\n      return NaN;\r\n    }\r\n\r\n    var dimStore = this._chunks[dim];\r\n    return dimStore ? dimStore[this.getRawIndex(idx)] : NaN;\r\n  };\r\n\r\n  DataStore.prototype.getValues = function (dimensions, idx) {\r\n    var values = [];\r\n    var dimArr = [];\r\n\r\n    if (idx == null) {\r\n      idx = dimensions; // TODO get all from store?\r\n\r\n      dimensions = []; // All dimensions\r\n\r\n      for (var i = 0; i < this._dimensions.length; i++) {\r\n        dimArr.push(i);\r\n      }\r\n    } else {\r\n      dimArr = dimensions;\r\n    }\r\n\r\n    for (var i = 0, len = dimArr.length; i < len; i++) {\r\n      values.push(this.get(dimArr[i], idx));\r\n    }\r\n\r\n    return values;\r\n  };\r\n  /**\r\n   * @param dim concrete dim\r\n   */\r\n\r\n\r\n  DataStore.prototype.getByRawIndex = function (dim, rawIdx) {\r\n    if (!(rawIdx >= 0 && rawIdx < this._rawCount)) {\r\n      return NaN;\r\n    }\r\n\r\n    var dimStore = this._chunks[dim];\r\n    return dimStore ? dimStore[rawIdx] : NaN;\r\n  };\r\n  /**\r\n   * Get sum of data in one dimension\r\n   */\r\n\r\n\r\n  DataStore.prototype.getSum = function (dim) {\r\n    var dimData = this._chunks[dim];\r\n    var sum = 0;\r\n\r\n    if (dimData) {\r\n      for (var i = 0, len = this.count(); i < len; i++) {\r\n        var value = this.get(dim, i);\r\n\r\n        if (!isNaN(value)) {\r\n          sum += value;\r\n        }\r\n      }\r\n    }\r\n\r\n    return sum;\r\n  };\r\n  /**\r\n   * Get median of data in one dimension\r\n   */\r\n\r\n\r\n  DataStore.prototype.getMedian = function (dim) {\r\n    var dimDataArray = []; // map all data of one dimension\r\n\r\n    this.each([dim], function (val) {\r\n      if (!isNaN(val)) {\r\n        dimDataArray.push(val);\r\n      }\r\n    }); // TODO\r\n    // Use quick select?\r\n\r\n    var sortedDimDataArray = dimDataArray.sort(function (a, b) {\r\n      return a - b;\r\n    });\r\n    var len = this.count(); // calculate median\r\n\r\n    return len === 0 ? 0 : len % 2 === 1 ? sortedDimDataArray[(len - 1) / 2] : (sortedDimDataArray[len / 2] + sortedDimDataArray[len / 2 - 1]) / 2;\r\n  };\r\n  /**\r\n   * Retrieve the index with given raw data index.\r\n   */\r\n\r\n\r\n  DataStore.prototype.indexOfRawIndex = function (rawIndex) {\r\n    if (rawIndex >= this._rawCount || rawIndex < 0) {\r\n      return -1;\r\n    }\r\n\r\n    if (!this._indices) {\r\n      return rawIndex;\r\n    } // Indices are ascending\r\n\r\n\r\n    var indices = this._indices; // If rawIndex === dataIndex\r\n\r\n    var rawDataIndex = indices[rawIndex];\r\n\r\n    if (rawDataIndex != null && rawDataIndex < this._count && rawDataIndex === rawIndex) {\r\n      return rawIndex;\r\n    }\r\n\r\n    var left = 0;\r\n    var right = this._count - 1;\r\n\r\n    while (left <= right) {\r\n      var mid = (left + right) / 2 | 0;\r\n\r\n      if (indices[mid] < rawIndex) {\r\n        left = mid + 1;\r\n      } else if (indices[mid] > rawIndex) {\r\n        right = mid - 1;\r\n      } else {\r\n        return mid;\r\n      }\r\n    }\r\n\r\n    return -1;\r\n  };\r\n  /**\r\n   * Retrieve the index of nearest value.\r\n   * @param dim\r\n   * @param value\r\n   * @param [maxDistance=Infinity]\r\n   * @return If and only if multiple indices have\r\n   *         the same value, they are put to the result.\r\n   */\r\n\r\n\r\n  DataStore.prototype.indicesOfNearest = function (dim, value, maxDistance) {\r\n    var chunks = this._chunks;\r\n    var dimData = chunks[dim];\r\n    var nearestIndices = [];\r\n\r\n    if (!dimData) {\r\n      return nearestIndices;\r\n    }\r\n\r\n    if (maxDistance == null) {\r\n      maxDistance = Infinity;\r\n    }\r\n\r\n    var minDist = Infinity;\r\n    var minDiff = -1;\r\n    var nearestIndicesLen = 0; // Check the test case of `test/ut/spec/data/SeriesData.js`.\r\n\r\n    for (var i = 0, len = this.count(); i < len; i++) {\r\n      var dataIndex = this.getRawIndex(i);\r\n      var diff = value - dimData[dataIndex];\r\n      var dist = Math.abs(diff);\r\n\r\n      if (dist <= maxDistance) {\r\n        // When the `value` is at the middle of `this.get(dim, i)` and `this.get(dim, i+1)`,\r\n        // we'd better not push both of them to `nearestIndices`, otherwise it is easy to\r\n        // get more than one item in `nearestIndices` (more specifically, in `tooltip`).\r\n        // So we choose the one that `diff >= 0` in this case.\r\n        // But if `this.get(dim, i)` and `this.get(dim, j)` get the same value, both of them\r\n        // should be push to `nearestIndices`.\r\n        if (dist < minDist || dist === minDist && diff >= 0 && minDiff < 0) {\r\n          minDist = dist;\r\n          minDiff = diff;\r\n          nearestIndicesLen = 0;\r\n        }\r\n\r\n        if (diff === minDiff) {\r\n          nearestIndices[nearestIndicesLen++] = i;\r\n        }\r\n      }\r\n    }\r\n\r\n    nearestIndices.length = nearestIndicesLen;\r\n    return nearestIndices;\r\n  };\r\n\r\n  DataStore.prototype.getIndices = function () {\r\n    var newIndices;\r\n    var indices = this._indices;\r\n\r\n    if (indices) {\r\n      var Ctor = indices.constructor;\r\n      var thisCount = this._count; // `new Array(a, b, c)` is different from `new Uint32Array(a, b, c)`.\r\n\r\n      if (Ctor === Array) {\r\n        newIndices = new Ctor(thisCount);\r\n\r\n        for (var i = 0; i < thisCount; i++) {\r\n          newIndices[i] = indices[i];\r\n        }\r\n      } else {\r\n        newIndices = new Ctor(indices.buffer, 0, thisCount);\r\n      }\r\n    } else {\r\n      var Ctor = getIndicesCtor(this._rawCount);\r\n      newIndices = new Ctor(this.count());\r\n\r\n      for (var i = 0; i < newIndices.length; i++) {\r\n        newIndices[i] = i;\r\n      }\r\n    }\r\n\r\n    return newIndices;\r\n  };\r\n  /**\r\n   * Data filter.\r\n   */\r\n\r\n\r\n  DataStore.prototype.filter = function (dims, cb) {\r\n    if (!this._count) {\r\n      return this;\r\n    }\r\n\r\n    var newStore = this.clone();\r\n    var count = newStore.count();\r\n    var Ctor = getIndicesCtor(newStore._rawCount);\r\n    var newIndices = new Ctor(count);\r\n    var value = [];\r\n    var dimSize = dims.length;\r\n    var offset = 0;\r\n    var dim0 = dims[0];\r\n    var chunks = newStore._chunks;\r\n\r\n    for (var i = 0; i < count; i++) {\r\n      var keep = void 0;\r\n      var rawIdx = newStore.getRawIndex(i); // Simple optimization\r\n\r\n      if (dimSize === 0) {\r\n        keep = cb(i);\r\n      } else if (dimSize === 1) {\r\n        var val = chunks[dim0][rawIdx];\r\n        keep = cb(val, i);\r\n      } else {\r\n        var k = 0;\r\n\r\n        for (; k < dimSize; k++) {\r\n          value[k] = chunks[dims[k]][rawIdx];\r\n        }\r\n\r\n        value[k] = i;\r\n        keep = cb.apply(null, value);\r\n      }\r\n\r\n      if (keep) {\r\n        newIndices[offset++] = rawIdx;\r\n      }\r\n    } // Set indices after filtered.\r\n\r\n\r\n    if (offset < count) {\r\n      newStore._indices = newIndices;\r\n    }\r\n\r\n    newStore._count = offset; // Reset data extent\r\n\r\n    newStore._extent = [];\r\n\r\n    newStore._updateGetRawIdx();\r\n\r\n    return newStore;\r\n  };\r\n  /**\r\n   * Select data in range. (For optimization of filter)\r\n   * (Manually inline code, support 5 million data filtering in data zoom.)\r\n   */\r\n\r\n\r\n  DataStore.prototype.selectRange = function (range) {\r\n    var newStore = this.clone();\r\n    var len = newStore._count;\r\n\r\n    if (!len) {\r\n      return this;\r\n    }\r\n\r\n    var dims = keys(range);\r\n    var dimSize = dims.length;\r\n\r\n    if (!dimSize) {\r\n      return this;\r\n    }\r\n\r\n    var originalCount = newStore.count();\r\n    var Ctor = getIndicesCtor(newStore._rawCount);\r\n    var newIndices = new Ctor(originalCount);\r\n    var offset = 0;\r\n    var dim0 = dims[0];\r\n    var min = range[dim0][0];\r\n    var max = range[dim0][1];\r\n    var storeArr = newStore._chunks;\r\n    var quickFinished = false;\r\n\r\n    if (!newStore._indices) {\r\n      // Extreme optimization for common case. About 2x faster in chrome.\r\n      var idx = 0;\r\n\r\n      if (dimSize === 1) {\r\n        var dimStorage = storeArr[dims[0]];\r\n\r\n        for (var i = 0; i < len; i++) {\r\n          var val = dimStorage[i]; // NaN will not be filtered. Consider the case, in line chart, empty\r\n          // value indicates the line should be broken. But for the case like\r\n          // scatter plot, a data item with empty value will not be rendered,\r\n          // but the axis extent may be effected if some other dim of the data\r\n          // item has value. Fortunately it is not a significant negative effect.\r\n\r\n          if (val >= min && val <= max || isNaN(val)) {\r\n            newIndices[offset++] = idx;\r\n          }\r\n\r\n          idx++;\r\n        }\r\n\r\n        quickFinished = true;\r\n      } else if (dimSize === 2) {\r\n        var dimStorage = storeArr[dims[0]];\r\n        var dimStorage2 = storeArr[dims[1]];\r\n        var min2 = range[dims[1]][0];\r\n        var max2 = range[dims[1]][1];\r\n\r\n        for (var i = 0; i < len; i++) {\r\n          var val = dimStorage[i];\r\n          var val2 = dimStorage2[i]; // Do not filter NaN, see comment above.\r\n\r\n          if ((val >= min && val <= max || isNaN(val)) && (val2 >= min2 && val2 <= max2 || isNaN(val2))) {\r\n            newIndices[offset++] = idx;\r\n          }\r\n\r\n          idx++;\r\n        }\r\n\r\n        quickFinished = true;\r\n      }\r\n    }\r\n\r\n    if (!quickFinished) {\r\n      if (dimSize === 1) {\r\n        for (var i = 0; i < originalCount; i++) {\r\n          var rawIndex = newStore.getRawIndex(i);\r\n          var val = storeArr[dims[0]][rawIndex]; // Do not filter NaN, see comment above.\r\n\r\n          if (val >= min && val <= max || isNaN(val)) {\r\n            newIndices[offset++] = rawIndex;\r\n          }\r\n        }\r\n      } else {\r\n        for (var i = 0; i < originalCount; i++) {\r\n          var keep = true;\r\n          var rawIndex = newStore.getRawIndex(i);\r\n\r\n          for (var k = 0; k < dimSize; k++) {\r\n            var dimk = dims[k];\r\n            var val = storeArr[dimk][rawIndex]; // Do not filter NaN, see comment above.\r\n\r\n            if (val < range[dimk][0] || val > range[dimk][1]) {\r\n              keep = false;\r\n            }\r\n          }\r\n\r\n          if (keep) {\r\n            newIndices[offset++] = newStore.getRawIndex(i);\r\n          }\r\n        }\r\n      }\r\n    } // Set indices after filtered.\r\n\r\n\r\n    if (offset < originalCount) {\r\n      newStore._indices = newIndices;\r\n    }\r\n\r\n    newStore._count = offset; // Reset data extent\r\n\r\n    newStore._extent = [];\r\n\r\n    newStore._updateGetRawIdx();\r\n\r\n    return newStore;\r\n  }; // /**\r\n  //  * Data mapping to a plain array\r\n  //  */\r\n  // mapArray(dims: DimensionIndex[], cb: MapArrayCb): any[] {\r\n  //     const result: any[] = [];\r\n  //     this.each(dims, function () {\r\n  //         result.push(cb && (cb as MapArrayCb).apply(null, arguments));\r\n  //     });\r\n  //     return result;\r\n  // }\r\n\r\n  /**\r\n   * Data mapping to a new List with given dimensions\r\n   */\r\n\r\n\r\n  DataStore.prototype.map = function (dims, cb) {\r\n    // TODO only clone picked chunks.\r\n    var target = this.clone(dims);\r\n\r\n    this._updateDims(target, dims, cb);\r\n\r\n    return target;\r\n  };\r\n  /**\r\n   * @caution Danger!! Only used in dataStack.\r\n   */\r\n\r\n\r\n  DataStore.prototype.modify = function (dims, cb) {\r\n    this._updateDims(this, dims, cb);\r\n  };\r\n\r\n  DataStore.prototype._updateDims = function (target, dims, cb) {\r\n    var targetChunks = target._chunks;\r\n    var tmpRetValue = [];\r\n    var dimSize = dims.length;\r\n    var dataCount = target.count();\r\n    var values = [];\r\n    var rawExtent = target._rawExtent;\r\n\r\n    for (var i = 0; i < dims.length; i++) {\r\n      rawExtent[dims[i]] = getInitialExtent();\r\n    }\r\n\r\n    for (var dataIndex = 0; dataIndex < dataCount; dataIndex++) {\r\n      var rawIndex = target.getRawIndex(dataIndex);\r\n\r\n      for (var k = 0; k < dimSize; k++) {\r\n        values[k] = targetChunks[dims[k]][rawIndex];\r\n      }\r\n\r\n      values[dimSize] = dataIndex;\r\n      var retValue = cb && cb.apply(null, values);\r\n\r\n      if (retValue != null) {\r\n        // a number or string (in oridinal dimension)?\r\n        if (typeof retValue !== 'object') {\r\n          tmpRetValue[0] = retValue;\r\n          retValue = tmpRetValue;\r\n        }\r\n\r\n        for (var i = 0; i < retValue.length; i++) {\r\n          var dim = dims[i];\r\n          var val = retValue[i];\r\n          var rawExtentOnDim = rawExtent[dim];\r\n          var dimStore = targetChunks[dim];\r\n\r\n          if (dimStore) {\r\n            dimStore[rawIndex] = val;\r\n          }\r\n\r\n          if (val < rawExtentOnDim[0]) {\r\n            rawExtentOnDim[0] = val;\r\n          }\r\n\r\n          if (val > rawExtentOnDim[1]) {\r\n            rawExtentOnDim[1] = val;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n  /**\r\n   * Large data down sampling using largest-triangle-three-buckets\r\n   * @param {string} valueDimension\r\n   * @param {number} targetCount\r\n   */\r\n\r\n\r\n  DataStore.prototype.lttbDownSample = function (valueDimension, rate) {\r\n    var target = this.clone([valueDimension], true);\r\n    var targetStorage = target._chunks;\r\n    var dimStore = targetStorage[valueDimension];\r\n    var len = this.count();\r\n    var sampledIndex = 0;\r\n    var frameSize = Math.floor(1 / rate);\r\n    var currentRawIndex = this.getRawIndex(0);\r\n    var maxArea;\r\n    var area;\r\n    var nextRawIndex;\r\n    var newIndices = new (getIndicesCtor(this._rawCount))(Math.min((Math.ceil(len / frameSize) + 2) * 2, len)); // First frame use the first data.\r\n\r\n    newIndices[sampledIndex++] = currentRawIndex;\r\n\r\n    for (var i = 1; i < len - 1; i += frameSize) {\r\n      var nextFrameStart = Math.min(i + frameSize, len - 1);\r\n      var nextFrameEnd = Math.min(i + frameSize * 2, len);\r\n      var avgX = (nextFrameEnd + nextFrameStart) / 2;\r\n      var avgY = 0;\r\n\r\n      for (var idx = nextFrameStart; idx < nextFrameEnd; idx++) {\r\n        var rawIndex = this.getRawIndex(idx);\r\n        var y = dimStore[rawIndex];\r\n\r\n        if (isNaN(y)) {\r\n          continue;\r\n        }\r\n\r\n        avgY += y;\r\n      }\r\n\r\n      avgY /= nextFrameEnd - nextFrameStart;\r\n      var frameStart = i;\r\n      var frameEnd = Math.min(i + frameSize, len);\r\n      var pointAX = i - 1;\r\n      var pointAY = dimStore[currentRawIndex];\r\n      maxArea = -1;\r\n      nextRawIndex = frameStart;\r\n      var firstNaNIndex = -1;\r\n      var countNaN = 0; // Find a point from current frame that construct a triangle with largest area with previous selected point\r\n      // And the average of next frame.\r\n\r\n      for (var idx = frameStart; idx < frameEnd; idx++) {\r\n        var rawIndex = this.getRawIndex(idx);\r\n        var y = dimStore[rawIndex];\r\n\r\n        if (isNaN(y)) {\r\n          countNaN++;\r\n\r\n          if (firstNaNIndex < 0) {\r\n            firstNaNIndex = rawIndex;\r\n          }\r\n\r\n          continue;\r\n        } // Calculate triangle area over three buckets\r\n\r\n\r\n        area = Math.abs((pointAX - avgX) * (y - pointAY) - (pointAX - idx) * (avgY - pointAY));\r\n\r\n        if (area > maxArea) {\r\n          maxArea = area;\r\n          nextRawIndex = rawIndex; // Next a is this b\r\n        }\r\n      }\r\n\r\n      if (countNaN > 0 && countNaN < frameEnd - frameStart) {\r\n        // Append first NaN point in every bucket.\r\n        // It is necessary to ensure the correct order of indices.\r\n        newIndices[sampledIndex++] = Math.min(firstNaNIndex, nextRawIndex);\r\n        nextRawIndex = Math.max(firstNaNIndex, nextRawIndex);\r\n      }\r\n\r\n      newIndices[sampledIndex++] = nextRawIndex;\r\n      currentRawIndex = nextRawIndex; // This a is the next a (chosen b)\r\n    } // First frame use the last data.\r\n\r\n\r\n    newIndices[sampledIndex++] = this.getRawIndex(len - 1);\r\n    target._count = sampledIndex;\r\n    target._indices = newIndices;\r\n    target.getRawIndex = this._getRawIdx;\r\n    return target;\r\n  };\r\n  /**\r\n   * Large data down sampling on given dimension\r\n   * @param sampleIndex Sample index for name and id\r\n   */\r\n\r\n\r\n  DataStore.prototype.downSample = function (dimension, rate, sampleValue, sampleIndex) {\r\n    var target = this.clone([dimension], true);\r\n    var targetStorage = target._chunks;\r\n    var frameValues = [];\r\n    var frameSize = Math.floor(1 / rate);\r\n    var dimStore = targetStorage[dimension];\r\n    var len = this.count();\r\n    var rawExtentOnDim = target._rawExtent[dimension] = getInitialExtent();\r\n    var newIndices = new (getIndicesCtor(this._rawCount))(Math.ceil(len / frameSize));\r\n    var offset = 0;\r\n\r\n    for (var i = 0; i < len; i += frameSize) {\r\n      // Last frame\r\n      if (frameSize > len - i) {\r\n        frameSize = len - i;\r\n        frameValues.length = frameSize;\r\n      }\r\n\r\n      for (var k = 0; k < frameSize; k++) {\r\n        var dataIdx = this.getRawIndex(i + k);\r\n        frameValues[k] = dimStore[dataIdx];\r\n      }\r\n\r\n      var value = sampleValue(frameValues);\r\n      var sampleFrameIdx = this.getRawIndex(Math.min(i + sampleIndex(frameValues, value) || 0, len - 1)); // Only write value on the filtered data\r\n\r\n      dimStore[sampleFrameIdx] = value;\r\n\r\n      if (value < rawExtentOnDim[0]) {\r\n        rawExtentOnDim[0] = value;\r\n      }\r\n\r\n      if (value > rawExtentOnDim[1]) {\r\n        rawExtentOnDim[1] = value;\r\n      }\r\n\r\n      newIndices[offset++] = sampleFrameIdx;\r\n    }\r\n\r\n    target._count = offset;\r\n    target._indices = newIndices;\r\n\r\n    target._updateGetRawIdx();\r\n\r\n    return target;\r\n  };\r\n  /**\r\n   * Data iteration\r\n   * @param ctx default this\r\n   * @example\r\n   *  list.each('x', function (x, idx) {});\r\n   *  list.each(['x', 'y'], function (x, y, idx) {});\r\n   *  list.each(function (idx) {})\r\n   */\r\n\r\n\r\n  DataStore.prototype.each = function (dims, cb) {\r\n    if (!this._count) {\r\n      return;\r\n    }\r\n\r\n    var dimSize = dims.length;\r\n    var chunks = this._chunks;\r\n\r\n    for (var i = 0, len = this.count(); i < len; i++) {\r\n      var rawIdx = this.getRawIndex(i); // Simple optimization\r\n\r\n      switch (dimSize) {\r\n        case 0:\r\n          cb(i);\r\n          break;\r\n\r\n        case 1:\r\n          cb(chunks[dims[0]][rawIdx], i);\r\n          break;\r\n\r\n        case 2:\r\n          cb(chunks[dims[0]][rawIdx], chunks[dims[1]][rawIdx], i);\r\n          break;\r\n\r\n        default:\r\n          var k = 0;\r\n          var value = [];\r\n\r\n          for (; k < dimSize; k++) {\r\n            value[k] = chunks[dims[k]][rawIdx];\r\n          } // Index\r\n\r\n\r\n          value[k] = i;\r\n          cb.apply(null, value);\r\n      }\r\n    }\r\n  };\r\n  /**\r\n   * Get extent of data in one dimension\r\n   */\r\n\r\n\r\n  DataStore.prototype.getDataExtent = function (dim) {\r\n    // Make sure use concrete dim as cache name.\r\n    var dimData = this._chunks[dim];\r\n    var initialExtent = getInitialExtent();\r\n\r\n    if (!dimData) {\r\n      return initialExtent;\r\n    } // Make more strict checkings to ensure hitting cache.\r\n\r\n\r\n    var currEnd = this.count(); // Consider the most cases when using data zoom, `getDataExtent`\r\n    // happened before filtering. We cache raw extent, which is not\r\n    // necessary to be cleared and recalculated when restore data.\r\n\r\n    var useRaw = !this._indices;\r\n    var dimExtent;\r\n\r\n    if (useRaw) {\r\n      return this._rawExtent[dim].slice();\r\n    }\r\n\r\n    dimExtent = this._extent[dim];\r\n\r\n    if (dimExtent) {\r\n      return dimExtent.slice();\r\n    }\r\n\r\n    dimExtent = initialExtent;\r\n    var min = dimExtent[0];\r\n    var max = dimExtent[1];\r\n\r\n    for (var i = 0; i < currEnd; i++) {\r\n      var rawIdx = this.getRawIndex(i);\r\n      var value = dimData[rawIdx];\r\n      value < min && (min = value);\r\n      value > max && (max = value);\r\n    }\r\n\r\n    dimExtent = [min, max];\r\n    this._extent[dim] = dimExtent;\r\n    return dimExtent;\r\n  };\r\n  /**\r\n   * Get raw data item\r\n   */\r\n\r\n\r\n  DataStore.prototype.getRawDataItem = function (idx) {\r\n    var rawIdx = this.getRawIndex(idx);\r\n\r\n    if (!this._provider.persistent) {\r\n      var val = [];\r\n      var chunks = this._chunks;\r\n\r\n      for (var i = 0; i < chunks.length; i++) {\r\n        val.push(chunks[i][rawIdx]);\r\n      }\r\n\r\n      return val;\r\n    } else {\r\n      return this._provider.getItem(rawIdx);\r\n    }\r\n  };\r\n  /**\r\n   * Clone shallow.\r\n   *\r\n   * @param clonedDims Determine which dims to clone. Will share the data if not specified.\r\n   */\r\n\r\n\r\n  DataStore.prototype.clone = function (clonedDims, ignoreIndices) {\r\n    var target = new DataStore();\r\n    var chunks = this._chunks;\r\n    var clonedDimsMap = clonedDims && reduce(clonedDims, function (obj, dimIdx) {\r\n      obj[dimIdx] = true;\r\n      return obj;\r\n    }, {});\r\n\r\n    if (clonedDimsMap) {\r\n      for (var i = 0; i < chunks.length; i++) {\r\n        // Not clone if dim is not picked.\r\n        target._chunks[i] = !clonedDimsMap[i] ? chunks[i] : cloneChunk(chunks[i]);\r\n      }\r\n    } else {\r\n      target._chunks = chunks;\r\n    }\r\n\r\n    this._copyCommonProps(target);\r\n\r\n    if (!ignoreIndices) {\r\n      target._indices = this._cloneIndices();\r\n    }\r\n\r\n    target._updateGetRawIdx();\r\n\r\n    return target;\r\n  };\r\n\r\n  DataStore.prototype._copyCommonProps = function (target) {\r\n    target._count = this._count;\r\n    target._rawCount = this._rawCount;\r\n    target._provider = this._provider;\r\n    target._dimensions = this._dimensions;\r\n    target._extent = clone(this._extent);\r\n    target._rawExtent = clone(this._rawExtent);\r\n  };\r\n\r\n  DataStore.prototype._cloneIndices = function () {\r\n    if (this._indices) {\r\n      var Ctor = this._indices.constructor;\r\n      var indices = void 0;\r\n\r\n      if (Ctor === Array) {\r\n        var thisCount = this._indices.length;\r\n        indices = new Ctor(thisCount);\r\n\r\n        for (var i = 0; i < thisCount; i++) {\r\n          indices[i] = this._indices[i];\r\n        }\r\n      } else {\r\n        indices = new Ctor(this._indices);\r\n      }\r\n\r\n      return indices;\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  DataStore.prototype._getRawIdxIdentity = function (idx) {\r\n    return idx;\r\n  };\r\n\r\n  DataStore.prototype._getRawIdx = function (idx) {\r\n    if (idx < this._count && idx >= 0) {\r\n      return this._indices[idx];\r\n    }\r\n\r\n    return -1;\r\n  };\r\n\r\n  DataStore.prototype._updateGetRawIdx = function () {\r\n    this.getRawIndex = this._indices ? this._getRawIdx : this._getRawIdxIdentity;\r\n  };\r\n\r\n  DataStore.internalField = function () {\r\n    function getDimValueSimply(dataItem, property, dataIndex, dimIndex) {\r\n      return parseDataValue(dataItem[dimIndex], this._dimensions[dimIndex]);\r\n    }\r\n\r\n    defaultDimValueGetters = {\r\n      arrayRows: getDimValueSimply,\r\n      objectRows: function (dataItem, property, dataIndex, dimIndex) {\r\n        return parseDataValue(dataItem[property], this._dimensions[dimIndex]);\r\n      },\r\n      keyedColumns: getDimValueSimply,\r\n      original: function (dataItem, property, dataIndex, dimIndex) {\r\n        // Performance sensitive, do not use modelUtil.getDataItemValue.\r\n        // If dataItem is an plain object with no value field, the let `value`\r\n        // will be assigned with the object, but it will be tread correctly\r\n        // in the `convertValue`.\r\n        var value = dataItem && (dataItem.value == null ? dataItem : dataItem.value);\r\n        return parseDataValue(value instanceof Array ? value[dimIndex] // If value is a single number or something else not array.\r\n        : value, this._dimensions[dimIndex]);\r\n      },\r\n      typedArray: function (dataItem, property, dataIndex, dimIndex) {\r\n        return dataItem[dimIndex];\r\n      }\r\n    };\r\n  }();\r\n\r\n  return DataStore;\r\n}();\r\n\r\nexport default DataStore;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { setAsPrimitive, map, isTypedArray, assert, each, retrieve2 } from 'zrender/lib/core/util.js';\r\nimport { createSource, cloneSourceShallow } from '../Source.js';\r\nimport { SOURCE_FORMAT_TYPED_ARRAY, SOURCE_FORMAT_ORIGINAL } from '../../util/types.js';\r\nimport { querySeriesUpstreamDatasetModel, queryDatasetUpstreamDatasetModels } from './sourceHelper.js';\r\nimport { applyDataTransform } from './transform.js';\r\nimport DataStore from '../DataStore.js';\r\nimport { DefaultDataProvider } from './dataProvider.js';\r\n/**\r\n * [REQUIREMENT_MEMO]:\r\n * (0) `metaRawOption` means `dimensions`/`sourceHeader`/`seriesLayoutBy` in raw option.\r\n * (1) Keep support the feature: `metaRawOption` can be specified both on `series` and\r\n * `root-dataset`. Them on `series` has higher priority.\r\n * (2) Do not support to set `metaRawOption` on a `non-root-dataset`, because it might\r\n * confuse users: whether those props indicate how to visit the upstream source or visit\r\n * the transform result source, and some transforms has nothing to do with these props,\r\n * and some transforms might have multiple upstream.\r\n * (3) Transforms should specify `metaRawOption` in each output, just like they can be\r\n * declared in `root-dataset`.\r\n * (4) At present only support visit source in `SERIES_LAYOUT_BY_COLUMN` in transforms.\r\n * That is for reducing complexity in transforms.\r\n * PENDING: Whether to provide transposition transform?\r\n *\r\n * [IMPLEMENTAION_MEMO]:\r\n * \"sourceVisitConfig\" are calculated from `metaRawOption` and `data`.\r\n * They will not be calculated until `source` is about to be visited (to prevent from\r\n * duplicate calcuation). `source` is visited only in series and input to transforms.\r\n *\r\n * [DIMENSION_INHERIT_RULE]:\r\n * By default the dimensions are inherited from ancestors, unless a transform return\r\n * a new dimensions definition.\r\n * Consider the case:\r\n * ```js\r\n * dataset: [{\r\n *     source: [ ['Product', 'Sales', 'Prise'], ['Cookies', 321, 44.21], ...]\r\n * }, {\r\n *     transform: { type: 'filter', ... }\r\n * }]\r\n * dataset: [{\r\n *     dimension: ['Product', 'Sales', 'Prise'],\r\n *     source: [ ['Cookies', 321, 44.21], ...]\r\n * }, {\r\n *     transform: { type: 'filter', ... }\r\n * }]\r\n * ```\r\n * The two types of option should have the same behavior after transform.\r\n *\r\n *\r\n * [SCENARIO]:\r\n * (1) Provide source data directly:\r\n * ```js\r\n * series: {\r\n *     encode: {...},\r\n *     dimensions: [...]\r\n *     seriesLayoutBy: 'row',\r\n *     data: [[...]]\r\n * }\r\n * ```\r\n * (2) Series refer to dataset.\r\n * ```js\r\n * series: [{\r\n *     encode: {...}\r\n *     // Ignore datasetIndex means `datasetIndex: 0`\r\n *     // and the dimensions defination in dataset is used\r\n * }, {\r\n *     encode: {...},\r\n *     seriesLayoutBy: 'column',\r\n *     datasetIndex: 1\r\n * }]\r\n * ```\r\n * (3) dataset transform\r\n * ```js\r\n * dataset: [{\r\n *     source: [...]\r\n * }, {\r\n *     source: [...]\r\n * }, {\r\n *     // By default from 0.\r\n *     transform: { type: 'filter', config: {...} }\r\n * }, {\r\n *     // Piped.\r\n *     transform: [\r\n *         { type: 'filter', config: {...} },\r\n *         { type: 'sort', config: {...} }\r\n *     ]\r\n * }, {\r\n *     id: 'regressionData',\r\n *     fromDatasetIndex: 1,\r\n *     // Third-party transform\r\n *     transform: { type: 'ecStat:regression', config: {...} }\r\n * }, {\r\n *     // retrieve the extra result.\r\n *     id: 'regressionFormula',\r\n *     fromDatasetId: 'regressionData',\r\n *     fromTransformResult: 1\r\n * }]\r\n * ```\r\n */\r\n\r\nvar SourceManager =\r\n/** @class */\r\nfunction () {\r\n  function SourceManager(sourceHost) {\r\n    // Cached source. Do not repeat calculating if not dirty.\r\n    this._sourceList = [];\r\n    this._storeList = []; // version sign of each upstream source manager.\r\n\r\n    this._upstreamSignList = [];\r\n    this._versionSignBase = 0;\r\n    this._dirty = true;\r\n    this._sourceHost = sourceHost;\r\n  }\r\n  /**\r\n   * Mark dirty.\r\n   */\r\n\r\n\r\n  SourceManager.prototype.dirty = function () {\r\n    this._setLocalSource([], []);\r\n\r\n    this._storeList = [];\r\n    this._dirty = true;\r\n  };\r\n\r\n  SourceManager.prototype._setLocalSource = function (sourceList, upstreamSignList) {\r\n    this._sourceList = sourceList;\r\n    this._upstreamSignList = upstreamSignList;\r\n    this._versionSignBase++;\r\n\r\n    if (this._versionSignBase > 9e10) {\r\n      this._versionSignBase = 0;\r\n    }\r\n  };\r\n  /**\r\n   * For detecting whether the upstream source is dirty, so that\r\n   * the local cached source (in `_sourceList`) should be discarded.\r\n   */\r\n\r\n\r\n  SourceManager.prototype._getVersionSign = function () {\r\n    return this._sourceHost.uid + '_' + this._versionSignBase;\r\n  };\r\n  /**\r\n   * Always return a source instance. Otherwise throw error.\r\n   */\r\n\r\n\r\n  SourceManager.prototype.prepareSource = function () {\r\n    // For the case that call `setOption` multiple time but no data changed,\r\n    // cache the result source to prevent from repeating transform.\r\n    if (this._isDirty()) {\r\n      this._createSource();\r\n\r\n      this._dirty = false;\r\n    }\r\n  };\r\n\r\n  SourceManager.prototype._createSource = function () {\r\n    this._setLocalSource([], []);\r\n\r\n    var sourceHost = this._sourceHost;\r\n\r\n    var upSourceMgrList = this._getUpstreamSourceManagers();\r\n\r\n    var hasUpstream = !!upSourceMgrList.length;\r\n    var resultSourceList;\r\n    var upstreamSignList;\r\n\r\n    if (isSeries(sourceHost)) {\r\n      var seriesModel = sourceHost;\r\n      var data = void 0;\r\n      var sourceFormat = void 0;\r\n      var upSource = void 0; // Has upstream dataset\r\n\r\n      if (hasUpstream) {\r\n        var upSourceMgr = upSourceMgrList[0];\r\n        upSourceMgr.prepareSource();\r\n        upSource = upSourceMgr.getSource();\r\n        data = upSource.data;\r\n        sourceFormat = upSource.sourceFormat;\r\n        upstreamSignList = [upSourceMgr._getVersionSign()];\r\n      } // Series data is from own.\r\n      else {\r\n          data = seriesModel.get('data', true);\r\n          sourceFormat = isTypedArray(data) ? SOURCE_FORMAT_TYPED_ARRAY : SOURCE_FORMAT_ORIGINAL;\r\n          upstreamSignList = [];\r\n        } // See [REQUIREMENT_MEMO], merge settings on series and parent dataset if it is root.\r\n\r\n\r\n      var newMetaRawOption = this._getSourceMetaRawOption() || {};\r\n      var upMetaRawOption = upSource && upSource.metaRawOption || {};\r\n      var seriesLayoutBy = retrieve2(newMetaRawOption.seriesLayoutBy, upMetaRawOption.seriesLayoutBy) || null;\r\n      var sourceHeader = retrieve2(newMetaRawOption.sourceHeader, upMetaRawOption.sourceHeader); // Note here we should not use `upSource.dimensionsDefine`. Consider the case:\r\n      // `upSource.dimensionsDefine` is detected by `seriesLayoutBy: 'column'`,\r\n      // but series need `seriesLayoutBy: 'row'`.\r\n\r\n      var dimensions = retrieve2(newMetaRawOption.dimensions, upMetaRawOption.dimensions); // We share source with dataset as much as possible\r\n      // to avoid extra memory cost of high dimensional data.\r\n\r\n      var needsCreateSource = seriesLayoutBy !== upMetaRawOption.seriesLayoutBy || !!sourceHeader !== !!upMetaRawOption.sourceHeader || dimensions;\r\n      resultSourceList = needsCreateSource ? [createSource(data, {\r\n        seriesLayoutBy: seriesLayoutBy,\r\n        sourceHeader: sourceHeader,\r\n        dimensions: dimensions\r\n      }, sourceFormat)] : [];\r\n    } else {\r\n      var datasetModel = sourceHost; // Has upstream dataset.\r\n\r\n      if (hasUpstream) {\r\n        var result = this._applyTransform(upSourceMgrList);\r\n\r\n        resultSourceList = result.sourceList;\r\n        upstreamSignList = result.upstreamSignList;\r\n      } // Is root dataset.\r\n      else {\r\n          var sourceData = datasetModel.get('source', true);\r\n          resultSourceList = [createSource(sourceData, this._getSourceMetaRawOption(), null)];\r\n          upstreamSignList = [];\r\n        }\r\n    }\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assert(resultSourceList && upstreamSignList);\r\n    }\r\n\r\n    this._setLocalSource(resultSourceList, upstreamSignList);\r\n  };\r\n\r\n  SourceManager.prototype._applyTransform = function (upMgrList) {\r\n    var datasetModel = this._sourceHost;\r\n    var transformOption = datasetModel.get('transform', true);\r\n    var fromTransformResult = datasetModel.get('fromTransformResult', true);\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assert(fromTransformResult != null || transformOption != null);\r\n    }\r\n\r\n    if (fromTransformResult != null) {\r\n      var errMsg = '';\r\n\r\n      if (upMgrList.length !== 1) {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n          errMsg = 'When using `fromTransformResult`, there should be only one upstream dataset';\r\n        }\r\n\r\n        doThrow(errMsg);\r\n      }\r\n    }\r\n\r\n    var sourceList;\r\n    var upSourceList = [];\r\n    var upstreamSignList = [];\r\n    each(upMgrList, function (upMgr) {\r\n      upMgr.prepareSource();\r\n      var upSource = upMgr.getSource(fromTransformResult || 0);\r\n      var errMsg = '';\r\n\r\n      if (fromTransformResult != null && !upSource) {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n          errMsg = 'Can not retrieve result by `fromTransformResult`: ' + fromTransformResult;\r\n        }\r\n\r\n        doThrow(errMsg);\r\n      }\r\n\r\n      upSourceList.push(upSource);\r\n      upstreamSignList.push(upMgr._getVersionSign());\r\n    });\r\n\r\n    if (transformOption) {\r\n      sourceList = applyDataTransform(transformOption, upSourceList, {\r\n        datasetIndex: datasetModel.componentIndex\r\n      });\r\n    } else if (fromTransformResult != null) {\r\n      sourceList = [cloneSourceShallow(upSourceList[0])];\r\n    }\r\n\r\n    return {\r\n      sourceList: sourceList,\r\n      upstreamSignList: upstreamSignList\r\n    };\r\n  };\r\n\r\n  SourceManager.prototype._isDirty = function () {\r\n    if (this._dirty) {\r\n      return true;\r\n    } // All sourceList is from the some upstream.\r\n\r\n\r\n    var upSourceMgrList = this._getUpstreamSourceManagers();\r\n\r\n    for (var i = 0; i < upSourceMgrList.length; i++) {\r\n      var upSrcMgr = upSourceMgrList[i];\r\n\r\n      if ( // Consider the case that there is ancestor diry, call it recursively.\r\n      // The performance is probably not an issue because usually the chain is not long.\r\n      upSrcMgr._isDirty() || this._upstreamSignList[i] !== upSrcMgr._getVersionSign()) {\r\n        return true;\r\n      }\r\n    }\r\n  };\r\n  /**\r\n   * @param sourceIndex By default 0, means \"main source\".\r\n   *                    In most cases there is only one source.\r\n   */\r\n\r\n\r\n  SourceManager.prototype.getSource = function (sourceIndex) {\r\n    sourceIndex = sourceIndex || 0;\r\n    var source = this._sourceList[sourceIndex];\r\n\r\n    if (!source) {\r\n      // Series may share source instance with dataset.\r\n      var upSourceMgrList = this._getUpstreamSourceManagers();\r\n\r\n      return upSourceMgrList[0] && upSourceMgrList[0].getSource(sourceIndex);\r\n    }\r\n\r\n    return source;\r\n  };\r\n  /**\r\n   *\r\n   * Get a data store which can be shared across series.\r\n   * Only available for series.\r\n   *\r\n   * @param seriesDimRequest Dimensions that are generated in series.\r\n   *        Should have been sorted by `storeDimIndex` asc.\r\n   */\r\n\r\n\r\n  SourceManager.prototype.getSharedDataStore = function (seriesDimRequest) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assert(isSeries(this._sourceHost), 'Can only call getDataStore on series source manager.');\r\n    }\r\n\r\n    var schema = seriesDimRequest.makeStoreSchema();\r\n    return this._innerGetDataStore(schema.dimensions, seriesDimRequest.source, schema.hash);\r\n  };\r\n\r\n  SourceManager.prototype._innerGetDataStore = function (storeDims, seriesSource, sourceReadKey) {\r\n    // TODO Can use other sourceIndex?\r\n    var sourceIndex = 0;\r\n    var storeList = this._storeList;\r\n    var cachedStoreMap = storeList[sourceIndex];\r\n\r\n    if (!cachedStoreMap) {\r\n      cachedStoreMap = storeList[sourceIndex] = {};\r\n    }\r\n\r\n    var cachedStore = cachedStoreMap[sourceReadKey];\r\n\r\n    if (!cachedStore) {\r\n      var upSourceMgr = this._getUpstreamSourceManagers()[0];\r\n\r\n      if (isSeries(this._sourceHost) && upSourceMgr) {\r\n        cachedStore = upSourceMgr._innerGetDataStore(storeDims, seriesSource, sourceReadKey);\r\n      } else {\r\n        cachedStore = new DataStore(); // Always create store from source of series.\r\n\r\n        cachedStore.initData(new DefaultDataProvider(seriesSource, storeDims.length), storeDims);\r\n      }\r\n\r\n      cachedStoreMap[sourceReadKey] = cachedStore;\r\n    }\r\n\r\n    return cachedStore;\r\n  };\r\n  /**\r\n   * PENDING: Is it fast enough?\r\n   * If no upstream, return empty array.\r\n   */\r\n\r\n\r\n  SourceManager.prototype._getUpstreamSourceManagers = function () {\r\n    // Always get the relationship from the raw option.\r\n    // Do not cache the link of the dependency graph, so that\r\n    // there is no need to update them when change happens.\r\n    var sourceHost = this._sourceHost;\r\n\r\n    if (isSeries(sourceHost)) {\r\n      var datasetModel = querySeriesUpstreamDatasetModel(sourceHost);\r\n      return !datasetModel ? [] : [datasetModel.getSourceManager()];\r\n    } else {\r\n      return map(queryDatasetUpstreamDatasetModels(sourceHost), function (datasetModel) {\r\n        return datasetModel.getSourceManager();\r\n      });\r\n    }\r\n  };\r\n\r\n  SourceManager.prototype._getSourceMetaRawOption = function () {\r\n    var sourceHost = this._sourceHost;\r\n    var seriesLayoutBy;\r\n    var sourceHeader;\r\n    var dimensions;\r\n\r\n    if (isSeries(sourceHost)) {\r\n      seriesLayoutBy = sourceHost.get('seriesLayoutBy', true);\r\n      sourceHeader = sourceHost.get('sourceHeader', true);\r\n      dimensions = sourceHost.get('dimensions', true);\r\n    } // See [REQUIREMENT_MEMO], `non-root-dataset` do not support them.\r\n    else if (!this._getUpstreamSourceManagers().length) {\r\n        var model = sourceHost;\r\n        seriesLayoutBy = model.get('seriesLayoutBy', true);\r\n        sourceHeader = model.get('sourceHeader', true);\r\n        dimensions = model.get('dimensions', true);\r\n      }\r\n\r\n    return {\r\n      seriesLayoutBy: seriesLayoutBy,\r\n      sourceHeader: sourceHeader,\r\n      dimensions: dimensions\r\n    };\r\n  };\r\n\r\n  return SourceManager;\r\n}();\r\n\r\nexport { SourceManager }; // Call this method after `super.init` and `super.mergeOption` to\r\n// disable the transform merge, but do not disable transform clone from rawOption.\r\n\r\nexport function disableTransformOptionMerge(datasetModel) {\r\n  var transformOption = datasetModel.option.transform;\r\n  transformOption && setAsPrimitive(datasetModel.option.transform);\r\n}\r\n\r\nfunction isSeries(sourceHost) {\r\n  // Avoid circular dependency with Series.ts\r\n  return sourceHost.mainType === 'series';\r\n}\r\n\r\nfunction doThrow(errMsg) {\r\n  throw new Error(errMsg);\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { getTooltipMarker, encodeHTML, makeValueReadable, convertToColorString } from '../../util/format.js';\r\nimport { isString, each, hasOwn, isArray, map, assert, extend } from 'zrender/lib/core/util.js';\r\nimport { SortOrderComparator } from '../../data/helper/dataValueHelper.js';\r\nimport { getRandomIdBase } from '../../util/number.js';\r\nvar TOOLTIP_LINE_HEIGHT_CSS = 'line-height:1'; // TODO: more textStyle option\r\n\r\nfunction getTooltipTextStyle(textStyle, renderMode) {\r\n  var nameFontColor = textStyle.color || '#6e7079';\r\n  var nameFontSize = textStyle.fontSize || 12;\r\n  var nameFontWeight = textStyle.fontWeight || '400';\r\n  var valueFontColor = textStyle.color || '#464646';\r\n  var valueFontSize = textStyle.fontSize || 14;\r\n  var valueFontWeight = textStyle.fontWeight || '900';\r\n\r\n  if (renderMode === 'html') {\r\n    // `textStyle` is probably from user input, should be encoded to reduce security risk.\r\n    return {\r\n      // eslint-disable-next-line max-len\r\n      nameStyle: \"font-size:\" + encodeHTML(nameFontSize + '') + \"px;color:\" + encodeHTML(nameFontColor) + \";font-weight:\" + encodeHTML(nameFontWeight + ''),\r\n      // eslint-disable-next-line max-len\r\n      valueStyle: \"font-size:\" + encodeHTML(valueFontSize + '') + \"px;color:\" + encodeHTML(valueFontColor) + \";font-weight:\" + encodeHTML(valueFontWeight + '')\r\n    };\r\n  } else {\r\n    return {\r\n      nameStyle: {\r\n        fontSize: nameFontSize,\r\n        fill: nameFontColor,\r\n        fontWeight: nameFontWeight\r\n      },\r\n      valueStyle: {\r\n        fontSize: valueFontSize,\r\n        fill: valueFontColor,\r\n        fontWeight: valueFontWeight\r\n      }\r\n    };\r\n  }\r\n} // See `TooltipMarkupLayoutIntent['innerGapLevel']`.\r\n// (value from UI design)\r\n\r\n\r\nvar HTML_GAPS = [0, 10, 20, 30];\r\nvar RICH_TEXT_GAPS = ['', '\\n', '\\n\\n', '\\n\\n\\n']; // eslint-disable-next-line max-len\r\n\r\nexport function createTooltipMarkup(type, option) {\r\n  option.type = type;\r\n  return option;\r\n}\r\n\r\nfunction isSectionFragment(frag) {\r\n  return frag.type === 'section';\r\n}\r\n\r\nfunction getBuilder(frag) {\r\n  return isSectionFragment(frag) ? buildSection : buildNameValue;\r\n}\r\n\r\nfunction getBlockGapLevel(frag) {\r\n  if (isSectionFragment(frag)) {\r\n    var gapLevel_1 = 0;\r\n    var subBlockLen = frag.blocks.length;\r\n    var hasInnerGap_1 = subBlockLen > 1 || subBlockLen > 0 && !frag.noHeader;\r\n    each(frag.blocks, function (subBlock) {\r\n      var subGapLevel = getBlockGapLevel(subBlock); // If the some of the sub-blocks have some gaps (like 10px) inside, this block\r\n      // should use a larger gap (like 20px) to distinguish those sub-blocks.\r\n\r\n      if (subGapLevel >= gapLevel_1) {\r\n        gapLevel_1 = subGapLevel + +(hasInnerGap_1 && ( // 0 always can not be readable gap level.\r\n        !subGapLevel // If no header, always keep the sub gap level. Otherwise\r\n        // look weird in case `multipleSeries`.\r\n        || isSectionFragment(subBlock) && !subBlock.noHeader));\r\n      }\r\n    });\r\n    return gapLevel_1;\r\n  }\r\n\r\n  return 0;\r\n}\r\n\r\nfunction buildSection(ctx, fragment, topMarginForOuterGap, toolTipTextStyle) {\r\n  var noHeader = fragment.noHeader;\r\n  var gaps = getGap(getBlockGapLevel(fragment));\r\n  var subMarkupTextList = [];\r\n  var subBlocks = fragment.blocks || [];\r\n  assert(!subBlocks || isArray(subBlocks));\r\n  subBlocks = subBlocks || [];\r\n  var orderMode = ctx.orderMode;\r\n\r\n  if (fragment.sortBlocks && orderMode) {\r\n    subBlocks = subBlocks.slice();\r\n    var orderMap = {\r\n      valueAsc: 'asc',\r\n      valueDesc: 'desc'\r\n    };\r\n\r\n    if (hasOwn(orderMap, orderMode)) {\r\n      var comparator_1 = new SortOrderComparator(orderMap[orderMode], null);\r\n      subBlocks.sort(function (a, b) {\r\n        return comparator_1.evaluate(a.sortParam, b.sortParam);\r\n      });\r\n    } // FIXME 'seriesDesc' necessary?\r\n    else if (orderMode === 'seriesDesc') {\r\n        subBlocks.reverse();\r\n      }\r\n  }\r\n\r\n  each(subBlocks, function (subBlock, idx) {\r\n    var valueFormatter = fragment.valueFormatter;\r\n    var subMarkupText = getBuilder(subBlock)( // Inherit valueFormatter\r\n    valueFormatter ? extend(extend({}, ctx), {\r\n      valueFormatter: valueFormatter\r\n    }) : ctx, subBlock, idx > 0 ? gaps.html : 0, toolTipTextStyle);\r\n    subMarkupText != null && subMarkupTextList.push(subMarkupText);\r\n  });\r\n  var subMarkupText = ctx.renderMode === 'richText' ? subMarkupTextList.join(gaps.richText) : wrapBlockHTML(subMarkupTextList.join(''), noHeader ? topMarginForOuterGap : gaps.html);\r\n\r\n  if (noHeader) {\r\n    return subMarkupText;\r\n  }\r\n\r\n  var displayableHeader = makeValueReadable(fragment.header, 'ordinal', ctx.useUTC);\r\n  var nameStyle = getTooltipTextStyle(toolTipTextStyle, ctx.renderMode).nameStyle;\r\n\r\n  if (ctx.renderMode === 'richText') {\r\n    return wrapInlineNameRichText(ctx, displayableHeader, nameStyle) + gaps.richText + subMarkupText;\r\n  } else {\r\n    return wrapBlockHTML(\"<div style=\\\"\" + nameStyle + \";\" + TOOLTIP_LINE_HEIGHT_CSS + \";\\\">\" + encodeHTML(displayableHeader) + '</div>' + subMarkupText, topMarginForOuterGap);\r\n  }\r\n}\r\n\r\nfunction buildNameValue(ctx, fragment, topMarginForOuterGap, toolTipTextStyle) {\r\n  var renderMode = ctx.renderMode;\r\n  var noName = fragment.noName;\r\n  var noValue = fragment.noValue;\r\n  var noMarker = !fragment.markerType;\r\n  var name = fragment.name;\r\n  var useUTC = ctx.useUTC;\r\n\r\n  var valueFormatter = fragment.valueFormatter || ctx.valueFormatter || function (value) {\r\n    value = isArray(value) ? value : [value];\r\n    return map(value, function (val, idx) {\r\n      return makeValueReadable(val, isArray(valueTypeOption) ? valueTypeOption[idx] : valueTypeOption, useUTC);\r\n    });\r\n  };\r\n\r\n  if (noName && noValue) {\r\n    return;\r\n  }\r\n\r\n  var markerStr = noMarker ? '' : ctx.markupStyleCreator.makeTooltipMarker(fragment.markerType, fragment.markerColor || '#333', renderMode);\r\n  var readableName = noName ? '' : makeValueReadable(name, 'ordinal', useUTC);\r\n  var valueTypeOption = fragment.valueType;\r\n  var readableValueList = noValue ? [] : valueFormatter(fragment.value);\r\n  var valueAlignRight = !noMarker || !noName; // It little weird if only value next to marker but far from marker.\r\n\r\n  var valueCloseToMarker = !noMarker && noName;\r\n\r\n  var _a = getTooltipTextStyle(toolTipTextStyle, renderMode),\r\n      nameStyle = _a.nameStyle,\r\n      valueStyle = _a.valueStyle;\r\n\r\n  return renderMode === 'richText' ? (noMarker ? '' : markerStr) + (noName ? '' : wrapInlineNameRichText(ctx, readableName, nameStyle)) // Value has commas inside, so use ' ' as delimiter for multiple values.\r\n  + (noValue ? '' : wrapInlineValueRichText(ctx, readableValueList, valueAlignRight, valueCloseToMarker, valueStyle)) : wrapBlockHTML((noMarker ? '' : markerStr) + (noName ? '' : wrapInlineNameHTML(readableName, !noMarker, nameStyle)) + (noValue ? '' : wrapInlineValueHTML(readableValueList, valueAlignRight, valueCloseToMarker, valueStyle)), topMarginForOuterGap);\r\n}\r\n/**\r\n * @return markupText. null/undefined means no content.\r\n */\r\n\r\n\r\nexport function buildTooltipMarkup(fragment, markupStyleCreator, renderMode, orderMode, useUTC, toolTipTextStyle) {\r\n  if (!fragment) {\r\n    return;\r\n  }\r\n\r\n  var builder = getBuilder(fragment);\r\n  var ctx = {\r\n    useUTC: useUTC,\r\n    renderMode: renderMode,\r\n    orderMode: orderMode,\r\n    markupStyleCreator: markupStyleCreator,\r\n    valueFormatter: fragment.valueFormatter\r\n  };\r\n  return builder(ctx, fragment, 0, toolTipTextStyle);\r\n}\r\n\r\nfunction getGap(gapLevel) {\r\n  return {\r\n    html: HTML_GAPS[gapLevel],\r\n    richText: RICH_TEXT_GAPS[gapLevel]\r\n  };\r\n}\r\n\r\nfunction wrapBlockHTML(encodedContent, topGap) {\r\n  var clearfix = '<div style=\"clear:both\"></div>';\r\n  var marginCSS = \"margin: \" + topGap + \"px 0 0\";\r\n  return \"<div style=\\\"\" + marginCSS + \";\" + TOOLTIP_LINE_HEIGHT_CSS + \";\\\">\" + encodedContent + clearfix + '</div>';\r\n}\r\n\r\nfunction wrapInlineNameHTML(name, leftHasMarker, style) {\r\n  var marginCss = leftHasMarker ? 'margin-left:2px' : '';\r\n  return \"<span style=\\\"\" + style + \";\" + marginCss + \"\\\">\" + encodeHTML(name) + '</span>';\r\n}\r\n\r\nfunction wrapInlineValueHTML(valueList, alignRight, valueCloseToMarker, style) {\r\n  // Do not too close to marker, considering there are multiple values separated by spaces.\r\n  var paddingStr = valueCloseToMarker ? '10px' : '20px';\r\n  var alignCSS = alignRight ? \"float:right;margin-left:\" + paddingStr : '';\r\n  valueList = isArray(valueList) ? valueList : [valueList];\r\n  return \"<span style=\\\"\" + alignCSS + \";\" + style + \"\\\">\" // Value has commas inside, so use '  ' as delimiter for multiple values.\r\n  + map(valueList, function (value) {\r\n    return encodeHTML(value);\r\n  }).join('&nbsp;&nbsp;') + '</span>';\r\n}\r\n\r\nfunction wrapInlineNameRichText(ctx, name, style) {\r\n  return ctx.markupStyleCreator.wrapRichTextStyle(name, style);\r\n}\r\n\r\nfunction wrapInlineValueRichText(ctx, values, alignRight, valueCloseToMarker, style) {\r\n  var styles = [style];\r\n  var paddingLeft = valueCloseToMarker ? 10 : 20;\r\n  alignRight && styles.push({\r\n    padding: [0, 0, 0, paddingLeft],\r\n    align: 'right'\r\n  }); // Value has commas inside, so use '  ' as delimiter for multiple values.\r\n\r\n  return ctx.markupStyleCreator.wrapRichTextStyle(isArray(values) ? values.join('  ') : values, styles);\r\n}\r\n\r\nexport function retrieveVisualColorForTooltipMarker(series, dataIndex) {\r\n  var style = series.getData().getItemVisual(dataIndex, 'style');\r\n  var color = style[series.visualDrawType];\r\n  return convertToColorString(color);\r\n}\r\nexport function getPaddingFromTooltipModel(model, renderMode) {\r\n  var padding = model.get('padding');\r\n  return padding != null ? padding // We give slightly different to look pretty.\r\n  : renderMode === 'richText' ? [8, 10] : 10;\r\n}\r\n/**\r\n * The major feature is generate styles for `renderMode: 'richText'`.\r\n * But it also serves `renderMode: 'html'` to provide\r\n * \"renderMode-independent\" API.\r\n */\r\n\r\nvar TooltipMarkupStyleCreator =\r\n/** @class */\r\nfunction () {\r\n  function TooltipMarkupStyleCreator() {\r\n    this.richTextStyles = {}; // Notice that \"generate a style name\" usually happens repeatedly when mouse is moving and\r\n    // a tooltip is displayed. So we put the `_nextStyleNameId` as a member of each creator\r\n    // rather than static shared by all creators (which will cause it increase to fast).\r\n\r\n    this._nextStyleNameId = getRandomIdBase();\r\n  }\r\n\r\n  TooltipMarkupStyleCreator.prototype._generateStyleName = function () {\r\n    return '__EC_aUTo_' + this._nextStyleNameId++;\r\n  };\r\n\r\n  TooltipMarkupStyleCreator.prototype.makeTooltipMarker = function (markerType, colorStr, renderMode) {\r\n    var markerId = renderMode === 'richText' ? this._generateStyleName() : null;\r\n    var marker = getTooltipMarker({\r\n      color: colorStr,\r\n      type: markerType,\r\n      renderMode: renderMode,\r\n      markerId: markerId\r\n    });\r\n\r\n    if (isString(marker)) {\r\n      return marker;\r\n    } else {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        assert(markerId);\r\n      }\r\n\r\n      this.richTextStyles[markerId] = marker.style;\r\n      return marker.content;\r\n    }\r\n  };\r\n  /**\r\n   * @usage\r\n   * ```ts\r\n   * const styledText = markupStyleCreator.wrapRichTextStyle([\r\n   *     // The styles will be auto merged.\r\n   *     {\r\n   *         fontSize: 12,\r\n   *         color: 'blue'\r\n   *     },\r\n   *     {\r\n   *         padding: 20\r\n   *     }\r\n   * ]);\r\n   * ```\r\n   */\r\n\r\n\r\n  TooltipMarkupStyleCreator.prototype.wrapRichTextStyle = function (text, styles) {\r\n    var finalStl = {};\r\n\r\n    if (isArray(styles)) {\r\n      each(styles, function (stl) {\r\n        return extend(finalStl, stl);\r\n      });\r\n    } else {\r\n      extend(finalStl, styles);\r\n    }\r\n\r\n    var styleName = this._generateStyleName();\r\n\r\n    this.richTextStyles[styleName] = finalStl;\r\n    return \"{\" + styleName + \"|\" + text + \"}\";\r\n  };\r\n\r\n  return TooltipMarkupStyleCreator;\r\n}();\r\n\r\nexport { TooltipMarkupStyleCreator };", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { trim, isArray, each, reduce } from 'zrender/lib/core/util.js';\r\nimport { retrieveVisualColorForTooltipMarker, createTooltipMarkup } from './tooltipMarkup.js';\r\nimport { retrieveRawValue } from '../../data/helper/dataProvider.js';\r\nimport { isNameSpecified } from '../../util/model.js';\r\nexport function defaultSeriesFormatTooltip(opt) {\r\n  var series = opt.series;\r\n  var dataIndex = opt.dataIndex;\r\n  var multipleSeries = opt.multipleSeries;\r\n  var data = series.getData();\r\n  var tooltipDims = data.mapDimensionsAll('defaultedTooltip');\r\n  var tooltipDimLen = tooltipDims.length;\r\n  var value = series.getRawValue(dataIndex);\r\n  var isValueArr = isArray(value);\r\n  var markerColor = retrieveVisualColorForTooltipMarker(series, dataIndex); // Complicated rule for pretty tooltip.\r\n\r\n  var inlineValue;\r\n  var inlineValueType;\r\n  var subBlocks;\r\n  var sortParam;\r\n\r\n  if (tooltipDimLen > 1 || isValueArr && !tooltipDimLen) {\r\n    var formatArrResult = formatTooltipArrayValue(value, series, dataIndex, tooltipDims, markerColor);\r\n    inlineValue = formatArrResult.inlineValues;\r\n    inlineValueType = formatArrResult.inlineValueTypes;\r\n    subBlocks = formatArrResult.blocks; // Only support tooltip sort by the first inline value. It's enough in most cases.\r\n\r\n    sortParam = formatArrResult.inlineValues[0];\r\n  } else if (tooltipDimLen) {\r\n    var dimInfo = data.getDimensionInfo(tooltipDims[0]);\r\n    sortParam = inlineValue = retrieveRawValue(data, dataIndex, tooltipDims[0]);\r\n    inlineValueType = dimInfo.type;\r\n  } else {\r\n    sortParam = inlineValue = isValueArr ? value[0] : value;\r\n  } // Do not show generated series name. It might not be readable.\r\n\r\n\r\n  var seriesNameSpecified = isNameSpecified(series);\r\n  var seriesName = seriesNameSpecified && series.name || '';\r\n  var itemName = data.getName(dataIndex);\r\n  var inlineName = multipleSeries ? seriesName : itemName;\r\n  return createTooltipMarkup('section', {\r\n    header: seriesName,\r\n    // When series name is not specified, do not show a header line with only '-'.\r\n    // This case always happens in tooltip.trigger: 'item'.\r\n    noHeader: multipleSeries || !seriesNameSpecified,\r\n    sortParam: sortParam,\r\n    blocks: [createTooltipMarkup('nameValue', {\r\n      markerType: 'item',\r\n      markerColor: markerColor,\r\n      // Do not mix display seriesName and itemName in one tooltip,\r\n      // which might confuses users.\r\n      name: inlineName,\r\n      // name dimension might be auto assigned, where the name might\r\n      // be not readable. So we check trim here.\r\n      noName: !trim(inlineName),\r\n      value: inlineValue,\r\n      valueType: inlineValueType\r\n    })].concat(subBlocks || [])\r\n  });\r\n}\r\n\r\nfunction formatTooltipArrayValue(value, series, dataIndex, tooltipDims, colorStr) {\r\n  // check: category-no-encode-has-axis-data in dataset.html\r\n  var data = series.getData();\r\n  var isValueMultipleLine = reduce(value, function (isValueMultipleLine, val, idx) {\r\n    var dimItem = data.getDimensionInfo(idx);\r\n    return isValueMultipleLine = isValueMultipleLine || dimItem && dimItem.tooltip !== false && dimItem.displayName != null;\r\n  }, false);\r\n  var inlineValues = [];\r\n  var inlineValueTypes = [];\r\n  var blocks = [];\r\n  tooltipDims.length ? each(tooltipDims, function (dim) {\r\n    setEachItem(retrieveRawValue(data, dataIndex, dim), dim);\r\n  }) // By default, all dims is used on tooltip.\r\n  : each(value, setEachItem);\r\n\r\n  function setEachItem(val, dim) {\r\n    var dimInfo = data.getDimensionInfo(dim); // If `dimInfo.tooltip` is not set, show tooltip.\r\n\r\n    if (!dimInfo || dimInfo.otherDims.tooltip === false) {\r\n      return;\r\n    }\r\n\r\n    if (isValueMultipleLine) {\r\n      blocks.push(createTooltipMarkup('nameValue', {\r\n        markerType: 'subItem',\r\n        markerColor: colorStr,\r\n        name: dimInfo.displayName,\r\n        value: val,\r\n        valueType: dimInfo.type\r\n      }));\r\n    } else {\r\n      inlineValues.push(val);\r\n      inlineValueTypes.push(dimInfo.type);\r\n    }\r\n  }\r\n\r\n  return {\r\n    inlineValues: inlineValues,\r\n    inlineValueTypes: inlineValueTypes,\r\n    blocks: blocks\r\n  };\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport env from 'zrender/lib/core/env.js';\r\nimport * as modelUtil from '../util/model.js';\r\nimport ComponentModel from './Component.js';\r\nimport { PaletteMixin } from './mixin/palette.js';\r\nimport { DataFormatMixin } from '../model/mixin/dataFormat.js';\r\nimport { getLayoutParams, mergeLayoutParam, fetchLayoutMode } from '../util/layout.js';\r\nimport { createTask } from '../core/task.js';\r\nimport { mountExtend } from '../util/clazz.js';\r\nimport { SourceManager } from '../data/helper/sourceManager.js';\r\nimport { defaultSeriesFormatTooltip } from '../component/tooltip/seriesFormatTooltip.js';\r\nvar inner = modelUtil.makeInner();\r\n\r\nfunction getSelectionKey(data, dataIndex) {\r\n  return data.getName(dataIndex) || data.getId(dataIndex);\r\n}\r\n\r\nexport var SERIES_UNIVERSAL_TRANSITION_PROP = '__universalTransitionEnabled';\r\n\r\nvar SeriesModel =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(SeriesModel, _super);\r\n\r\n  function SeriesModel() {\r\n    // [Caution]: Because this class or desecendants can be used as `XXX.extend(subProto)`,\r\n    // the class members must not be initialized in constructor or declaration place.\r\n    // Otherwise there is bad case:\r\n    //   class A {xxx = 1;}\r\n    //   enableClassExtend(A);\r\n    //   class B extends A {}\r\n    //   var C = B.extend({xxx: 5});\r\n    //   var c = new C();\r\n    //   console.log(c.xxx); // expect 5 but always 1.\r\n    var _this = _super !== null && _super.apply(this, arguments) || this; // ---------------------------------------\r\n    // Props about data selection\r\n    // ---------------------------------------\r\n\r\n\r\n    _this._selectedDataIndicesMap = {};\r\n    return _this;\r\n  }\r\n\r\n  SeriesModel.prototype.init = function (option, parentModel, ecModel) {\r\n    this.seriesIndex = this.componentIndex;\r\n    this.dataTask = createTask({\r\n      count: dataTaskCount,\r\n      reset: dataTaskReset\r\n    });\r\n    this.dataTask.context = {\r\n      model: this\r\n    };\r\n    this.mergeDefaultAndTheme(option, ecModel);\r\n    var sourceManager = inner(this).sourceManager = new SourceManager(this);\r\n    sourceManager.prepareSource();\r\n    var data = this.getInitialData(option, ecModel);\r\n    wrapData(data, this);\r\n    this.dataTask.context.data = data;\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      zrUtil.assert(data, 'getInitialData returned invalid data.');\r\n    }\r\n\r\n    inner(this).dataBeforeProcessed = data; // If we reverse the order (make data firstly, and then make\r\n    // dataBeforeProcessed by cloneShallow), cloneShallow will\r\n    // cause data.graph.data !== data when using\r\n    // module:echarts/data/Graph or module:echarts/data/Tree.\r\n    // See module:echarts/data/helper/linkSeriesData\r\n    // Theoretically, it is unreasonable to call `seriesModel.getData()` in the model\r\n    // init or merge stage, because the data can be restored. So we do not `restoreData`\r\n    // and `setData` here, which forbids calling `seriesModel.getData()` in this stage.\r\n    // Call `seriesModel.getRawData()` instead.\r\n    // this.restoreData();\r\n\r\n    autoSeriesName(this);\r\n\r\n    this._initSelectedMapFromData(data);\r\n  };\r\n  /**\r\n   * Util for merge default and theme to option\r\n   */\r\n\r\n\r\n  SeriesModel.prototype.mergeDefaultAndTheme = function (option, ecModel) {\r\n    var layoutMode = fetchLayoutMode(this);\r\n    var inputPositionParams = layoutMode ? getLayoutParams(option) : {}; // Backward compat: using subType on theme.\r\n    // But if name duplicate between series subType\r\n    // (for example: parallel) add component mainType,\r\n    // add suffix 'Series'.\r\n\r\n    var themeSubType = this.subType;\r\n\r\n    if (ComponentModel.hasClass(themeSubType)) {\r\n      themeSubType += 'Series';\r\n    }\r\n\r\n    zrUtil.merge(option, ecModel.getTheme().get(this.subType));\r\n    zrUtil.merge(option, this.getDefaultOption()); // Default label emphasis `show`\r\n\r\n    modelUtil.defaultEmphasis(option, 'label', ['show']);\r\n    this.fillDataTextStyle(option.data);\r\n\r\n    if (layoutMode) {\r\n      mergeLayoutParam(option, inputPositionParams, layoutMode);\r\n    }\r\n  };\r\n\r\n  SeriesModel.prototype.mergeOption = function (newSeriesOption, ecModel) {\r\n    // this.settingTask.dirty();\r\n    newSeriesOption = zrUtil.merge(this.option, newSeriesOption, true);\r\n    this.fillDataTextStyle(newSeriesOption.data);\r\n    var layoutMode = fetchLayoutMode(this);\r\n\r\n    if (layoutMode) {\r\n      mergeLayoutParam(this.option, newSeriesOption, layoutMode);\r\n    }\r\n\r\n    var sourceManager = inner(this).sourceManager;\r\n    sourceManager.dirty();\r\n    sourceManager.prepareSource();\r\n    var data = this.getInitialData(newSeriesOption, ecModel);\r\n    wrapData(data, this);\r\n    this.dataTask.dirty();\r\n    this.dataTask.context.data = data;\r\n    inner(this).dataBeforeProcessed = data;\r\n    autoSeriesName(this);\r\n\r\n    this._initSelectedMapFromData(data);\r\n  };\r\n\r\n  SeriesModel.prototype.fillDataTextStyle = function (data) {\r\n    // Default data label emphasis `show`\r\n    // FIXME Tree structure data ?\r\n    // FIXME Performance ?\r\n    if (data && !zrUtil.isTypedArray(data)) {\r\n      var props = ['show'];\r\n\r\n      for (var i = 0; i < data.length; i++) {\r\n        if (data[i] && data[i].label) {\r\n          modelUtil.defaultEmphasis(data[i], 'label', props);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  /**\r\n   * Init a data structure from data related option in series\r\n   * Must be overridden.\r\n   */\r\n\r\n\r\n  SeriesModel.prototype.getInitialData = function (option, ecModel) {\r\n    return;\r\n  };\r\n  /**\r\n   * Append data to list\r\n   */\r\n\r\n\r\n  SeriesModel.prototype.appendData = function (params) {\r\n    // FIXME ???\r\n    // (1) If data from dataset, forbidden append.\r\n    // (2) support append data of dataset.\r\n    var data = this.getRawData();\r\n    data.appendData(params.data);\r\n  };\r\n  /**\r\n   * Consider some method like `filter`, `map` need make new data,\r\n   * We should make sure that `seriesModel.getData()` get correct\r\n   * data in the stream procedure. So we fetch data from upstream\r\n   * each time `task.perform` called.\r\n   */\r\n\r\n\r\n  SeriesModel.prototype.getData = function (dataType) {\r\n    var task = getCurrentTask(this);\r\n\r\n    if (task) {\r\n      var data = task.context.data;\r\n      return dataType == null ? data : data.getLinkedData(dataType);\r\n    } else {\r\n      // When series is not alive (that may happen when click toolbox\r\n      // restore or setOption with not merge mode), series data may\r\n      // be still need to judge animation or something when graphic\r\n      // elements want to know whether fade out.\r\n      return inner(this).data;\r\n    }\r\n  };\r\n\r\n  SeriesModel.prototype.getAllData = function () {\r\n    var mainData = this.getData();\r\n    return mainData && mainData.getLinkedDataAll ? mainData.getLinkedDataAll() : [{\r\n      data: mainData\r\n    }];\r\n  };\r\n\r\n  SeriesModel.prototype.setData = function (data) {\r\n    var task = getCurrentTask(this);\r\n\r\n    if (task) {\r\n      var context = task.context; // Consider case: filter, data sample.\r\n      // FIXME:TS never used, so comment it\r\n      // if (context.data !== data && task.modifyOutputEnd) {\r\n      //     task.setOutputEnd(data.count());\r\n      // }\r\n\r\n      context.outputData = data; // Caution: setData should update context.data,\r\n      // Because getData may be called multiply in a\r\n      // single stage and expect to get the data just\r\n      // set. (For example, AxisProxy, x y both call\r\n      // getData and setDate sequentially).\r\n      // So the context.data should be fetched from\r\n      // upstream each time when a stage starts to be\r\n      // performed.\r\n\r\n      if (task !== this.dataTask) {\r\n        context.data = data;\r\n      }\r\n    }\r\n\r\n    inner(this).data = data;\r\n  };\r\n\r\n  SeriesModel.prototype.getEncode = function () {\r\n    var encode = this.get('encode', true);\r\n\r\n    if (encode) {\r\n      return zrUtil.createHashMap(encode);\r\n    }\r\n  };\r\n\r\n  SeriesModel.prototype.getSourceManager = function () {\r\n    return inner(this).sourceManager;\r\n  };\r\n\r\n  SeriesModel.prototype.getSource = function () {\r\n    return this.getSourceManager().getSource();\r\n  };\r\n  /**\r\n   * Get data before processed\r\n   */\r\n\r\n\r\n  SeriesModel.prototype.getRawData = function () {\r\n    return inner(this).dataBeforeProcessed;\r\n  };\r\n\r\n  SeriesModel.prototype.getColorBy = function () {\r\n    var colorBy = this.get('colorBy');\r\n    return colorBy || 'series';\r\n  };\r\n\r\n  SeriesModel.prototype.isColorBySeries = function () {\r\n    return this.getColorBy() === 'series';\r\n  };\r\n  /**\r\n   * Get base axis if has coordinate system and has axis.\r\n   * By default use coordSys.getBaseAxis();\r\n   * Can be overridden for some chart.\r\n   * @return {type} description\r\n   */\r\n\r\n\r\n  SeriesModel.prototype.getBaseAxis = function () {\r\n    var coordSys = this.coordinateSystem; // @ts-ignore\r\n\r\n    return coordSys && coordSys.getBaseAxis && coordSys.getBaseAxis();\r\n  };\r\n  /**\r\n   * Default tooltip formatter\r\n   *\r\n   * @param dataIndex\r\n   * @param multipleSeries\r\n   * @param dataType\r\n   * @param renderMode valid values: 'html'(by default) and 'richText'.\r\n   *        'html' is used for rendering tooltip in extra DOM form, and the result\r\n   *        string is used as DOM HTML content.\r\n   *        'richText' is used for rendering tooltip in rich text form, for those where\r\n   *        DOM operation is not supported.\r\n   * @return formatted tooltip with `html` and `markers`\r\n   *        Notice: The override method can also return string\r\n   */\r\n\r\n\r\n  SeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\r\n    return defaultSeriesFormatTooltip({\r\n      series: this,\r\n      dataIndex: dataIndex,\r\n      multipleSeries: multipleSeries\r\n    });\r\n  };\r\n\r\n  SeriesModel.prototype.isAnimationEnabled = function () {\r\n    var ecModel = this.ecModel; // Disable animation if using echarts in node but not give ssr flag.\r\n    // In ssr mode, renderToString will generate svg with css animation.\r\n\r\n    if (env.node && !(ecModel && ecModel.ssr)) {\r\n      return false;\r\n    }\r\n\r\n    var animationEnabled = this.getShallow('animation');\r\n\r\n    if (animationEnabled) {\r\n      if (this.getData().count() > this.getShallow('animationThreshold')) {\r\n        animationEnabled = false;\r\n      }\r\n    }\r\n\r\n    return !!animationEnabled;\r\n  };\r\n\r\n  SeriesModel.prototype.restoreData = function () {\r\n    this.dataTask.dirty();\r\n  };\r\n\r\n  SeriesModel.prototype.getColorFromPalette = function (name, scope, requestColorNum) {\r\n    var ecModel = this.ecModel; // PENDING\r\n\r\n    var color = PaletteMixin.prototype.getColorFromPalette.call(this, name, scope, requestColorNum);\r\n\r\n    if (!color) {\r\n      color = ecModel.getColorFromPalette(name, scope, requestColorNum);\r\n    }\r\n\r\n    return color;\r\n  };\r\n  /**\r\n   * Use `data.mapDimensionsAll(coordDim)` instead.\r\n   * @deprecated\r\n   */\r\n\r\n\r\n  SeriesModel.prototype.coordDimToDataDim = function (coordDim) {\r\n    return this.getRawData().mapDimensionsAll(coordDim);\r\n  };\r\n  /**\r\n   * Get progressive rendering count each step\r\n   */\r\n\r\n\r\n  SeriesModel.prototype.getProgressive = function () {\r\n    return this.get('progressive');\r\n  };\r\n  /**\r\n   * Get progressive rendering count each step\r\n   */\r\n\r\n\r\n  SeriesModel.prototype.getProgressiveThreshold = function () {\r\n    return this.get('progressiveThreshold');\r\n  }; // PENGING If selectedMode is null ?\r\n\r\n\r\n  SeriesModel.prototype.select = function (innerDataIndices, dataType) {\r\n    this._innerSelect(this.getData(dataType), innerDataIndices);\r\n  };\r\n\r\n  SeriesModel.prototype.unselect = function (innerDataIndices, dataType) {\r\n    var selectedMap = this.option.selectedMap;\r\n\r\n    if (!selectedMap) {\r\n      return;\r\n    }\r\n\r\n    var selectedMode = this.option.selectedMode;\r\n    var data = this.getData(dataType);\r\n\r\n    if (selectedMode === 'series' || selectedMap === 'all') {\r\n      this.option.selectedMap = {};\r\n      this._selectedDataIndicesMap = {};\r\n      return;\r\n    }\r\n\r\n    for (var i = 0; i < innerDataIndices.length; i++) {\r\n      var dataIndex = innerDataIndices[i];\r\n      var nameOrId = getSelectionKey(data, dataIndex);\r\n      selectedMap[nameOrId] = false;\r\n      this._selectedDataIndicesMap[nameOrId] = -1;\r\n    }\r\n  };\r\n\r\n  SeriesModel.prototype.toggleSelect = function (innerDataIndices, dataType) {\r\n    var tmpArr = [];\r\n\r\n    for (var i = 0; i < innerDataIndices.length; i++) {\r\n      tmpArr[0] = innerDataIndices[i];\r\n      this.isSelected(innerDataIndices[i], dataType) ? this.unselect(tmpArr, dataType) : this.select(tmpArr, dataType);\r\n    }\r\n  };\r\n\r\n  SeriesModel.prototype.getSelectedDataIndices = function () {\r\n    if (this.option.selectedMap === 'all') {\r\n      return [].slice.call(this.getData().getIndices());\r\n    }\r\n\r\n    var selectedDataIndicesMap = this._selectedDataIndicesMap;\r\n    var nameOrIds = zrUtil.keys(selectedDataIndicesMap);\r\n    var dataIndices = [];\r\n\r\n    for (var i = 0; i < nameOrIds.length; i++) {\r\n      var dataIndex = selectedDataIndicesMap[nameOrIds[i]];\r\n\r\n      if (dataIndex >= 0) {\r\n        dataIndices.push(dataIndex);\r\n      }\r\n    }\r\n\r\n    return dataIndices;\r\n  };\r\n\r\n  SeriesModel.prototype.isSelected = function (dataIndex, dataType) {\r\n    var selectedMap = this.option.selectedMap;\r\n\r\n    if (!selectedMap) {\r\n      return false;\r\n    }\r\n\r\n    var data = this.getData(dataType);\r\n    return (selectedMap === 'all' || selectedMap[getSelectionKey(data, dataIndex)]) && !data.getItemModel(dataIndex).get(['select', 'disabled']);\r\n  };\r\n\r\n  SeriesModel.prototype.isUniversalTransitionEnabled = function () {\r\n    if (this[SERIES_UNIVERSAL_TRANSITION_PROP]) {\r\n      return true;\r\n    }\r\n\r\n    var universalTransitionOpt = this.option.universalTransition; // Quick reject\r\n\r\n    if (!universalTransitionOpt) {\r\n      return false;\r\n    }\r\n\r\n    if (universalTransitionOpt === true) {\r\n      return true;\r\n    } // Can be simply 'universalTransition: true'\r\n\r\n\r\n    return universalTransitionOpt && universalTransitionOpt.enabled;\r\n  };\r\n\r\n  SeriesModel.prototype._innerSelect = function (data, innerDataIndices) {\r\n    var _a, _b;\r\n\r\n    var option = this.option;\r\n    var selectedMode = option.selectedMode;\r\n    var len = innerDataIndices.length;\r\n\r\n    if (!selectedMode || !len) {\r\n      return;\r\n    }\r\n\r\n    if (selectedMode === 'series') {\r\n      option.selectedMap = 'all';\r\n    } else if (selectedMode === 'multiple') {\r\n      if (!zrUtil.isObject(option.selectedMap)) {\r\n        option.selectedMap = {};\r\n      }\r\n\r\n      var selectedMap = option.selectedMap;\r\n\r\n      for (var i = 0; i < len; i++) {\r\n        var dataIndex = innerDataIndices[i]; // TODO different types of data share same object.\r\n\r\n        var nameOrId = getSelectionKey(data, dataIndex);\r\n        selectedMap[nameOrId] = true;\r\n        this._selectedDataIndicesMap[nameOrId] = data.getRawIndex(dataIndex);\r\n      }\r\n    } else if (selectedMode === 'single' || selectedMode === true) {\r\n      var lastDataIndex = innerDataIndices[len - 1];\r\n      var nameOrId = getSelectionKey(data, lastDataIndex);\r\n      option.selectedMap = (_a = {}, _a[nameOrId] = true, _a);\r\n      this._selectedDataIndicesMap = (_b = {}, _b[nameOrId] = data.getRawIndex(lastDataIndex), _b);\r\n    }\r\n  };\r\n\r\n  SeriesModel.prototype._initSelectedMapFromData = function (data) {\r\n    // Ignore select info in data if selectedMap exists.\r\n    // NOTE It's only for legacy usage. edge data is not supported.\r\n    if (this.option.selectedMap) {\r\n      return;\r\n    }\r\n\r\n    var dataIndices = [];\r\n\r\n    if (data.hasItemOption) {\r\n      data.each(function (idx) {\r\n        var rawItem = data.getRawDataItem(idx);\r\n\r\n        if (rawItem && rawItem.selected) {\r\n          dataIndices.push(idx);\r\n        }\r\n      });\r\n    }\r\n\r\n    if (dataIndices.length > 0) {\r\n      this._innerSelect(data, dataIndices);\r\n    }\r\n  }; // /**\r\n  //  * @see {module:echarts/stream/Scheduler}\r\n  //  */\r\n  // abstract pipeTask: null\r\n\r\n\r\n  SeriesModel.registerClass = function (clz) {\r\n    return ComponentModel.registerClass(clz);\r\n  };\r\n\r\n  SeriesModel.protoInitialize = function () {\r\n    var proto = SeriesModel.prototype;\r\n    proto.type = 'series.__base__';\r\n    proto.seriesIndex = 0;\r\n    proto.ignoreStyleOnData = false;\r\n    proto.hasSymbolVisual = false;\r\n    proto.defaultSymbol = 'circle'; // Make sure the values can be accessed!\r\n\r\n    proto.visualStyleAccessPath = 'itemStyle';\r\n    proto.visualDrawType = 'fill';\r\n  }();\r\n\r\n  return SeriesModel;\r\n}(ComponentModel);\r\n\r\nzrUtil.mixin(SeriesModel, DataFormatMixin);\r\nzrUtil.mixin(SeriesModel, PaletteMixin);\r\nmountExtend(SeriesModel, ComponentModel);\r\n/**\r\n * MUST be called after `prepareSource` called\r\n * Here we need to make auto series, especially for auto legend. But we\r\n * do not modify series.name in option to avoid side effects.\r\n */\r\n\r\nfunction autoSeriesName(seriesModel) {\r\n  // User specified name has higher priority, otherwise it may cause\r\n  // series can not be queried unexpectedly.\r\n  var name = seriesModel.name;\r\n\r\n  if (!modelUtil.isNameSpecified(seriesModel)) {\r\n    seriesModel.name = getSeriesAutoName(seriesModel) || name;\r\n  }\r\n}\r\n\r\nfunction getSeriesAutoName(seriesModel) {\r\n  var data = seriesModel.getRawData();\r\n  var dataDims = data.mapDimensionsAll('seriesName');\r\n  var nameArr = [];\r\n  zrUtil.each(dataDims, function (dataDim) {\r\n    var dimInfo = data.getDimensionInfo(dataDim);\r\n    dimInfo.displayName && nameArr.push(dimInfo.displayName);\r\n  });\r\n  return nameArr.join(' ');\r\n}\r\n\r\nfunction dataTaskCount(context) {\r\n  return context.model.getRawData().count();\r\n}\r\n\r\nfunction dataTaskReset(context) {\r\n  var seriesModel = context.model;\r\n  seriesModel.setData(seriesModel.getRawData().cloneShallow());\r\n  return dataTaskProgress;\r\n}\r\n\r\nfunction dataTaskProgress(param, context) {\r\n  // Avoid repeat cloneShallow when data just created in reset.\r\n  if (context.outputData && param.end > context.outputData.count()) {\r\n    context.model.getRawData().cloneShallow(context.outputData);\r\n  }\r\n} // TODO refactor\r\n\r\n\r\nfunction wrapData(data, seriesModel) {\r\n  zrUtil.each(zrUtil.concatArray(data.CHANGABLE_METHODS, data.DOWNSAMPLE_METHODS), function (methodName) {\r\n    data.wrapMethod(methodName, zrUtil.curry(onDataChange, seriesModel));\r\n  });\r\n}\r\n\r\nfunction onDataChange(seriesModel, newList) {\r\n  var task = getCurrentTask(seriesModel);\r\n\r\n  if (task) {\r\n    // Consider case: filter, selectRange\r\n    task.setOutputEnd((newList || this).count());\r\n  }\r\n\r\n  return newList;\r\n}\r\n\r\nfunction getCurrentTask(seriesModel) {\r\n  var scheduler = (seriesModel.ecModel || {}).scheduler;\r\n  var pipeline = scheduler && scheduler.getPipeline(seriesModel.uid);\r\n\r\n  if (pipeline) {\r\n    // When pipline finished, the currrentTask keep the last\r\n    // task (renderTask).\r\n    var task = pipeline.currentTask;\r\n\r\n    if (task) {\r\n      var agentStubMap = task.agentStubMap;\r\n\r\n      if (agentStubMap) {\r\n        task = agentStubMap.get(seriesModel.uid);\r\n      }\r\n    }\r\n\r\n    return task;\r\n  }\r\n}\r\n\r\nexport default SeriesModel;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nfunction dataIndexMapValueLength(valNumOrArrLengthMoreThan2) {\r\n  return valNumOrArrLengthMoreThan2 == null ? 0 : valNumOrArrLengthMoreThan2.length || 1;\r\n}\r\n\r\nfunction defaultKeyGetter(item) {\r\n  return item;\r\n}\r\n\r\nvar DataDiffer =\r\n/** @class */\r\nfunction () {\r\n  /**\r\n   * @param context Can be visited by this.context in callback.\r\n   */\r\n  function DataDiffer(oldArr, newArr, oldKeyGetter, newKeyGetter, context, // By default: 'oneToOne'.\r\n  diffMode) {\r\n    this._old = oldArr;\r\n    this._new = newArr;\r\n    this._oldKeyGetter = oldKeyGetter || defaultKeyGetter;\r\n    this._newKeyGetter = newKeyGetter || defaultKeyGetter; // Visible in callback via `this.context`;\r\n\r\n    this.context = context;\r\n    this._diffModeMultiple = diffMode === 'multiple';\r\n  }\r\n  /**\r\n   * Callback function when add a data\r\n   */\r\n\r\n\r\n  DataDiffer.prototype.add = function (func) {\r\n    this._add = func;\r\n    return this;\r\n  };\r\n  /**\r\n   * Callback function when update a data\r\n   */\r\n\r\n\r\n  DataDiffer.prototype.update = function (func) {\r\n    this._update = func;\r\n    return this;\r\n  };\r\n  /**\r\n   * Callback function when update a data and only work in `cbMode: 'byKey'`.\r\n   */\r\n\r\n\r\n  DataDiffer.prototype.updateManyToOne = function (func) {\r\n    this._updateManyToOne = func;\r\n    return this;\r\n  };\r\n  /**\r\n   * Callback function when update a data and only work in `cbMode: 'byKey'`.\r\n   */\r\n\r\n\r\n  DataDiffer.prototype.updateOneToMany = function (func) {\r\n    this._updateOneToMany = func;\r\n    return this;\r\n  };\r\n  /**\r\n   * Callback function when update a data and only work in `cbMode: 'byKey'`.\r\n   */\r\n\r\n\r\n  DataDiffer.prototype.updateManyToMany = function (func) {\r\n    this._updateManyToMany = func;\r\n    return this;\r\n  };\r\n  /**\r\n   * Callback function when remove a data\r\n   */\r\n\r\n\r\n  DataDiffer.prototype.remove = function (func) {\r\n    this._remove = func;\r\n    return this;\r\n  };\r\n\r\n  DataDiffer.prototype.execute = function () {\r\n    this[this._diffModeMultiple ? '_executeMultiple' : '_executeOneToOne']();\r\n  };\r\n\r\n  DataDiffer.prototype._executeOneToOne = function () {\r\n    var oldArr = this._old;\r\n    var newArr = this._new;\r\n    var newDataIndexMap = {};\r\n    var oldDataKeyArr = new Array(oldArr.length);\r\n    var newDataKeyArr = new Array(newArr.length);\r\n\r\n    this._initIndexMap(oldArr, null, oldDataKeyArr, '_oldKeyGetter');\r\n\r\n    this._initIndexMap(newArr, newDataIndexMap, newDataKeyArr, '_newKeyGetter');\r\n\r\n    for (var i = 0; i < oldArr.length; i++) {\r\n      var oldKey = oldDataKeyArr[i];\r\n      var newIdxMapVal = newDataIndexMap[oldKey];\r\n      var newIdxMapValLen = dataIndexMapValueLength(newIdxMapVal); // idx can never be empty array here. see 'set null' logic below.\r\n\r\n      if (newIdxMapValLen > 1) {\r\n        // Consider there is duplicate key (for example, use dataItem.name as key).\r\n        // We should make sure every item in newArr and oldArr can be visited.\r\n        var newIdx = newIdxMapVal.shift();\r\n\r\n        if (newIdxMapVal.length === 1) {\r\n          newDataIndexMap[oldKey] = newIdxMapVal[0];\r\n        }\r\n\r\n        this._update && this._update(newIdx, i);\r\n      } else if (newIdxMapValLen === 1) {\r\n        newDataIndexMap[oldKey] = null;\r\n        this._update && this._update(newIdxMapVal, i);\r\n      } else {\r\n        this._remove && this._remove(i);\r\n      }\r\n    }\r\n\r\n    this._performRestAdd(newDataKeyArr, newDataIndexMap);\r\n  };\r\n  /**\r\n   * For example, consider the case:\r\n   * oldData: [o0, o1, o2, o3, o4, o5, o6, o7],\r\n   * newData: [n0, n1, n2, n3, n4, n5, n6, n7, n8],\r\n   * Where:\r\n   *     o0, o1, n0 has key 'a' (many to one)\r\n   *     o5, n4, n5, n6 has key 'b' (one to many)\r\n   *     o2, n1 has key 'c' (one to one)\r\n   *     n2, n3 has key 'd' (add)\r\n   *     o3, o4 has key 'e' (remove)\r\n   *     o6, o7, n7, n8 has key 'f' (many to many, treated as add and remove)\r\n   * Then:\r\n   *     (The order of the following directives are not ensured.)\r\n   *     this._updateManyToOne(n0, [o0, o1]);\r\n   *     this._updateOneToMany([n4, n5, n6], o5);\r\n   *     this._update(n1, o2);\r\n   *     this._remove(o3);\r\n   *     this._remove(o4);\r\n   *     this._remove(o6);\r\n   *     this._remove(o7);\r\n   *     this._add(n2);\r\n   *     this._add(n3);\r\n   *     this._add(n7);\r\n   *     this._add(n8);\r\n   */\r\n\r\n\r\n  DataDiffer.prototype._executeMultiple = function () {\r\n    var oldArr = this._old;\r\n    var newArr = this._new;\r\n    var oldDataIndexMap = {};\r\n    var newDataIndexMap = {};\r\n    var oldDataKeyArr = [];\r\n    var newDataKeyArr = [];\r\n\r\n    this._initIndexMap(oldArr, oldDataIndexMap, oldDataKeyArr, '_oldKeyGetter');\r\n\r\n    this._initIndexMap(newArr, newDataIndexMap, newDataKeyArr, '_newKeyGetter');\r\n\r\n    for (var i = 0; i < oldDataKeyArr.length; i++) {\r\n      var oldKey = oldDataKeyArr[i];\r\n      var oldIdxMapVal = oldDataIndexMap[oldKey];\r\n      var newIdxMapVal = newDataIndexMap[oldKey];\r\n      var oldIdxMapValLen = dataIndexMapValueLength(oldIdxMapVal);\r\n      var newIdxMapValLen = dataIndexMapValueLength(newIdxMapVal);\r\n\r\n      if (oldIdxMapValLen > 1 && newIdxMapValLen === 1) {\r\n        this._updateManyToOne && this._updateManyToOne(newIdxMapVal, oldIdxMapVal);\r\n        newDataIndexMap[oldKey] = null;\r\n      } else if (oldIdxMapValLen === 1 && newIdxMapValLen > 1) {\r\n        this._updateOneToMany && this._updateOneToMany(newIdxMapVal, oldIdxMapVal);\r\n        newDataIndexMap[oldKey] = null;\r\n      } else if (oldIdxMapValLen === 1 && newIdxMapValLen === 1) {\r\n        this._update && this._update(newIdxMapVal, oldIdxMapVal);\r\n        newDataIndexMap[oldKey] = null;\r\n      } else if (oldIdxMapValLen > 1 && newIdxMapValLen > 1) {\r\n        this._updateManyToMany && this._updateManyToMany(newIdxMapVal, oldIdxMapVal);\r\n        newDataIndexMap[oldKey] = null;\r\n      } else if (oldIdxMapValLen > 1) {\r\n        for (var i_1 = 0; i_1 < oldIdxMapValLen; i_1++) {\r\n          this._remove && this._remove(oldIdxMapVal[i_1]);\r\n        }\r\n      } else {\r\n        this._remove && this._remove(oldIdxMapVal);\r\n      }\r\n    }\r\n\r\n    this._performRestAdd(newDataKeyArr, newDataIndexMap);\r\n  };\r\n\r\n  DataDiffer.prototype._performRestAdd = function (newDataKeyArr, newDataIndexMap) {\r\n    for (var i = 0; i < newDataKeyArr.length; i++) {\r\n      var newKey = newDataKeyArr[i];\r\n      var newIdxMapVal = newDataIndexMap[newKey];\r\n      var idxMapValLen = dataIndexMapValueLength(newIdxMapVal);\r\n\r\n      if (idxMapValLen > 1) {\r\n        for (var j = 0; j < idxMapValLen; j++) {\r\n          this._add && this._add(newIdxMapVal[j]);\r\n        }\r\n      } else if (idxMapValLen === 1) {\r\n        this._add && this._add(newIdxMapVal);\r\n      } // Support both `newDataKeyArr` are duplication removed or not removed.\r\n\r\n\r\n      newDataIndexMap[newKey] = null;\r\n    }\r\n  };\r\n\r\n  DataDiffer.prototype._initIndexMap = function (arr, // Can be null.\r\n  map, // In 'byKey', the output `keyArr` is duplication removed.\r\n  // In 'byIndex', the output `keyArr` is not duplication removed and\r\n  //     its indices are accurately corresponding to `arr`.\r\n  keyArr, keyGetterName) {\r\n    var cbModeMultiple = this._diffModeMultiple;\r\n\r\n    for (var i = 0; i < arr.length; i++) {\r\n      // Add prefix to avoid conflict with Object.prototype.\r\n      var key = '_ec_' + this[keyGetterName](arr[i], i);\r\n\r\n      if (!cbModeMultiple) {\r\n        keyArr[i] = key;\r\n      }\r\n\r\n      if (!map) {\r\n        continue;\r\n      }\r\n\r\n      var idxMapVal = map[key];\r\n      var idxMapValLen = dataIndexMapValueLength(idxMapVal);\r\n\r\n      if (idxMapValLen === 0) {\r\n        // Simple optimize: in most cases, one index has one key,\r\n        // do not need array.\r\n        map[key] = i;\r\n\r\n        if (cbModeMultiple) {\r\n          keyArr.push(key);\r\n        }\r\n      } else if (idxMapValLen === 1) {\r\n        map[key] = [idxMapVal, i];\r\n      } else {\r\n        idxMapVal.push(i);\r\n      }\r\n    }\r\n  };\r\n\r\n  return DataDiffer;\r\n}();\r\n\r\nexport default DataDiffer;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { BoundingRect, OrientedBoundingRect } from '../util/graphic.js';\r\nexport function prepareLayoutList(input) {\r\n  var list = [];\r\n\r\n  for (var i = 0; i < input.length; i++) {\r\n    var rawItem = input[i];\r\n\r\n    if (rawItem.defaultAttr.ignore) {\r\n      continue;\r\n    }\r\n\r\n    var label = rawItem.label;\r\n    var transform = label.getComputedTransform(); // NOTE: Get bounding rect after getComputedTransform, or label may not been updated by the host el.\r\n\r\n    var localRect = label.getBoundingRect();\r\n    var isAxisAligned = !transform || transform[1] < 1e-5 && transform[2] < 1e-5;\r\n    var minMargin = label.style.margin || 0;\r\n    var globalRect = localRect.clone();\r\n    globalRect.applyTransform(transform);\r\n    globalRect.x -= minMargin / 2;\r\n    globalRect.y -= minMargin / 2;\r\n    globalRect.width += minMargin;\r\n    globalRect.height += minMargin;\r\n    var obb = isAxisAligned ? new OrientedBoundingRect(localRect, transform) : null;\r\n    list.push({\r\n      label: label,\r\n      labelLine: rawItem.labelLine,\r\n      rect: globalRect,\r\n      localRect: localRect,\r\n      obb: obb,\r\n      priority: rawItem.priority,\r\n      defaultAttr: rawItem.defaultAttr,\r\n      layoutOption: rawItem.computedLayoutOption,\r\n      axisAligned: isAxisAligned,\r\n      transform: transform\r\n    });\r\n  }\r\n\r\n  return list;\r\n}\r\n\r\nfunction shiftLayout(list, xyDim, sizeDim, minBound, maxBound, balanceShift) {\r\n  var len = list.length;\r\n\r\n  if (len < 2) {\r\n    return;\r\n  }\r\n\r\n  list.sort(function (a, b) {\r\n    return a.rect[xyDim] - b.rect[xyDim];\r\n  });\r\n  var lastPos = 0;\r\n  var delta;\r\n  var adjusted = false;\r\n  var shifts = [];\r\n  var totalShifts = 0;\r\n\r\n  for (var i = 0; i < len; i++) {\r\n    var item = list[i];\r\n    var rect = item.rect;\r\n    delta = rect[xyDim] - lastPos;\r\n\r\n    if (delta < 0) {\r\n      // shiftForward(i, len, -delta);\r\n      rect[xyDim] -= delta;\r\n      item.label[xyDim] -= delta;\r\n      adjusted = true;\r\n    }\r\n\r\n    var shift = Math.max(-delta, 0);\r\n    shifts.push(shift);\r\n    totalShifts += shift;\r\n    lastPos = rect[xyDim] + rect[sizeDim];\r\n  }\r\n\r\n  if (totalShifts > 0 && balanceShift) {\r\n    // Shift back to make the distribution more equally.\r\n    shiftList(-totalShifts / len, 0, len);\r\n  } // TODO bleedMargin?\r\n\r\n\r\n  var first = list[0];\r\n  var last = list[len - 1];\r\n  var minGap;\r\n  var maxGap;\r\n  updateMinMaxGap(); // If ends exceed two bounds, squeeze at most 80%, then take the gap of two bounds.\r\n\r\n  minGap < 0 && squeezeGaps(-minGap, 0.8);\r\n  maxGap < 0 && squeezeGaps(maxGap, 0.8);\r\n  updateMinMaxGap();\r\n  takeBoundsGap(minGap, maxGap, 1);\r\n  takeBoundsGap(maxGap, minGap, -1); // Handle bailout when there is not enough space.\r\n\r\n  updateMinMaxGap();\r\n\r\n  if (minGap < 0) {\r\n    squeezeWhenBailout(-minGap);\r\n  }\r\n\r\n  if (maxGap < 0) {\r\n    squeezeWhenBailout(maxGap);\r\n  }\r\n\r\n  function updateMinMaxGap() {\r\n    minGap = first.rect[xyDim] - minBound;\r\n    maxGap = maxBound - last.rect[xyDim] - last.rect[sizeDim];\r\n  }\r\n\r\n  function takeBoundsGap(gapThisBound, gapOtherBound, moveDir) {\r\n    if (gapThisBound < 0) {\r\n      // Move from other gap if can.\r\n      var moveFromMaxGap = Math.min(gapOtherBound, -gapThisBound);\r\n\r\n      if (moveFromMaxGap > 0) {\r\n        shiftList(moveFromMaxGap * moveDir, 0, len);\r\n        var remained = moveFromMaxGap + gapThisBound;\r\n\r\n        if (remained < 0) {\r\n          squeezeGaps(-remained * moveDir, 1);\r\n        }\r\n      } else {\r\n        squeezeGaps(-gapThisBound * moveDir, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  function shiftList(delta, start, end) {\r\n    if (delta !== 0) {\r\n      adjusted = true;\r\n    }\r\n\r\n    for (var i = start; i < end; i++) {\r\n      var item = list[i];\r\n      var rect = item.rect;\r\n      rect[xyDim] += delta;\r\n      item.label[xyDim] += delta;\r\n    }\r\n  } // Squeeze gaps if the labels exceed margin.\r\n\r\n\r\n  function squeezeGaps(delta, maxSqeezePercent) {\r\n    var gaps = [];\r\n    var totalGaps = 0;\r\n\r\n    for (var i = 1; i < len; i++) {\r\n      var prevItemRect = list[i - 1].rect;\r\n      var gap = Math.max(list[i].rect[xyDim] - prevItemRect[xyDim] - prevItemRect[sizeDim], 0);\r\n      gaps.push(gap);\r\n      totalGaps += gap;\r\n    }\r\n\r\n    if (!totalGaps) {\r\n      return;\r\n    }\r\n\r\n    var squeezePercent = Math.min(Math.abs(delta) / totalGaps, maxSqeezePercent);\r\n\r\n    if (delta > 0) {\r\n      for (var i = 0; i < len - 1; i++) {\r\n        // Distribute the shift delta to all gaps.\r\n        var movement = gaps[i] * squeezePercent; // Forward\r\n\r\n        shiftList(movement, 0, i + 1);\r\n      }\r\n    } else {\r\n      // Backward\r\n      for (var i = len - 1; i > 0; i--) {\r\n        // Distribute the shift delta to all gaps.\r\n        var movement = gaps[i - 1] * squeezePercent;\r\n        shiftList(-movement, i, len);\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * Squeeze to allow overlap if there is no more space available.\r\n   * Let other overlapping strategy like hideOverlap do the job instead of keep exceeding the bounds.\r\n   */\r\n\r\n\r\n  function squeezeWhenBailout(delta) {\r\n    var dir = delta < 0 ? -1 : 1;\r\n    delta = Math.abs(delta);\r\n    var moveForEachLabel = Math.ceil(delta / (len - 1));\r\n\r\n    for (var i = 0; i < len - 1; i++) {\r\n      if (dir > 0) {\r\n        // Forward\r\n        shiftList(moveForEachLabel, 0, i + 1);\r\n      } else {\r\n        // Backward\r\n        shiftList(-moveForEachLabel, len - i - 1, len);\r\n      }\r\n\r\n      delta -= moveForEachLabel;\r\n\r\n      if (delta <= 0) {\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  return adjusted;\r\n}\r\n/**\r\n * Adjust labels on x direction to avoid overlap.\r\n */\r\n\r\n\r\nexport function shiftLayoutOnX(list, leftBound, rightBound, // If average the shifts on all labels and add them to 0\r\n// TODO: Not sure if should enable it.\r\n// Pros: The angle of lines will distribute more equally\r\n// Cons: In some layout. It may not what user wanted. like in pie. the label of last sector is usually changed unexpectedly.\r\nbalanceShift) {\r\n  return shiftLayout(list, 'x', 'width', leftBound, rightBound, balanceShift);\r\n}\r\n/**\r\n * Adjust labels on y direction to avoid overlap.\r\n */\r\n\r\nexport function shiftLayoutOnY(list, topBound, bottomBound, // If average the shifts on all labels and add them to 0\r\nbalanceShift) {\r\n  return shiftLayout(list, 'y', 'height', topBound, bottomBound, balanceShift);\r\n}\r\nexport function hideOverlap(labelList) {\r\n  var displayedLabels = []; // TODO, render overflow visible first, put in the displayedLabels.\r\n\r\n  labelList.sort(function (a, b) {\r\n    return b.priority - a.priority;\r\n  });\r\n  var globalRect = new BoundingRect(0, 0, 0, 0);\r\n\r\n  function hideEl(el) {\r\n    if (!el.ignore) {\r\n      // Show on emphasis.\r\n      var emphasisState = el.ensureState('emphasis');\r\n\r\n      if (emphasisState.ignore == null) {\r\n        emphasisState.ignore = false;\r\n      }\r\n    }\r\n\r\n    el.ignore = true;\r\n  }\r\n\r\n  for (var i = 0; i < labelList.length; i++) {\r\n    var labelItem = labelList[i];\r\n    var isAxisAligned = labelItem.axisAligned;\r\n    var localRect = labelItem.localRect;\r\n    var transform = labelItem.transform;\r\n    var label = labelItem.label;\r\n    var labelLine = labelItem.labelLine;\r\n    globalRect.copy(labelItem.rect); // Add a threshold because layout may be aligned precisely.\r\n\r\n    globalRect.width -= 0.1;\r\n    globalRect.height -= 0.1;\r\n    globalRect.x += 0.05;\r\n    globalRect.y += 0.05;\r\n    var obb = labelItem.obb;\r\n    var overlapped = false;\r\n\r\n    for (var j = 0; j < displayedLabels.length; j++) {\r\n      var existsTextCfg = displayedLabels[j]; // Fast rejection.\r\n\r\n      if (!globalRect.intersect(existsTextCfg.rect)) {\r\n        continue;\r\n      }\r\n\r\n      if (isAxisAligned && existsTextCfg.axisAligned) {\r\n        // Is overlapped\r\n        overlapped = true;\r\n        break;\r\n      }\r\n\r\n      if (!existsTextCfg.obb) {\r\n        // If self is not axis aligned. But other is.\r\n        existsTextCfg.obb = new OrientedBoundingRect(existsTextCfg.localRect, existsTextCfg.transform);\r\n      }\r\n\r\n      if (!obb) {\r\n        // If self is axis aligned. But other is not.\r\n        obb = new OrientedBoundingRect(localRect, transform);\r\n      }\r\n\r\n      if (obb.intersect(existsTextCfg.obb)) {\r\n        overlapped = true;\r\n        break;\r\n      }\r\n    } // TODO Callback to determine if this overlap should be handled?\r\n\r\n\r\n    if (overlapped) {\r\n      hideEl(label);\r\n      labelLine && hideEl(labelLine);\r\n    } else {\r\n      label.attr('ignore', labelItem.defaultAttr.ignore);\r\n      labelLine && labelLine.attr('ignore', labelItem.defaultAttr.labelGuideIgnore);\r\n      displayedLabels.push(labelItem);\r\n    }\r\n  }\r\n}"],
  "mappings": "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",
  "names": ["i", "AreaStyleMixin", "e", "log", "max", "round", "lg", "printableStr", "map", "_a", "keys", "e", "isSeries", "_a", "dispatcher", "applyTransform", "mergePath", "subPixelOptimize", "subPixelOptimizeLine", "subPixelOptimizeRect", "m", "mathSqrt", "mathSqrt", "CMD", "SVGPath", "m", "Sub", "Group", "CircleShape", "Circle", "EllipseShape", "Ellipse", "PI", "PI2", "mathSin", "mathCos", "mathSqrt", "_a", "SectorShape", "Sector", "RingShape", "Ring", "PI2", "points", "min", "max", "clone", "buildPath", "points", "PolygonShape", "Polygon", "buildPath", "PolylineShape", "Polyline", "buildPath", "LineShape", "Line", "BezierCurveShape", "BezierCurve", "ArcShape", "Arc", "Gradient", "LinearGradient", "RadialGradient", "OrientedBoundingRect", "minTv", "maxTv", "out", "min", "max", "IncrementalDisplayable", "mathMax", "mathMin", "mergePath", "m", "subPixelOptimizeLine", "subPixelOptimizeRect", "subPixelOptimize", "applyTransform", "invert", "points", "labelStatesTexts", "TextStyleMixin", "LineStyleMixin", "ItemStyleMixin", "Model", "e", "m", "defaults", "normalizeCssArray", "m", "each", "normalizeCssArray", "out", "merge", "ComponentModel", "PaletteMixin", "inner", "idxResult", "val", "SourceImpl", "DefaultDataProvider", "out", "_a", "extent", "min", "max", "out", "DataFormatMixin", "isSeries", "Task", "e", "FilterOrderComparator", "SortOrderComparator", "FilterEqualityComparator", "ExternalSource", "errMsg", "DataStore", "dim", "min", "max", "min2", "max2", "SourceManager", "errMsg", "datasetModel", "subMarkupText", "_a", "TooltipMarkupStyleCreator", "isValueMultipleLine", "inner", "SeriesModel", "_a", "_b", "DataDiffer", "map", "delta", "i", "item", "rect"]
}
